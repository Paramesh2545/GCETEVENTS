function lN(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in r)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(r,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function f2(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var dp={exports:{}},pu={},hp={exports:{}},Et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy;function cN(){if(yy)return Et;yy=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.iterator;function v(Y){return Y===null||typeof Y!="object"?null:(Y=x&&Y[x]||Y["@@iterator"],typeof Y=="function"?Y:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function T(Y,se,W){this.props=Y,this.context=se,this.refs=w,this.updater=W||_}T.prototype.isReactComponent={},T.prototype.setState=function(Y,se){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,se,"setState")},T.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function j(){}j.prototype=T.prototype;function D(Y,se,W){this.props=Y,this.context=se,this.refs=w,this.updater=W||_}var L=D.prototype=new j;L.constructor=D,S(L,T.prototype),L.isPureReactComponent=!0;var M=Array.isArray,Z=Object.prototype.hasOwnProperty,Q={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function I(Y,se,W){var ee,J={},te=null,ce=null;if(se!=null)for(ee in se.ref!==void 0&&(ce=se.ref),se.key!==void 0&&(te=""+se.key),se)Z.call(se,ee)&&!N.hasOwnProperty(ee)&&(J[ee]=se[ee]);var be=arguments.length-2;if(be===1)J.children=W;else if(1<be){for(var Pe=Array(be),Me=0;Me<be;Me++)Pe[Me]=arguments[Me+2];J.children=Pe}if(Y&&Y.defaultProps)for(ee in be=Y.defaultProps,be)J[ee]===void 0&&(J[ee]=be[ee]);return{$$typeof:r,type:Y,key:te,ref:ce,props:J,_owner:Q.current}}function A(Y,se){return{$$typeof:r,type:Y.type,key:se,ref:Y.ref,props:Y.props,_owner:Y._owner}}function P(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===r}function F(Y){var se={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(W){return se[W]})}var V=/\/+/g;function O(Y,se){return typeof Y=="object"&&Y!==null&&Y.key!=null?F(""+Y.key):se.toString(36)}function $e(Y,se,W,ee,J){var te=typeof Y;(te==="undefined"||te==="boolean")&&(Y=null);var ce=!1;if(Y===null)ce=!0;else switch(te){case"string":case"number":ce=!0;break;case"object":switch(Y.$$typeof){case r:case e:ce=!0}}if(ce)return ce=Y,J=J(ce),Y=ee===""?"."+O(ce,0):ee,M(J)?(W="",Y!=null&&(W=Y.replace(V,"$&/")+"/"),$e(J,se,W,"",function(Me){return Me})):J!=null&&(P(J)&&(J=A(J,W+(!J.key||ce&&ce.key===J.key?"":(""+J.key).replace(V,"$&/")+"/")+Y)),se.push(J)),1;if(ce=0,ee=ee===""?".":ee+":",M(Y))for(var be=0;be<Y.length;be++){te=Y[be];var Pe=ee+O(te,be);ce+=$e(te,se,W,Pe,J)}else if(Pe=v(Y),typeof Pe=="function")for(Y=Pe.call(Y),be=0;!(te=Y.next()).done;)te=te.value,Pe=ee+O(te,be++),ce+=$e(te,se,W,Pe,J);else if(te==="object")throw se=String(Y),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.");return ce}function je(Y,se,W){if(Y==null)return Y;var ee=[],J=0;return $e(Y,ee,"","",function(te){return se.call(W,te,J++)}),ee}function Te(Y){if(Y._status===-1){var se=Y._result;se=se(),se.then(function(W){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=W)},function(W){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=W)}),Y._status===-1&&(Y._status=0,Y._result=se)}if(Y._status===1)return Y._result.default;throw Y._result}var Ge={current:null},Se={transition:null},pe={ReactCurrentDispatcher:Ge,ReactCurrentBatchConfig:Se,ReactCurrentOwner:Q};return Et.Children={map:je,forEach:function(Y,se,W){je(Y,function(){se.apply(this,arguments)},W)},count:function(Y){var se=0;return je(Y,function(){se++}),se},toArray:function(Y){return je(Y,function(se){return se})||[]},only:function(Y){if(!P(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},Et.Component=T,Et.Fragment=t,Et.Profiler=s,Et.PureComponent=D,Et.StrictMode=n,Et.Suspense=h,Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,Et.cloneElement=function(Y,se,W){if(Y==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Y+".");var ee=S({},Y.props),J=Y.key,te=Y.ref,ce=Y._owner;if(se!=null){if(se.ref!==void 0&&(te=se.ref,ce=Q.current),se.key!==void 0&&(J=""+se.key),Y.type&&Y.type.defaultProps)var be=Y.type.defaultProps;for(Pe in se)Z.call(se,Pe)&&!N.hasOwnProperty(Pe)&&(ee[Pe]=se[Pe]===void 0&&be!==void 0?be[Pe]:se[Pe])}var Pe=arguments.length-2;if(Pe===1)ee.children=W;else if(1<Pe){be=Array(Pe);for(var Me=0;Me<Pe;Me++)be[Me]=arguments[Me+2];ee.children=be}return{$$typeof:r,type:Y.type,key:J,ref:te,props:ee,_owner:ce}},Et.createContext=function(Y){return Y={$$typeof:l,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Y.Provider={$$typeof:a,_context:Y},Y.Consumer=Y},Et.createElement=I,Et.createFactory=function(Y){var se=I.bind(null,Y);return se.type=Y,se},Et.createRef=function(){return{current:null}},Et.forwardRef=function(Y){return{$$typeof:u,render:Y}},Et.isValidElement=P,Et.lazy=function(Y){return{$$typeof:g,_payload:{_status:-1,_result:Y},_init:Te}},Et.memo=function(Y,se){return{$$typeof:f,type:Y,compare:se===void 0?null:se}},Et.startTransition=function(Y){var se=Se.transition;Se.transition={};try{Y()}finally{Se.transition=se}},Et.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Et.useCallback=function(Y,se){return Ge.current.useCallback(Y,se)},Et.useContext=function(Y){return Ge.current.useContext(Y)},Et.useDebugValue=function(){},Et.useDeferredValue=function(Y){return Ge.current.useDeferredValue(Y)},Et.useEffect=function(Y,se){return Ge.current.useEffect(Y,se)},Et.useId=function(){return Ge.current.useId()},Et.useImperativeHandle=function(Y,se,W){return Ge.current.useImperativeHandle(Y,se,W)},Et.useInsertionEffect=function(Y,se){return Ge.current.useInsertionEffect(Y,se)},Et.useLayoutEffect=function(Y,se){return Ge.current.useLayoutEffect(Y,se)},Et.useMemo=function(Y,se){return Ge.current.useMemo(Y,se)},Et.useReducer=function(Y,se,W){return Ge.current.useReducer(Y,se,W)},Et.useRef=function(Y){return Ge.current.useRef(Y)},Et.useState=function(Y){return Ge.current.useState(Y)},Et.useSyncExternalStore=function(Y,se,W){return Ge.current.useSyncExternalStore(Y,se,W)},Et.useTransition=function(){return Ge.current.useTransition()},Et.version="18.2.0",Et}var wy;function Ag(){return wy||(wy=1,hp.exports=cN()),hp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function uN(){if(_y)return pu;_y=1;var r=Ag(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,h,f){var g,x={},v=null,_=null;f!==void 0&&(v=""+f),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(_=h.ref);for(g in h)n.call(h,g)&&!a.hasOwnProperty(g)&&(x[g]=h[g]);if(u&&u.defaultProps)for(g in h=u.defaultProps,h)x[g]===void 0&&(x[g]=h[g]);return{$$typeof:e,type:u,key:v,ref:_,props:x,_owner:s.current}}return pu.Fragment=t,pu.jsx=l,pu.jsxs=l,pu}var Ey;function dN(){return Ey||(Ey=1,dp.exports=uN()),dp.exports}var c=dN(),Fh={},fp={exports:{}},es={},mp={exports:{}},pp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by;function hN(){return by||(by=1,(function(r){function e(Se,pe){var Y=Se.length;Se.push(pe);e:for(;0<Y;){var se=Y-1>>>1,W=Se[se];if(0<s(W,pe))Se[se]=pe,Se[Y]=W,Y=se;else break e}}function t(Se){return Se.length===0?null:Se[0]}function n(Se){if(Se.length===0)return null;var pe=Se[0],Y=Se.pop();if(Y!==pe){Se[0]=Y;e:for(var se=0,W=Se.length,ee=W>>>1;se<ee;){var J=2*(se+1)-1,te=Se[J],ce=J+1,be=Se[ce];if(0>s(te,Y))ce<W&&0>s(be,te)?(Se[se]=be,Se[ce]=Y,se=ce):(Se[se]=te,Se[J]=Y,se=J);else if(ce<W&&0>s(be,Y))Se[se]=be,Se[ce]=Y,se=ce;else break e}}return pe}function s(Se,pe){var Y=Se.sortIndex-pe.sortIndex;return Y!==0?Y:Se.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();r.unstable_now=function(){return l.now()-u}}var h=[],f=[],g=1,x=null,v=3,_=!1,S=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(Se){for(var pe=t(f);pe!==null;){if(pe.callback===null)n(f);else if(pe.startTime<=Se)n(f),pe.sortIndex=pe.expirationTime,e(h,pe);else break;pe=t(f)}}function M(Se){if(w=!1,L(Se),!S)if(t(h)!==null)S=!0,Te(Z);else{var pe=t(f);pe!==null&&Ge(M,pe.startTime-Se)}}function Z(Se,pe){S=!1,w&&(w=!1,j(I),I=-1),_=!0;var Y=v;try{for(L(pe),x=t(h);x!==null&&(!(x.expirationTime>pe)||Se&&!F());){var se=x.callback;if(typeof se=="function"){x.callback=null,v=x.priorityLevel;var W=se(x.expirationTime<=pe);pe=r.unstable_now(),typeof W=="function"?x.callback=W:x===t(h)&&n(h),L(pe)}else n(h);x=t(h)}if(x!==null)var ee=!0;else{var J=t(f);J!==null&&Ge(M,J.startTime-pe),ee=!1}return ee}finally{x=null,v=Y,_=!1}}var Q=!1,N=null,I=-1,A=5,P=-1;function F(){return!(r.unstable_now()-P<A)}function V(){if(N!==null){var Se=r.unstable_now();P=Se;var pe=!0;try{pe=N(!0,Se)}finally{pe?O():(Q=!1,N=null)}}else Q=!1}var O;if(typeof D=="function")O=function(){D(V)};else if(typeof MessageChannel<"u"){var $e=new MessageChannel,je=$e.port2;$e.port1.onmessage=V,O=function(){je.postMessage(null)}}else O=function(){T(V,0)};function Te(Se){N=Se,Q||(Q=!0,O())}function Ge(Se,pe){I=T(function(){Se(r.unstable_now())},pe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Se){Se.callback=null},r.unstable_continueExecution=function(){S||_||(S=!0,Te(Z))},r.unstable_forceFrameRate=function(Se){0>Se||125<Se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Se?Math.floor(1e3/Se):5},r.unstable_getCurrentPriorityLevel=function(){return v},r.unstable_getFirstCallbackNode=function(){return t(h)},r.unstable_next=function(Se){switch(v){case 1:case 2:case 3:var pe=3;break;default:pe=v}var Y=v;v=pe;try{return Se()}finally{v=Y}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(Se,pe){switch(Se){case 1:case 2:case 3:case 4:case 5:break;default:Se=3}var Y=v;v=Se;try{return pe()}finally{v=Y}},r.unstable_scheduleCallback=function(Se,pe,Y){var se=r.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?se+Y:se):Y=se,Se){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=Y+W,Se={id:g++,callback:pe,priorityLevel:Se,startTime:Y,expirationTime:W,sortIndex:-1},Y>se?(Se.sortIndex=Y,e(f,Se),t(h)===null&&Se===t(f)&&(w?(j(I),I=-1):w=!0,Ge(M,Y-se))):(Se.sortIndex=W,e(h,Se),S||_||(S=!0,Te(Z))),Se},r.unstable_shouldYield=F,r.unstable_wrapCallback=function(Se){var pe=v;return function(){var Y=v;v=pe;try{return Se.apply(this,arguments)}finally{v=Y}}}})(pp)),pp}var Ty;function fN(){return Ty||(Ty=1,mp.exports=hN()),mp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy;function mN(){if(Sy)return es;Sy=1;var r=Ag(),e=fN();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,d=1;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)n.add(o[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},x={};function v(i){return h.call(x,i)?!0:h.call(g,i)?!1:f.test(i)?x[i]=!0:(g[i]=!0,!1)}function _(i,o,d,p){if(d!==null&&d.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return p?!1:d!==null?!d.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function S(i,o,d,p){if(o===null||typeof o>"u"||_(i,o,d,p))return!0;if(p)return!1;if(d!==null)switch(d.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function w(i,o,d,p,y,b,k){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=p,this.attributeNamespace=y,this.mustUseProperty=d,this.propertyName=i,this.type=o,this.sanitizeURL=b,this.removeEmptyString=k}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){T[i]=new w(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];T[o]=new w(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){T[i]=new w(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){T[i]=new w(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){T[i]=new w(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){T[i]=new w(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){T[i]=new w(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){T[i]=new w(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){T[i]=new w(i,5,!1,i.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function D(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(j,D);T[o]=new w(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(j,D);T[o]=new w(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(j,D);T[o]=new w(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){T[i]=new w(i,1,!1,i.toLowerCase(),null,!1,!1)}),T.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){T[i]=new w(i,1,!1,i.toLowerCase(),null,!0,!0)});function L(i,o,d,p){var y=T.hasOwnProperty(o)?T[o]:null;(y!==null?y.type!==0:p||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(S(o,d,y,p)&&(d=null),p||y===null?v(o)&&(d===null?i.removeAttribute(o):i.setAttribute(o,""+d)):y.mustUseProperty?i[y.propertyName]=d===null?y.type===3?!1:"":d:(o=y.attributeName,p=y.attributeNamespace,d===null?i.removeAttribute(o):(y=y.type,d=y===3||y===4&&d===!0?"":""+d,p?i.setAttributeNS(p,o,d):i.setAttribute(o,d))))}var M=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z=Symbol.for("react.element"),Q=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),F=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),$e=Symbol.for("react.suspense_list"),je=Symbol.for("react.memo"),Te=Symbol.for("react.lazy"),Ge=Symbol.for("react.offscreen"),Se=Symbol.iterator;function pe(i){return i===null||typeof i!="object"?null:(i=Se&&i[Se]||i["@@iterator"],typeof i=="function"?i:null)}var Y=Object.assign,se;function W(i){if(se===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);se=o&&o[1]||""}return`
`+se+i}var ee=!1;function J(i,o){if(!i||ee)return"";ee=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(me){var p=me}Reflect.construct(i,[],o)}else{try{o.call()}catch(me){p=me}i.call(o.prototype)}else{try{throw Error()}catch(me){p=me}i()}}catch(me){if(me&&p&&typeof me.stack=="string"){for(var y=me.stack.split(`
`),b=p.stack.split(`
`),k=y.length-1,X=b.length-1;1<=k&&0<=X&&y[k]!==b[X];)X--;for(;1<=k&&0<=X;k--,X--)if(y[k]!==b[X]){if(k!==1||X!==1)do if(k--,X--,0>X||y[k]!==b[X]){var re=`
`+y[k].replace(" at new "," at ");return i.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",i.displayName)),re}while(1<=k&&0<=X);break}}}finally{ee=!1,Error.prepareStackTrace=d}return(i=i?i.displayName||i.name:"")?W(i):""}function te(i){switch(i.tag){case 5:return W(i.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return i=J(i.type,!1),i;case 11:return i=J(i.type.render,!1),i;case 1:return i=J(i.type,!0),i;default:return""}}function ce(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case N:return"Fragment";case Q:return"Portal";case A:return"Profiler";case I:return"StrictMode";case O:return"Suspense";case $e:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case F:return(i.displayName||"Context")+".Consumer";case P:return(i._context.displayName||"Context")+".Provider";case V:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case je:return o=i.displayName||null,o!==null?o:ce(i.type)||"Memo";case Te:o=i._payload,i=i._init;try{return ce(i(o))}catch{}}return null}function be(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(o);case 8:return o===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Pe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Me(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Fe(i){var o=Me(i)?"checked":"value",d=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),p=""+i[o];if(!i.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,b=d.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return y.call(this)},set:function(k){p=""+k,b.call(this,k)}}),Object.defineProperty(i,o,{enumerable:d.enumerable}),{getValue:function(){return p},setValue:function(k){p=""+k},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function mt(i){i._valueTracker||(i._valueTracker=Fe(i))}function ot(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var d=o.getValue(),p="";return i&&(p=Me(i)?i.checked?"true":"false":i.value),i=p,i!==d?(o.setValue(i),!0):!1}function zt(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function ct(i,o){var d=o.checked;return Y({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??i._wrapperState.initialChecked})}function xr(i,o){var d=o.defaultValue==null?"":o.defaultValue,p=o.checked!=null?o.checked:o.defaultChecked;d=Pe(o.value!=null?o.value:d),i._wrapperState={initialChecked:p,initialValue:d,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Tt(i,o){o=o.checked,o!=null&&L(i,"checked",o,!1)}function he(i,o){Tt(i,o);var d=Pe(o.value),p=o.type;if(d!=null)p==="number"?(d===0&&i.value===""||i.value!=d)&&(i.value=""+d):i.value!==""+d&&(i.value=""+d);else if(p==="submit"||p==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Be(i,o.type,d):o.hasOwnProperty("defaultValue")&&Be(i,o.type,Pe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Ne(i,o,d){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var p=o.type;if(!(p!=="submit"&&p!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,d||o===i.value||(i.value=o),i.defaultValue=o}d=i.name,d!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,d!==""&&(i.name=d)}function Be(i,o,d){(o!=="number"||zt(i.ownerDocument)!==i)&&(d==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+d&&(i.defaultValue=""+d))}var nt=Array.isArray;function pt(i,o,d,p){if(i=i.options,o){o={};for(var y=0;y<d.length;y++)o["$"+d[y]]=!0;for(d=0;d<i.length;d++)y=o.hasOwnProperty("$"+i[d].value),i[d].selected!==y&&(i[d].selected=y),y&&p&&(i[d].defaultSelected=!0)}else{for(d=""+Pe(d),o=null,y=0;y<i.length;y++){if(i[y].value===d){i[y].selected=!0,p&&(i[y].defaultSelected=!0);return}o!==null||i[y].disabled||(o=i[y])}o!==null&&(o.selected=!0)}}function yt(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return Y({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function sr(i,o){var d=o.value;if(d==null){if(d=o.children,o=o.defaultValue,d!=null){if(o!=null)throw Error(t(92));if(nt(d)){if(1<d.length)throw Error(t(93));d=d[0]}o=d}o==null&&(o=""),d=o}i._wrapperState={initialValue:Pe(d)}}function Ht(i,o){var d=Pe(o.value),p=Pe(o.defaultValue);d!=null&&(d=""+d,d!==i.value&&(i.value=d),o.defaultValue==null&&i.defaultValue!==d&&(i.defaultValue=d)),p!=null&&(i.defaultValue=""+p)}function cn(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function Ft(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $t(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?Ft(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var er,As=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,d,p,y){MSApp.execUnsafeLocalFunction(function(){return i(o,d,p,y)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(er=er||document.createElement("div"),er.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=er.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function En(i,o){if(o){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=o;return}}i.textContent=o}var qe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},At=["Webkit","ms","Moz","O"];Object.keys(qe).forEach(function(i){At.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),qe[o]=qe[i]})});function Pt(i,o,d){return o==null||typeof o=="boolean"||o===""?"":d||typeof o!="number"||o===0||qe.hasOwnProperty(i)&&qe[i]?(""+o).trim():o+"px"}function Or(i,o){i=i.style;for(var d in o)if(o.hasOwnProperty(d)){var p=d.indexOf("--")===0,y=Pt(d,o[d],p);d==="float"&&(d="cssFloat"),p?i.setProperty(d,y):i[d]=y}}var cs=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bn(i,o){if(o){if(cs[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function cr(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function et(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var _t=null,vt=null,It=null;function kt(i){if(i=eu(i)){if(typeof _t!="function")throw Error(t(280));var o=i.stateNode;o&&(o=Qd(o),_t(i.stateNode,i.type,o))}}function ir(i){vt?It?It.push(i):It=[i]:vt=i}function ur(){if(vt){var i=vt,o=It;if(It=vt=null,kt(i),o)for(i=0;i<o.length;i++)kt(o[i])}}function Gn(i,o){return i(o)}function bo(){}var $s=!1;function To(i,o,d){if($s)return i(o,d);$s=!0;try{return Gn(i,o,d)}finally{$s=!1,(vt!==null||It!==null)&&(bo(),ur())}}function vr(i,o){var d=i.stateNode;if(d===null)return null;var p=Qd(d);if(p===null)return null;d=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(t(231,o,typeof d));return d}var _a=!1;if(u)try{var Fn={};Object.defineProperty(Fn,"passive",{get:function(){_a=!0}}),window.addEventListener("test",Fn,Fn),window.removeEventListener("test",Fn,Fn)}catch{_a=!1}function Vi(i,o,d,p,y,b,k,X,re){var me=Array.prototype.slice.call(arguments,3);try{o.apply(d,me)}catch(Ae){this.onError(Ae)}}var Bi=!1,Ea=null,R=!1,G=null,z={onError:function(i){Bi=!0,Ea=i}};function H(i,o,d,p,y,b,k,X,re){Bi=!1,Ea=null,Vi.apply(z,arguments)}function q(i,o,d,p,y,b,k,X,re){if(H.apply(this,arguments),Bi){if(Bi){var me=Ea;Bi=!1,Ea=null}else throw Error(t(198));R||(R=!0,G=me)}}function K(i){var o=i,d=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(d=o.return),i=o.return;while(i)}return o.tag===3?d:null}function oe(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function xe(i){if(K(i)!==i)throw Error(t(188))}function le(i){var o=i.alternate;if(!o){if(o=K(i),o===null)throw Error(t(188));return o!==i?null:i}for(var d=i,p=o;;){var y=d.return;if(y===null)break;var b=y.alternate;if(b===null){if(p=y.return,p!==null){d=p;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===d)return xe(y),i;if(b===p)return xe(y),o;b=b.sibling}throw Error(t(188))}if(d.return!==p.return)d=y,p=b;else{for(var k=!1,X=y.child;X;){if(X===d){k=!0,d=y,p=b;break}if(X===p){k=!0,p=y,d=b;break}X=X.sibling}if(!k){for(X=b.child;X;){if(X===d){k=!0,d=b,p=y;break}if(X===p){k=!0,p=b,d=y;break}X=X.sibling}if(!k)throw Error(t(189))}}if(d.alternate!==p)throw Error(t(190))}if(d.tag!==3)throw Error(t(188));return d.stateNode.current===d?i:o}function de(i){return i=le(i),i!==null?fe(i):null}function fe(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=fe(i);if(o!==null)return o;i=i.sibling}return null}var Ie=e.unstable_scheduleCallback,Ue=e.unstable_cancelCallback,Ke=e.unstable_shouldYield,De=e.unstable_requestPaint,ke=e.unstable_now,ut=e.unstable_getCurrentPriorityLevel,Vt=e.unstable_ImmediatePriority,Lt=e.unstable_UserBlockingPriority,Gt=e.unstable_NormalPriority,Ws=e.unstable_LowPriority,pi=e.unstable_IdlePriority,us=null,Rr=null;function ba(i){if(Rr&&typeof Rr.onCommitFiberRoot=="function")try{Rr.onCommitFiberRoot(us,i,void 0,(i.current.flags&128)===128)}catch{}}var dr=Math.clz32?Math.clz32:Id,Mc=Math.log,Ad=Math.LN2;function Id(i){return i>>>=0,i===0?32:31-(Mc(i)/Ad|0)|0}var vl=64,yl=4194304;function Ta(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function So(i,o){var d=i.pendingLanes;if(d===0)return 0;var p=0,y=i.suspendedLanes,b=i.pingedLanes,k=d&268435455;if(k!==0){var X=k&~y;X!==0?p=Ta(X):(b&=k,b!==0&&(p=Ta(b)))}else k=d&~y,k!==0?p=Ta(k):b!==0&&(p=Ta(b));if(p===0)return 0;if(o!==0&&o!==p&&(o&y)===0&&(y=p&-p,b=o&-o,y>=b||y===16&&(b&4194240)!==0))return o;if((p&4)!==0&&(p|=d&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=p;0<o;)d=31-dr(o),y=1<<d,p|=i[d],o&=~y;return p}function B0(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zi(i,o){for(var d=i.suspendedLanes,p=i.pingedLanes,y=i.expirationTimes,b=i.pendingLanes;0<b;){var k=31-dr(b),X=1<<k,re=y[k];re===-1?((X&d)===0||(X&p)!==0)&&(y[k]=B0(X,o)):re<=o&&(i.expiredLanes|=X),b&=~X}}function ds(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function No(){var i=vl;return vl<<=1,(vl&4194240)===0&&(vl=64),i}function Sa(i){for(var o=[],d=0;31>d;d++)o.push(i);return o}function Na(i,o,d){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-dr(o),i[o]=d}function tr(i,o){var d=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var p=i.eventTimes;for(i=i.expirationTimes;0<d;){var y=31-dr(d),b=1<<y;o[y]=0,p[y]=-1,i[y]=-1,d&=~b}}function Ca(i,o){var d=i.entangledLanes|=o;for(i=i.entanglements;d;){var p=31-dr(d),y=1<<p;y&o|i[p]&o&&(i[p]|=o),d&=~y}}var Rt=0;function Aa(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var kd,wl,Rd,Pd,jd,Uc=!1,gi=[],un=null,Hs=null,Gs=null,Ia=new Map,Is=new Map,xi=[],z0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dd(i,o){switch(i){case"focusin":case"focusout":un=null;break;case"dragenter":case"dragleave":Hs=null;break;case"mouseover":case"mouseout":Gs=null;break;case"pointerover":case"pointerout":Ia.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Is.delete(o.pointerId)}}function qn(i,o,d,p,y,b){return i===null||i.nativeEvent!==b?(i={blockedOn:o,domEventName:d,eventSystemFlags:p,nativeEvent:b,targetContainers:[y]},o!==null&&(o=eu(o),o!==null&&wl(o)),i):(i.eventSystemFlags|=p,o=i.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),i)}function $0(i,o,d,p,y){switch(o){case"focusin":return un=qn(un,i,o,d,p,y),!0;case"dragenter":return Hs=qn(Hs,i,o,d,p,y),!0;case"mouseover":return Gs=qn(Gs,i,o,d,p,y),!0;case"pointerover":var b=y.pointerId;return Ia.set(b,qn(Ia.get(b)||null,i,o,d,p,y)),!0;case"gotpointercapture":return b=y.pointerId,Is.set(b,qn(Is.get(b)||null,i,o,d,p,y)),!0}return!1}function Od(i){var o=Ro(i.target);if(o!==null){var d=K(o);if(d!==null){if(o=d.tag,o===13){if(o=oe(d),o!==null){i.blockedOn=o,jd(i.priority,function(){Rd(d)});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function $i(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var d=_l(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(d===null){d=i.nativeEvent;var p=new d.constructor(d.type,d);ve=p,d.target.dispatchEvent(p),ve=null}else return o=eu(d),o!==null&&wl(o),i.blockedOn=d,!1;o.shift()}return!0}function Co(i,o,d){$i(i)&&d.delete(o)}function Fd(){Uc=!1,un!==null&&$i(un)&&(un=null),Hs!==null&&$i(Hs)&&(Hs=null),Gs!==null&&$i(Gs)&&(Gs=null),Ia.forEach(Co),Is.forEach(Co)}function qs(i,o){i.blockedOn===o&&(i.blockedOn=null,Uc||(Uc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Fd)))}function Ks(i){function o(y){return qs(y,i)}if(0<gi.length){qs(gi[0],i);for(var d=1;d<gi.length;d++){var p=gi[d];p.blockedOn===i&&(p.blockedOn=null)}}for(un!==null&&qs(un,i),Hs!==null&&qs(Hs,i),Gs!==null&&qs(Gs,i),Ia.forEach(o),Is.forEach(o),d=0;d<xi.length;d++)p=xi[d],p.blockedOn===i&&(p.blockedOn=null);for(;0<xi.length&&(d=xi[0],d.blockedOn===null);)Od(d),d.blockedOn===null&&xi.shift()}var Wi=M.ReactCurrentBatchConfig,ka=!0;function pr(i,o,d,p){var y=Rt,b=Wi.transition;Wi.transition=null;try{Rt=1,Vc(i,o,d,p)}finally{Rt=y,Wi.transition=b}}function W0(i,o,d,p){var y=Rt,b=Wi.transition;Wi.transition=null;try{Rt=4,Vc(i,o,d,p)}finally{Rt=y,Wi.transition=b}}function Vc(i,o,d,p){if(ka){var y=_l(i,o,d,p);if(y===null)tm(i,o,p,Ao,d),Dd(i,p);else if($0(y,i,o,d,p))p.stopPropagation();else if(Dd(i,p),o&4&&-1<z0.indexOf(i)){for(;y!==null;){var b=eu(y);if(b!==null&&kd(b),b=_l(i,o,d,p),b===null&&tm(i,o,p,Ao,d),b===y)break;y=b}y!==null&&p.stopPropagation()}else tm(i,o,p,null,d)}}var Ao=null;function _l(i,o,d,p){if(Ao=null,i=et(p),i=Ro(i),i!==null)if(o=K(i),o===null)i=null;else if(d=o.tag,d===13){if(i=oe(o),i!==null)return i;i=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Ao=i,null}function Bc(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ut()){case Vt:return 1;case Lt:return 4;case Gt:case Ws:return 16;case pi:return 536870912;default:return 16}default:return 16}}var hs=null,El=null,Kn=null;function zc(){if(Kn)return Kn;var i,o=El,d=o.length,p,y="value"in hs?hs.value:hs.textContent,b=y.length;for(i=0;i<d&&o[i]===y[i];i++);var k=d-i;for(p=1;p<=k&&o[d-p]===y[b-p];p++);return Kn=y.slice(i,1<p?1-p:void 0)}function bl(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function vi(){return!0}function $c(){return!1}function dn(i){function o(d,p,y,b,k){this._reactName=d,this._targetInst=y,this.type=p,this.nativeEvent=b,this.target=k,this.currentTarget=null;for(var X in i)i.hasOwnProperty(X)&&(d=i[X],this[X]=d?d(b):b[X]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?vi:$c,this.isPropagationStopped=$c,this}return Y(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=vi)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=vi)},persist:function(){},isPersistent:vi}),o}var Ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tl=dn(Ys),yi=Y({},Ys,{view:0,detail:0}),H0=dn(yi),Sl,Hi,Ra,Io=Y({},yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wi,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ra&&(Ra&&i.type==="mousemove"?(Sl=i.screenX-Ra.screenX,Hi=i.screenY-Ra.screenY):Hi=Sl=0,Ra=i),Sl)},movementY:function(i){return"movementY"in i?i.movementY:Hi}}),Nl=dn(Io),Wc=Y({},Io,{dataTransfer:0}),Ld=dn(Wc),Cl=Y({},yi,{relatedTarget:0}),Al=dn(Cl),Md=Y({},Ys,{animationName:0,elapsedTime:0,pseudoElement:0}),Gi=dn(Md),Ud=Y({},Ys,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Vd=dn(Ud),Bd=Y({},Ys,{data:0}),Hc=dn(Bd),Il={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ln={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $d(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=zd[i])?!!o[i]:!1}function wi(){return $d}var m=Y({},yi,{key:function(i){if(i.key){var o=Il[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=bl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Ln[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wi,charCode:function(i){return i.type==="keypress"?bl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?bl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),E=dn(m),C=Y({},Io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B=dn(C),ie=Y({},yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wi}),ge=dn(ie),ze=Y({},Ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),qt=dn(ze),Wr=Y({},Io,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),jt=dn(Wr),Xr=[9,13,27,32],Fr=u&&"CompositionEvent"in window,ks=null;u&&"documentMode"in document&&(ks=document.documentMode);var fs=u&&"TextEvent"in window&&!ks,ko=u&&(!Fr||ks&&8<ks&&11>=ks),kl=" ",hv=!1;function fv(i,o){switch(i){case"keyup":return Xr.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mv(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Rl=!1;function iS(i,o){switch(i){case"compositionend":return mv(o);case"keypress":return o.which!==32?null:(hv=!0,kl);case"textInput":return i=o.data,i===kl&&hv?null:i;default:return null}}function aS(i,o){if(Rl)return i==="compositionend"||!Fr&&fv(i,o)?(i=zc(),Kn=El=hs=null,Rl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ko&&o.locale!=="ko"?null:o.data;default:return null}}var oS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pv(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!oS[i.type]:o==="textarea"}function gv(i,o,d,p){ir(p),o=Kd(o,"onChange"),0<o.length&&(d=new Tl("onChange","change",null,d,p),i.push({event:d,listeners:o}))}var Gc=null,qc=null;function lS(i){Dv(i,0)}function Wd(i){var o=Fl(i);if(ot(o))return i}function cS(i,o){if(i==="change")return o}var xv=!1;if(u){var G0;if(u){var q0="oninput"in document;if(!q0){var vv=document.createElement("div");vv.setAttribute("oninput","return;"),q0=typeof vv.oninput=="function"}G0=q0}else G0=!1;xv=G0&&(!document.documentMode||9<document.documentMode)}function yv(){Gc&&(Gc.detachEvent("onpropertychange",wv),qc=Gc=null)}function wv(i){if(i.propertyName==="value"&&Wd(qc)){var o=[];gv(o,qc,i,et(i)),To(lS,o)}}function uS(i,o,d){i==="focusin"?(yv(),Gc=o,qc=d,Gc.attachEvent("onpropertychange",wv)):i==="focusout"&&yv()}function dS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Wd(qc)}function hS(i,o){if(i==="click")return Wd(o)}function fS(i,o){if(i==="input"||i==="change")return Wd(o)}function mS(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Xs=typeof Object.is=="function"?Object.is:mS;function Kc(i,o){if(Xs(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var d=Object.keys(i),p=Object.keys(o);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var y=d[p];if(!h.call(o,y)||!Xs(i[y],o[y]))return!1}return!0}function _v(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ev(i,o){var d=_v(i);i=0;for(var p;d;){if(d.nodeType===3){if(p=i+d.textContent.length,i<=o&&p>=o)return{node:d,offset:o-i};i=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=_v(d)}}function bv(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?bv(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Tv(){for(var i=window,o=zt();o instanceof i.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)i=o.contentWindow;else break;o=zt(i.document)}return o}function K0(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function pS(i){var o=Tv(),d=i.focusedElem,p=i.selectionRange;if(o!==d&&d&&d.ownerDocument&&bv(d.ownerDocument.documentElement,d)){if(p!==null&&K0(d)){if(o=p.start,i=p.end,i===void 0&&(i=o),"selectionStart"in d)d.selectionStart=o,d.selectionEnd=Math.min(i,d.value.length);else if(i=(o=d.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var y=d.textContent.length,b=Math.min(p.start,y);p=p.end===void 0?b:Math.min(p.end,y),!i.extend&&b>p&&(y=p,p=b,b=y),y=Ev(d,b);var k=Ev(d,p);y&&k&&(i.rangeCount!==1||i.anchorNode!==y.node||i.anchorOffset!==y.offset||i.focusNode!==k.node||i.focusOffset!==k.offset)&&(o=o.createRange(),o.setStart(y.node,y.offset),i.removeAllRanges(),b>p?(i.addRange(o),i.extend(k.node,k.offset)):(o.setEnd(k.node,k.offset),i.addRange(o)))}}for(o=[],i=d;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<o.length;d++)i=o[d],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var gS=u&&"documentMode"in document&&11>=document.documentMode,Pl=null,Y0=null,Yc=null,X0=!1;function Sv(i,o,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;X0||Pl==null||Pl!==zt(p)||(p=Pl,"selectionStart"in p&&K0(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Yc&&Kc(Yc,p)||(Yc=p,p=Kd(Y0,"onSelect"),0<p.length&&(o=new Tl("onSelect","select",null,o,d),i.push({event:o,listeners:p}),o.target=Pl)))}function Hd(i,o){var d={};return d[i.toLowerCase()]=o.toLowerCase(),d["Webkit"+i]="webkit"+o,d["Moz"+i]="moz"+o,d}var jl={animationend:Hd("Animation","AnimationEnd"),animationiteration:Hd("Animation","AnimationIteration"),animationstart:Hd("Animation","AnimationStart"),transitionend:Hd("Transition","TransitionEnd")},Q0={},Nv={};u&&(Nv=document.createElement("div").style,"AnimationEvent"in window||(delete jl.animationend.animation,delete jl.animationiteration.animation,delete jl.animationstart.animation),"TransitionEvent"in window||delete jl.transitionend.transition);function Gd(i){if(Q0[i])return Q0[i];if(!jl[i])return i;var o=jl[i],d;for(d in o)if(o.hasOwnProperty(d)&&d in Nv)return Q0[i]=o[d];return i}var Cv=Gd("animationend"),Av=Gd("animationiteration"),Iv=Gd("animationstart"),kv=Gd("transitionend"),Rv=new Map,Pv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pa(i,o){Rv.set(i,o),a(o,[i])}for(var J0=0;J0<Pv.length;J0++){var Z0=Pv[J0],xS=Z0.toLowerCase(),vS=Z0[0].toUpperCase()+Z0.slice(1);Pa(xS,"on"+vS)}Pa(Cv,"onAnimationEnd"),Pa(Av,"onAnimationIteration"),Pa(Iv,"onAnimationStart"),Pa("dblclick","onDoubleClick"),Pa("focusin","onFocus"),Pa("focusout","onBlur"),Pa(kv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xc));function jv(i,o,d){var p=i.type||"unknown-event";i.currentTarget=d,q(p,o,void 0,i),i.currentTarget=null}function Dv(i,o){o=(o&4)!==0;for(var d=0;d<i.length;d++){var p=i[d],y=p.event;p=p.listeners;e:{var b=void 0;if(o)for(var k=p.length-1;0<=k;k--){var X=p[k],re=X.instance,me=X.currentTarget;if(X=X.listener,re!==b&&y.isPropagationStopped())break e;jv(y,X,me),b=re}else for(k=0;k<p.length;k++){if(X=p[k],re=X.instance,me=X.currentTarget,X=X.listener,re!==b&&y.isPropagationStopped())break e;jv(y,X,me),b=re}}}if(R)throw i=G,R=!1,G=null,i}function hr(i,o){var d=o[om];d===void 0&&(d=o[om]=new Set);var p=i+"__bubble";d.has(p)||(Ov(o,i,2,!1),d.add(p))}function em(i,o,d){var p=0;o&&(p|=4),Ov(d,i,p,o)}var qd="_reactListening"+Math.random().toString(36).slice(2);function Qc(i){if(!i[qd]){i[qd]=!0,n.forEach(function(d){d!=="selectionchange"&&(yS.has(d)||em(d,!1,i),em(d,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[qd]||(o[qd]=!0,em("selectionchange",!1,o))}}function Ov(i,o,d,p){switch(Bc(o)){case 1:var y=pr;break;case 4:y=W0;break;default:y=Vc}d=y.bind(null,o,d,i),y=void 0,!_a||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),p?y!==void 0?i.addEventListener(o,d,{capture:!0,passive:y}):i.addEventListener(o,d,!0):y!==void 0?i.addEventListener(o,d,{passive:y}):i.addEventListener(o,d,!1)}function tm(i,o,d,p,y){var b=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var k=p.tag;if(k===3||k===4){var X=p.stateNode.containerInfo;if(X===y||X.nodeType===8&&X.parentNode===y)break;if(k===4)for(k=p.return;k!==null;){var re=k.tag;if((re===3||re===4)&&(re=k.stateNode.containerInfo,re===y||re.nodeType===8&&re.parentNode===y))return;k=k.return}for(;X!==null;){if(k=Ro(X),k===null)return;if(re=k.tag,re===5||re===6){p=b=k;continue e}X=X.parentNode}}p=p.return}To(function(){var me=b,Ae=et(d),Re=[];e:{var Ce=Rv.get(i);if(Ce!==void 0){var Ye=Tl,Je=i;switch(i){case"keypress":if(bl(d)===0)break e;case"keydown":case"keyup":Ye=E;break;case"focusin":Je="focus",Ye=Al;break;case"focusout":Je="blur",Ye=Al;break;case"beforeblur":case"afterblur":Ye=Al;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ye=Nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ye=Ld;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ye=ge;break;case Cv:case Av:case Iv:Ye=Gi;break;case kv:Ye=qt;break;case"scroll":Ye=H0;break;case"wheel":Ye=jt;break;case"copy":case"cut":case"paste":Ye=Vd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ye=B}var Ze=(o&4)!==0,Pr=!Ze&&i==="scroll",ae=Ze?Ce!==null?Ce+"Capture":null:Ce;Ze=[];for(var ne=me,ue;ne!==null;){ue=ne;var Oe=ue.stateNode;if(ue.tag===5&&Oe!==null&&(ue=Oe,ae!==null&&(Oe=vr(ne,ae),Oe!=null&&Ze.push(Jc(ne,Oe,ue)))),Pr)break;ne=ne.return}0<Ze.length&&(Ce=new Ye(Ce,Je,null,d,Ae),Re.push({event:Ce,listeners:Ze}))}}if((o&7)===0){e:{if(Ce=i==="mouseover"||i==="pointerover",Ye=i==="mouseout"||i==="pointerout",Ce&&d!==ve&&(Je=d.relatedTarget||d.fromElement)&&(Ro(Je)||Je[qi]))break e;if((Ye||Ce)&&(Ce=Ae.window===Ae?Ae:(Ce=Ae.ownerDocument)?Ce.defaultView||Ce.parentWindow:window,Ye?(Je=d.relatedTarget||d.toElement,Ye=me,Je=Je?Ro(Je):null,Je!==null&&(Pr=K(Je),Je!==Pr||Je.tag!==5&&Je.tag!==6)&&(Je=null)):(Ye=null,Je=me),Ye!==Je)){if(Ze=Nl,Oe="onMouseLeave",ae="onMouseEnter",ne="mouse",(i==="pointerout"||i==="pointerover")&&(Ze=B,Oe="onPointerLeave",ae="onPointerEnter",ne="pointer"),Pr=Ye==null?Ce:Fl(Ye),ue=Je==null?Ce:Fl(Je),Ce=new Ze(Oe,ne+"leave",Ye,d,Ae),Ce.target=Pr,Ce.relatedTarget=ue,Oe=null,Ro(Ae)===me&&(Ze=new Ze(ae,ne+"enter",Je,d,Ae),Ze.target=ue,Ze.relatedTarget=Pr,Oe=Ze),Pr=Oe,Ye&&Je)t:{for(Ze=Ye,ae=Je,ne=0,ue=Ze;ue;ue=Dl(ue))ne++;for(ue=0,Oe=ae;Oe;Oe=Dl(Oe))ue++;for(;0<ne-ue;)Ze=Dl(Ze),ne--;for(;0<ue-ne;)ae=Dl(ae),ue--;for(;ne--;){if(Ze===ae||ae!==null&&Ze===ae.alternate)break t;Ze=Dl(Ze),ae=Dl(ae)}Ze=null}else Ze=null;Ye!==null&&Fv(Re,Ce,Ye,Ze,!1),Je!==null&&Pr!==null&&Fv(Re,Pr,Je,Ze,!0)}}e:{if(Ce=me?Fl(me):window,Ye=Ce.nodeName&&Ce.nodeName.toLowerCase(),Ye==="select"||Ye==="input"&&Ce.type==="file")var tt=cS;else if(pv(Ce))if(xv)tt=fS;else{tt=dS;var it=uS}else(Ye=Ce.nodeName)&&Ye.toLowerCase()==="input"&&(Ce.type==="checkbox"||Ce.type==="radio")&&(tt=hS);if(tt&&(tt=tt(i,me))){gv(Re,tt,d,Ae);break e}it&&it(i,Ce,me),i==="focusout"&&(it=Ce._wrapperState)&&it.controlled&&Ce.type==="number"&&Be(Ce,"number",Ce.value)}switch(it=me?Fl(me):window,i){case"focusin":(pv(it)||it.contentEditable==="true")&&(Pl=it,Y0=me,Yc=null);break;case"focusout":Yc=Y0=Pl=null;break;case"mousedown":X0=!0;break;case"contextmenu":case"mouseup":case"dragend":X0=!1,Sv(Re,d,Ae);break;case"selectionchange":if(gS)break;case"keydown":case"keyup":Sv(Re,d,Ae)}var at;if(Fr)e:{switch(i){case"compositionstart":var dt="onCompositionStart";break e;case"compositionend":dt="onCompositionEnd";break e;case"compositionupdate":dt="onCompositionUpdate";break e}dt=void 0}else Rl?fv(i,d)&&(dt="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(dt="onCompositionStart");dt&&(ko&&d.locale!=="ko"&&(Rl||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&Rl&&(at=zc()):(hs=Ae,El="value"in hs?hs.value:hs.textContent,Rl=!0)),it=Kd(me,dt),0<it.length&&(dt=new Hc(dt,i,null,d,Ae),Re.push({event:dt,listeners:it}),at?dt.data=at:(at=mv(d),at!==null&&(dt.data=at)))),(at=fs?iS(i,d):aS(i,d))&&(me=Kd(me,"onBeforeInput"),0<me.length&&(Ae=new Hc("onBeforeInput","beforeinput",null,d,Ae),Re.push({event:Ae,listeners:me}),Ae.data=at))}Dv(Re,o)})}function Jc(i,o,d){return{instance:i,listener:o,currentTarget:d}}function Kd(i,o){for(var d=o+"Capture",p=[];i!==null;){var y=i,b=y.stateNode;y.tag===5&&b!==null&&(y=b,b=vr(i,d),b!=null&&p.unshift(Jc(i,b,y)),b=vr(i,o),b!=null&&p.push(Jc(i,b,y))),i=i.return}return p}function Dl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Fv(i,o,d,p,y){for(var b=o._reactName,k=[];d!==null&&d!==p;){var X=d,re=X.alternate,me=X.stateNode;if(re!==null&&re===p)break;X.tag===5&&me!==null&&(X=me,y?(re=vr(d,b),re!=null&&k.unshift(Jc(d,re,X))):y||(re=vr(d,b),re!=null&&k.push(Jc(d,re,X)))),d=d.return}k.length!==0&&i.push({event:o,listeners:k})}var wS=/\r\n?/g,_S=/\u0000|\uFFFD/g;function Lv(i){return(typeof i=="string"?i:""+i).replace(wS,`
`).replace(_S,"")}function Yd(i,o,d){if(o=Lv(o),Lv(i)!==o&&d)throw Error(t(425))}function Xd(){}var rm=null,nm=null;function sm(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var im=typeof setTimeout=="function"?setTimeout:void 0,ES=typeof clearTimeout=="function"?clearTimeout:void 0,Mv=typeof Promise=="function"?Promise:void 0,bS=typeof queueMicrotask=="function"?queueMicrotask:typeof Mv<"u"?function(i){return Mv.resolve(null).then(i).catch(TS)}:im;function TS(i){setTimeout(function(){throw i})}function am(i,o){var d=o,p=0;do{var y=d.nextSibling;if(i.removeChild(d),y&&y.nodeType===8)if(d=y.data,d==="/$"){if(p===0){i.removeChild(y),Ks(o);return}p--}else d!=="$"&&d!=="$?"&&d!=="$!"||p++;d=y}while(d);Ks(o)}function ja(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Uv(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"){if(o===0)return i;o--}else d==="/$"&&o++}i=i.previousSibling}return null}var Ol=Math.random().toString(36).slice(2),_i="__reactFiber$"+Ol,Zc="__reactProps$"+Ol,qi="__reactContainer$"+Ol,om="__reactEvents$"+Ol,SS="__reactListeners$"+Ol,NS="__reactHandles$"+Ol;function Ro(i){var o=i[_i];if(o)return o;for(var d=i.parentNode;d;){if(o=d[qi]||d[_i]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(i=Uv(i);i!==null;){if(d=i[_i])return d;i=Uv(i)}return o}i=d,d=i.parentNode}return null}function eu(i){return i=i[_i]||i[qi],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Fl(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Qd(i){return i[Zc]||null}var lm=[],Ll=-1;function Da(i){return{current:i}}function fr(i){0>Ll||(i.current=lm[Ll],lm[Ll]=null,Ll--)}function ar(i,o){Ll++,lm[Ll]=i.current,i.current=o}var Oa={},Tn=Da(Oa),Yn=Da(!1),Po=Oa;function Ml(i,o){var d=i.type.contextTypes;if(!d)return Oa;var p=i.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===o)return p.__reactInternalMemoizedMaskedChildContext;var y={},b;for(b in d)y[b]=o[b];return p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=y),y}function Xn(i){return i=i.childContextTypes,i!=null}function Jd(){fr(Yn),fr(Tn)}function Vv(i,o,d){if(Tn.current!==Oa)throw Error(t(168));ar(Tn,o),ar(Yn,d)}function Bv(i,o,d){var p=i.stateNode;if(o=o.childContextTypes,typeof p.getChildContext!="function")return d;p=p.getChildContext();for(var y in p)if(!(y in o))throw Error(t(108,be(i)||"Unknown",y));return Y({},d,p)}function Zd(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Oa,Po=Tn.current,ar(Tn,i),ar(Yn,Yn.current),!0}function zv(i,o,d){var p=i.stateNode;if(!p)throw Error(t(169));d?(i=Bv(i,o,Po),p.__reactInternalMemoizedMergedChildContext=i,fr(Yn),fr(Tn),ar(Tn,i)):fr(Yn),ar(Yn,d)}var Ki=null,eh=!1,cm=!1;function $v(i){Ki===null?Ki=[i]:Ki.push(i)}function CS(i){eh=!0,$v(i)}function Fa(){if(!cm&&Ki!==null){cm=!0;var i=0,o=Rt;try{var d=Ki;for(Rt=1;i<d.length;i++){var p=d[i];do p=p(!0);while(p!==null)}Ki=null,eh=!1}catch(y){throw Ki!==null&&(Ki=Ki.slice(i+1)),Ie(Vt,Fa),y}finally{Rt=o,cm=!1}}return null}var Ul=[],Vl=0,th=null,rh=0,Rs=[],Ps=0,jo=null,Yi=1,Xi="";function Do(i,o){Ul[Vl++]=rh,Ul[Vl++]=th,th=i,rh=o}function Wv(i,o,d){Rs[Ps++]=Yi,Rs[Ps++]=Xi,Rs[Ps++]=jo,jo=i;var p=Yi;i=Xi;var y=32-dr(p)-1;p&=~(1<<y),d+=1;var b=32-dr(o)+y;if(30<b){var k=y-y%5;b=(p&(1<<k)-1).toString(32),p>>=k,y-=k,Yi=1<<32-dr(o)+y|d<<y|p,Xi=b+i}else Yi=1<<b|d<<y|p,Xi=i}function um(i){i.return!==null&&(Do(i,1),Wv(i,1,0))}function dm(i){for(;i===th;)th=Ul[--Vl],Ul[Vl]=null,rh=Ul[--Vl],Ul[Vl]=null;for(;i===jo;)jo=Rs[--Ps],Rs[Ps]=null,Xi=Rs[--Ps],Rs[Ps]=null,Yi=Rs[--Ps],Rs[Ps]=null}var ms=null,ps=null,gr=!1,Qs=null;function Hv(i,o){var d=Fs(5,null,null,0);d.elementType="DELETED",d.stateNode=o,d.return=i,o=i.deletions,o===null?(i.deletions=[d],i.flags|=16):o.push(d)}function Gv(i,o){switch(i.tag){case 5:var d=i.type;return o=o.nodeType!==1||d.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,ms=i,ps=ja(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,ms=i,ps=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(d=jo!==null?{id:Yi,overflow:Xi}:null,i.memoizedState={dehydrated:o,treeContext:d,retryLane:1073741824},d=Fs(18,null,null,0),d.stateNode=o,d.return=i,i.child=d,ms=i,ps=null,!0):!1;default:return!1}}function hm(i){return(i.mode&1)!==0&&(i.flags&128)===0}function fm(i){if(gr){var o=ps;if(o){var d=o;if(!Gv(i,o)){if(hm(i))throw Error(t(418));o=ja(d.nextSibling);var p=ms;o&&Gv(i,o)?Hv(p,d):(i.flags=i.flags&-4097|2,gr=!1,ms=i)}}else{if(hm(i))throw Error(t(418));i.flags=i.flags&-4097|2,gr=!1,ms=i}}}function qv(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;ms=i}function nh(i){if(i!==ms)return!1;if(!gr)return qv(i),gr=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!sm(i.type,i.memoizedProps)),o&&(o=ps)){if(hm(i))throw Kv(),Error(t(418));for(;o;)Hv(i,o),o=ja(o.nextSibling)}if(qv(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var d=i.data;if(d==="/$"){if(o===0){ps=ja(i.nextSibling);break e}o--}else d!=="$"&&d!=="$!"&&d!=="$?"||o++}i=i.nextSibling}ps=null}}else ps=ms?ja(i.stateNode.nextSibling):null;return!0}function Kv(){for(var i=ps;i;)i=ja(i.nextSibling)}function Bl(){ps=ms=null,gr=!1}function mm(i){Qs===null?Qs=[i]:Qs.push(i)}var AS=M.ReactCurrentBatchConfig;function Js(i,o){if(i&&i.defaultProps){o=Y({},o),i=i.defaultProps;for(var d in i)o[d]===void 0&&(o[d]=i[d]);return o}return o}var sh=Da(null),ih=null,zl=null,pm=null;function gm(){pm=zl=ih=null}function xm(i){var o=sh.current;fr(sh),i._currentValue=o}function vm(i,o,d){for(;i!==null;){var p=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),i===d)break;i=i.return}}function $l(i,o){ih=i,pm=zl=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(Qn=!0),i.firstContext=null)}function js(i){var o=i._currentValue;if(pm!==i)if(i={context:i,memoizedValue:o,next:null},zl===null){if(ih===null)throw Error(t(308));zl=i,ih.dependencies={lanes:0,firstContext:i}}else zl=zl.next=i;return o}var Oo=null;function ym(i){Oo===null?Oo=[i]:Oo.push(i)}function Yv(i,o,d,p){var y=o.interleaved;return y===null?(d.next=d,ym(o)):(d.next=y.next,y.next=d),o.interleaved=d,Qi(i,p)}function Qi(i,o){i.lanes|=o;var d=i.alternate;for(d!==null&&(d.lanes|=o),d=i,i=i.return;i!==null;)i.childLanes|=o,d=i.alternate,d!==null&&(d.childLanes|=o),d=i,i=i.return;return d.tag===3?d.stateNode:null}var La=!1;function wm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xv(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Ji(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Ma(i,o,d){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(Ot&2)!==0){var y=p.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),p.pending=o,Qi(i,d)}return y=p.interleaved,y===null?(o.next=o,ym(p)):(o.next=y.next,y.next=o),p.interleaved=o,Qi(i,d)}function ah(i,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194240)!==0)){var p=o.lanes;p&=i.pendingLanes,d|=p,o.lanes=d,Ca(i,d)}}function Qv(i,o){var d=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var y=null,b=null;if(d=d.firstBaseUpdate,d!==null){do{var k={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};b===null?y=b=k:b=b.next=k,d=d.next}while(d!==null);b===null?y=b=o:b=b.next=o}else y=b=o;d={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:p.shared,effects:p.effects},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=o:i.next=o,d.lastBaseUpdate=o}function oh(i,o,d,p){var y=i.updateQueue;La=!1;var b=y.firstBaseUpdate,k=y.lastBaseUpdate,X=y.shared.pending;if(X!==null){y.shared.pending=null;var re=X,me=re.next;re.next=null,k===null?b=me:k.next=me,k=re;var Ae=i.alternate;Ae!==null&&(Ae=Ae.updateQueue,X=Ae.lastBaseUpdate,X!==k&&(X===null?Ae.firstBaseUpdate=me:X.next=me,Ae.lastBaseUpdate=re))}if(b!==null){var Re=y.baseState;k=0,Ae=me=re=null,X=b;do{var Ce=X.lane,Ye=X.eventTime;if((p&Ce)===Ce){Ae!==null&&(Ae=Ae.next={eventTime:Ye,lane:0,tag:X.tag,payload:X.payload,callback:X.callback,next:null});e:{var Je=i,Ze=X;switch(Ce=o,Ye=d,Ze.tag){case 1:if(Je=Ze.payload,typeof Je=="function"){Re=Je.call(Ye,Re,Ce);break e}Re=Je;break e;case 3:Je.flags=Je.flags&-65537|128;case 0:if(Je=Ze.payload,Ce=typeof Je=="function"?Je.call(Ye,Re,Ce):Je,Ce==null)break e;Re=Y({},Re,Ce);break e;case 2:La=!0}}X.callback!==null&&X.lane!==0&&(i.flags|=64,Ce=y.effects,Ce===null?y.effects=[X]:Ce.push(X))}else Ye={eventTime:Ye,lane:Ce,tag:X.tag,payload:X.payload,callback:X.callback,next:null},Ae===null?(me=Ae=Ye,re=Re):Ae=Ae.next=Ye,k|=Ce;if(X=X.next,X===null){if(X=y.shared.pending,X===null)break;Ce=X,X=Ce.next,Ce.next=null,y.lastBaseUpdate=Ce,y.shared.pending=null}}while(!0);if(Ae===null&&(re=Re),y.baseState=re,y.firstBaseUpdate=me,y.lastBaseUpdate=Ae,o=y.shared.interleaved,o!==null){y=o;do k|=y.lane,y=y.next;while(y!==o)}else b===null&&(y.shared.lanes=0);Mo|=k,i.lanes=k,i.memoizedState=Re}}function Jv(i,o,d){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var p=i[o],y=p.callback;if(y!==null){if(p.callback=null,p=d,typeof y!="function")throw Error(t(191,y));y.call(p)}}}var Zv=new r.Component().refs;function _m(i,o,d,p){o=i.memoizedState,d=d(p,o),d=d==null?o:Y({},o,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var lh={isMounted:function(i){return(i=i._reactInternals)?K(i)===i:!1},enqueueSetState:function(i,o,d){i=i._reactInternals;var p=Un(),y=za(i),b=Ji(p,y);b.payload=o,d!=null&&(b.callback=d),o=Ma(i,b,y),o!==null&&(ti(o,i,y,p),ah(o,i,y))},enqueueReplaceState:function(i,o,d){i=i._reactInternals;var p=Un(),y=za(i),b=Ji(p,y);b.tag=1,b.payload=o,d!=null&&(b.callback=d),o=Ma(i,b,y),o!==null&&(ti(o,i,y,p),ah(o,i,y))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var d=Un(),p=za(i),y=Ji(d,p);y.tag=2,o!=null&&(y.callback=o),o=Ma(i,y,p),o!==null&&(ti(o,i,p,d),ah(o,i,p))}};function e1(i,o,d,p,y,b,k){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,b,k):o.prototype&&o.prototype.isPureReactComponent?!Kc(d,p)||!Kc(y,b):!0}function t1(i,o,d){var p=!1,y=Oa,b=o.contextType;return typeof b=="object"&&b!==null?b=js(b):(y=Xn(o)?Po:Tn.current,p=o.contextTypes,b=(p=p!=null)?Ml(i,y):Oa),o=new o(d,b),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=lh,i.stateNode=o,o._reactInternals=i,p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=y,i.__reactInternalMemoizedMaskedChildContext=b),o}function r1(i,o,d,p){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,p),o.state!==i&&lh.enqueueReplaceState(o,o.state,null)}function Em(i,o,d,p){var y=i.stateNode;y.props=d,y.state=i.memoizedState,y.refs=Zv,wm(i);var b=o.contextType;typeof b=="object"&&b!==null?y.context=js(b):(b=Xn(o)?Po:Tn.current,y.context=Ml(i,b)),y.state=i.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(_m(i,o,b,d),y.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(o=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),o!==y.state&&lh.enqueueReplaceState(y,y.state,null),oh(i,d,y,p),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308)}function tu(i,o,d){if(i=d.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(t(309));var p=d.stateNode}if(!p)throw Error(t(147,i));var y=p,b=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===b?o.ref:(o=function(k){var X=y.refs;X===Zv&&(X=y.refs={}),k===null?delete X[b]:X[b]=k},o._stringRef=b,o)}if(typeof i!="string")throw Error(t(284));if(!d._owner)throw Error(t(290,i))}return i}function ch(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function n1(i){var o=i._init;return o(i._payload)}function s1(i){function o(ae,ne){if(i){var ue=ae.deletions;ue===null?(ae.deletions=[ne],ae.flags|=16):ue.push(ne)}}function d(ae,ne){if(!i)return null;for(;ne!==null;)o(ae,ne),ne=ne.sibling;return null}function p(ae,ne){for(ae=new Map;ne!==null;)ne.key!==null?ae.set(ne.key,ne):ae.set(ne.index,ne),ne=ne.sibling;return ae}function y(ae,ne){return ae=Wa(ae,ne),ae.index=0,ae.sibling=null,ae}function b(ae,ne,ue){return ae.index=ue,i?(ue=ae.alternate,ue!==null?(ue=ue.index,ue<ne?(ae.flags|=2,ne):ue):(ae.flags|=2,ne)):(ae.flags|=1048576,ne)}function k(ae){return i&&ae.alternate===null&&(ae.flags|=2),ae}function X(ae,ne,ue,Oe){return ne===null||ne.tag!==6?(ne=ip(ue,ae.mode,Oe),ne.return=ae,ne):(ne=y(ne,ue),ne.return=ae,ne)}function re(ae,ne,ue,Oe){var tt=ue.type;return tt===N?Ae(ae,ne,ue.props.children,Oe,ue.key):ne!==null&&(ne.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===Te&&n1(tt)===ne.type)?(Oe=y(ne,ue.props),Oe.ref=tu(ae,ne,ue),Oe.return=ae,Oe):(Oe=Ah(ue.type,ue.key,ue.props,null,ae.mode,Oe),Oe.ref=tu(ae,ne,ue),Oe.return=ae,Oe)}function me(ae,ne,ue,Oe){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==ue.containerInfo||ne.stateNode.implementation!==ue.implementation?(ne=ap(ue,ae.mode,Oe),ne.return=ae,ne):(ne=y(ne,ue.children||[]),ne.return=ae,ne)}function Ae(ae,ne,ue,Oe,tt){return ne===null||ne.tag!==7?(ne=zo(ue,ae.mode,Oe,tt),ne.return=ae,ne):(ne=y(ne,ue),ne.return=ae,ne)}function Re(ae,ne,ue){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return ne=ip(""+ne,ae.mode,ue),ne.return=ae,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case Z:return ue=Ah(ne.type,ne.key,ne.props,null,ae.mode,ue),ue.ref=tu(ae,null,ne),ue.return=ae,ue;case Q:return ne=ap(ne,ae.mode,ue),ne.return=ae,ne;case Te:var Oe=ne._init;return Re(ae,Oe(ne._payload),ue)}if(nt(ne)||pe(ne))return ne=zo(ne,ae.mode,ue,null),ne.return=ae,ne;ch(ae,ne)}return null}function Ce(ae,ne,ue,Oe){var tt=ne!==null?ne.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return tt!==null?null:X(ae,ne,""+ue,Oe);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case Z:return ue.key===tt?re(ae,ne,ue,Oe):null;case Q:return ue.key===tt?me(ae,ne,ue,Oe):null;case Te:return tt=ue._init,Ce(ae,ne,tt(ue._payload),Oe)}if(nt(ue)||pe(ue))return tt!==null?null:Ae(ae,ne,ue,Oe,null);ch(ae,ue)}return null}function Ye(ae,ne,ue,Oe,tt){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number")return ae=ae.get(ue)||null,X(ne,ae,""+Oe,tt);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case Z:return ae=ae.get(Oe.key===null?ue:Oe.key)||null,re(ne,ae,Oe,tt);case Q:return ae=ae.get(Oe.key===null?ue:Oe.key)||null,me(ne,ae,Oe,tt);case Te:var it=Oe._init;return Ye(ae,ne,ue,it(Oe._payload),tt)}if(nt(Oe)||pe(Oe))return ae=ae.get(ue)||null,Ae(ne,ae,Oe,tt,null);ch(ne,Oe)}return null}function Je(ae,ne,ue,Oe){for(var tt=null,it=null,at=ne,dt=ne=0,Zr=null;at!==null&&dt<ue.length;dt++){at.index>dt?(Zr=at,at=null):Zr=at.sibling;var Mt=Ce(ae,at,ue[dt],Oe);if(Mt===null){at===null&&(at=Zr);break}i&&at&&Mt.alternate===null&&o(ae,at),ne=b(Mt,ne,dt),it===null?tt=Mt:it.sibling=Mt,it=Mt,at=Zr}if(dt===ue.length)return d(ae,at),gr&&Do(ae,dt),tt;if(at===null){for(;dt<ue.length;dt++)at=Re(ae,ue[dt],Oe),at!==null&&(ne=b(at,ne,dt),it===null?tt=at:it.sibling=at,it=at);return gr&&Do(ae,dt),tt}for(at=p(ae,at);dt<ue.length;dt++)Zr=Ye(at,ae,dt,ue[dt],Oe),Zr!==null&&(i&&Zr.alternate!==null&&at.delete(Zr.key===null?dt:Zr.key),ne=b(Zr,ne,dt),it===null?tt=Zr:it.sibling=Zr,it=Zr);return i&&at.forEach(function(Ha){return o(ae,Ha)}),gr&&Do(ae,dt),tt}function Ze(ae,ne,ue,Oe){var tt=pe(ue);if(typeof tt!="function")throw Error(t(150));if(ue=tt.call(ue),ue==null)throw Error(t(151));for(var it=tt=null,at=ne,dt=ne=0,Zr=null,Mt=ue.next();at!==null&&!Mt.done;dt++,Mt=ue.next()){at.index>dt?(Zr=at,at=null):Zr=at.sibling;var Ha=Ce(ae,at,Mt.value,Oe);if(Ha===null){at===null&&(at=Zr);break}i&&at&&Ha.alternate===null&&o(ae,at),ne=b(Ha,ne,dt),it===null?tt=Ha:it.sibling=Ha,it=Ha,at=Zr}if(Mt.done)return d(ae,at),gr&&Do(ae,dt),tt;if(at===null){for(;!Mt.done;dt++,Mt=ue.next())Mt=Re(ae,Mt.value,Oe),Mt!==null&&(ne=b(Mt,ne,dt),it===null?tt=Mt:it.sibling=Mt,it=Mt);return gr&&Do(ae,dt),tt}for(at=p(ae,at);!Mt.done;dt++,Mt=ue.next())Mt=Ye(at,ae,dt,Mt.value,Oe),Mt!==null&&(i&&Mt.alternate!==null&&at.delete(Mt.key===null?dt:Mt.key),ne=b(Mt,ne,dt),it===null?tt=Mt:it.sibling=Mt,it=Mt);return i&&at.forEach(function(oN){return o(ae,oN)}),gr&&Do(ae,dt),tt}function Pr(ae,ne,ue,Oe){if(typeof ue=="object"&&ue!==null&&ue.type===N&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case Z:e:{for(var tt=ue.key,it=ne;it!==null;){if(it.key===tt){if(tt=ue.type,tt===N){if(it.tag===7){d(ae,it.sibling),ne=y(it,ue.props.children),ne.return=ae,ae=ne;break e}}else if(it.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===Te&&n1(tt)===it.type){d(ae,it.sibling),ne=y(it,ue.props),ne.ref=tu(ae,it,ue),ne.return=ae,ae=ne;break e}d(ae,it);break}else o(ae,it);it=it.sibling}ue.type===N?(ne=zo(ue.props.children,ae.mode,Oe,ue.key),ne.return=ae,ae=ne):(Oe=Ah(ue.type,ue.key,ue.props,null,ae.mode,Oe),Oe.ref=tu(ae,ne,ue),Oe.return=ae,ae=Oe)}return k(ae);case Q:e:{for(it=ue.key;ne!==null;){if(ne.key===it)if(ne.tag===4&&ne.stateNode.containerInfo===ue.containerInfo&&ne.stateNode.implementation===ue.implementation){d(ae,ne.sibling),ne=y(ne,ue.children||[]),ne.return=ae,ae=ne;break e}else{d(ae,ne);break}else o(ae,ne);ne=ne.sibling}ne=ap(ue,ae.mode,Oe),ne.return=ae,ae=ne}return k(ae);case Te:return it=ue._init,Pr(ae,ne,it(ue._payload),Oe)}if(nt(ue))return Je(ae,ne,ue,Oe);if(pe(ue))return Ze(ae,ne,ue,Oe);ch(ae,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"?(ue=""+ue,ne!==null&&ne.tag===6?(d(ae,ne.sibling),ne=y(ne,ue),ne.return=ae,ae=ne):(d(ae,ne),ne=ip(ue,ae.mode,Oe),ne.return=ae,ae=ne),k(ae)):d(ae,ne)}return Pr}var Wl=s1(!0),i1=s1(!1),ru={},Ei=Da(ru),nu=Da(ru),su=Da(ru);function Fo(i){if(i===ru)throw Error(t(174));return i}function bm(i,o){switch(ar(su,o),ar(nu,i),ar(Ei,ru),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:$t(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=$t(o,i)}fr(Ei),ar(Ei,o)}function Hl(){fr(Ei),fr(nu),fr(su)}function a1(i){Fo(su.current);var o=Fo(Ei.current),d=$t(o,i.type);o!==d&&(ar(nu,i),ar(Ei,d))}function Tm(i){nu.current===i&&(fr(Ei),fr(nu))}var yr=Da(0);function uh(i){for(var o=i;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Sm=[];function Nm(){for(var i=0;i<Sm.length;i++)Sm[i]._workInProgressVersionPrimary=null;Sm.length=0}var dh=M.ReactCurrentDispatcher,Cm=M.ReactCurrentBatchConfig,Lo=0,wr=null,Hr=null,Qr=null,hh=!1,iu=!1,au=0,IS=0;function Sn(){throw Error(t(321))}function Am(i,o){if(o===null)return!1;for(var d=0;d<o.length&&d<i.length;d++)if(!Xs(i[d],o[d]))return!1;return!0}function Im(i,o,d,p,y,b){if(Lo=b,wr=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,dh.current=i===null||i.memoizedState===null?jS:DS,i=d(p,y),iu){b=0;do{if(iu=!1,au=0,25<=b)throw Error(t(301));b+=1,Qr=Hr=null,o.updateQueue=null,dh.current=OS,i=d(p,y)}while(iu)}if(dh.current=ph,o=Hr!==null&&Hr.next!==null,Lo=0,Qr=Hr=wr=null,hh=!1,o)throw Error(t(300));return i}function km(){var i=au!==0;return au=0,i}function bi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qr===null?wr.memoizedState=Qr=i:Qr=Qr.next=i,Qr}function Ds(){if(Hr===null){var i=wr.alternate;i=i!==null?i.memoizedState:null}else i=Hr.next;var o=Qr===null?wr.memoizedState:Qr.next;if(o!==null)Qr=o,Hr=i;else{if(i===null)throw Error(t(310));Hr=i,i={memoizedState:Hr.memoizedState,baseState:Hr.baseState,baseQueue:Hr.baseQueue,queue:Hr.queue,next:null},Qr===null?wr.memoizedState=Qr=i:Qr=Qr.next=i}return Qr}function ou(i,o){return typeof o=="function"?o(i):o}function Rm(i){var o=Ds(),d=o.queue;if(d===null)throw Error(t(311));d.lastRenderedReducer=i;var p=Hr,y=p.baseQueue,b=d.pending;if(b!==null){if(y!==null){var k=y.next;y.next=b.next,b.next=k}p.baseQueue=y=b,d.pending=null}if(y!==null){b=y.next,p=p.baseState;var X=k=null,re=null,me=b;do{var Ae=me.lane;if((Lo&Ae)===Ae)re!==null&&(re=re.next={lane:0,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null}),p=me.hasEagerState?me.eagerState:i(p,me.action);else{var Re={lane:Ae,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null};re===null?(X=re=Re,k=p):re=re.next=Re,wr.lanes|=Ae,Mo|=Ae}me=me.next}while(me!==null&&me!==b);re===null?k=p:re.next=X,Xs(p,o.memoizedState)||(Qn=!0),o.memoizedState=p,o.baseState=k,o.baseQueue=re,d.lastRenderedState=p}if(i=d.interleaved,i!==null){y=i;do b=y.lane,wr.lanes|=b,Mo|=b,y=y.next;while(y!==i)}else y===null&&(d.lanes=0);return[o.memoizedState,d.dispatch]}function Pm(i){var o=Ds(),d=o.queue;if(d===null)throw Error(t(311));d.lastRenderedReducer=i;var p=d.dispatch,y=d.pending,b=o.memoizedState;if(y!==null){d.pending=null;var k=y=y.next;do b=i(b,k.action),k=k.next;while(k!==y);Xs(b,o.memoizedState)||(Qn=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),d.lastRenderedState=b}return[b,p]}function o1(){}function l1(i,o){var d=wr,p=Ds(),y=o(),b=!Xs(p.memoizedState,y);if(b&&(p.memoizedState=y,Qn=!0),p=p.queue,jm(d1.bind(null,d,p,i),[i]),p.getSnapshot!==o||b||Qr!==null&&Qr.memoizedState.tag&1){if(d.flags|=2048,lu(9,u1.bind(null,d,p,y,o),void 0,null),Jr===null)throw Error(t(349));(Lo&30)!==0||c1(d,o,y)}return y}function c1(i,o,d){i.flags|=16384,i={getSnapshot:o,value:d},o=wr.updateQueue,o===null?(o={lastEffect:null,stores:null},wr.updateQueue=o,o.stores=[i]):(d=o.stores,d===null?o.stores=[i]:d.push(i))}function u1(i,o,d,p){o.value=d,o.getSnapshot=p,h1(o)&&f1(i)}function d1(i,o,d){return d(function(){h1(o)&&f1(i)})}function h1(i){var o=i.getSnapshot;i=i.value;try{var d=o();return!Xs(i,d)}catch{return!0}}function f1(i){var o=Qi(i,1);o!==null&&ti(o,i,1,-1)}function m1(i){var o=bi();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ou,lastRenderedState:i},o.queue=i,i=i.dispatch=PS.bind(null,wr,i),[o.memoizedState,i]}function lu(i,o,d,p){return i={tag:i,create:o,destroy:d,deps:p,next:null},o=wr.updateQueue,o===null?(o={lastEffect:null,stores:null},wr.updateQueue=o,o.lastEffect=i.next=i):(d=o.lastEffect,d===null?o.lastEffect=i.next=i:(p=d.next,d.next=i,i.next=p,o.lastEffect=i)),i}function p1(){return Ds().memoizedState}function fh(i,o,d,p){var y=bi();wr.flags|=i,y.memoizedState=lu(1|o,d,void 0,p===void 0?null:p)}function mh(i,o,d,p){var y=Ds();p=p===void 0?null:p;var b=void 0;if(Hr!==null){var k=Hr.memoizedState;if(b=k.destroy,p!==null&&Am(p,k.deps)){y.memoizedState=lu(o,d,b,p);return}}wr.flags|=i,y.memoizedState=lu(1|o,d,b,p)}function g1(i,o){return fh(8390656,8,i,o)}function jm(i,o){return mh(2048,8,i,o)}function x1(i,o){return mh(4,2,i,o)}function v1(i,o){return mh(4,4,i,o)}function y1(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function w1(i,o,d){return d=d!=null?d.concat([i]):null,mh(4,4,y1.bind(null,o,i),d)}function Dm(){}function _1(i,o){var d=Ds();o=o===void 0?null:o;var p=d.memoizedState;return p!==null&&o!==null&&Am(o,p[1])?p[0]:(d.memoizedState=[i,o],i)}function E1(i,o){var d=Ds();o=o===void 0?null:o;var p=d.memoizedState;return p!==null&&o!==null&&Am(o,p[1])?p[0]:(i=i(),d.memoizedState=[i,o],i)}function b1(i,o,d){return(Lo&21)===0?(i.baseState&&(i.baseState=!1,Qn=!0),i.memoizedState=d):(Xs(d,o)||(d=No(),wr.lanes|=d,Mo|=d,i.baseState=!0),o)}function kS(i,o){var d=Rt;Rt=d!==0&&4>d?d:4,i(!0);var p=Cm.transition;Cm.transition={};try{i(!1),o()}finally{Rt=d,Cm.transition=p}}function T1(){return Ds().memoizedState}function RS(i,o,d){var p=za(i);if(d={lane:p,action:d,hasEagerState:!1,eagerState:null,next:null},S1(i))N1(o,d);else if(d=Yv(i,o,d,p),d!==null){var y=Un();ti(d,i,p,y),C1(d,o,p)}}function PS(i,o,d){var p=za(i),y={lane:p,action:d,hasEagerState:!1,eagerState:null,next:null};if(S1(i))N1(o,y);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var k=o.lastRenderedState,X=b(k,d);if(y.hasEagerState=!0,y.eagerState=X,Xs(X,k)){var re=o.interleaved;re===null?(y.next=y,ym(o)):(y.next=re.next,re.next=y),o.interleaved=y;return}}catch{}finally{}d=Yv(i,o,y,p),d!==null&&(y=Un(),ti(d,i,p,y),C1(d,o,p))}}function S1(i){var o=i.alternate;return i===wr||o!==null&&o===wr}function N1(i,o){iu=hh=!0;var d=i.pending;d===null?o.next=o:(o.next=d.next,d.next=o),i.pending=o}function C1(i,o,d){if((d&4194240)!==0){var p=o.lanes;p&=i.pendingLanes,d|=p,o.lanes=d,Ca(i,d)}}var ph={readContext:js,useCallback:Sn,useContext:Sn,useEffect:Sn,useImperativeHandle:Sn,useInsertionEffect:Sn,useLayoutEffect:Sn,useMemo:Sn,useReducer:Sn,useRef:Sn,useState:Sn,useDebugValue:Sn,useDeferredValue:Sn,useTransition:Sn,useMutableSource:Sn,useSyncExternalStore:Sn,useId:Sn,unstable_isNewReconciler:!1},jS={readContext:js,useCallback:function(i,o){return bi().memoizedState=[i,o===void 0?null:o],i},useContext:js,useEffect:g1,useImperativeHandle:function(i,o,d){return d=d!=null?d.concat([i]):null,fh(4194308,4,y1.bind(null,o,i),d)},useLayoutEffect:function(i,o){return fh(4194308,4,i,o)},useInsertionEffect:function(i,o){return fh(4,2,i,o)},useMemo:function(i,o){var d=bi();return o=o===void 0?null:o,i=i(),d.memoizedState=[i,o],i},useReducer:function(i,o,d){var p=bi();return o=d!==void 0?d(o):o,p.memoizedState=p.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},p.queue=i,i=i.dispatch=RS.bind(null,wr,i),[p.memoizedState,i]},useRef:function(i){var o=bi();return i={current:i},o.memoizedState=i},useState:m1,useDebugValue:Dm,useDeferredValue:function(i){return bi().memoizedState=i},useTransition:function(){var i=m1(!1),o=i[0];return i=kS.bind(null,i[1]),bi().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,d){var p=wr,y=bi();if(gr){if(d===void 0)throw Error(t(407));d=d()}else{if(d=o(),Jr===null)throw Error(t(349));(Lo&30)!==0||c1(p,o,d)}y.memoizedState=d;var b={value:d,getSnapshot:o};return y.queue=b,g1(d1.bind(null,p,b,i),[i]),p.flags|=2048,lu(9,u1.bind(null,p,b,d,o),void 0,null),d},useId:function(){var i=bi(),o=Jr.identifierPrefix;if(gr){var d=Xi,p=Yi;d=(p&~(1<<32-dr(p)-1)).toString(32)+d,o=":"+o+"R"+d,d=au++,0<d&&(o+="H"+d.toString(32)),o+=":"}else d=IS++,o=":"+o+"r"+d.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},DS={readContext:js,useCallback:_1,useContext:js,useEffect:jm,useImperativeHandle:w1,useInsertionEffect:x1,useLayoutEffect:v1,useMemo:E1,useReducer:Rm,useRef:p1,useState:function(){return Rm(ou)},useDebugValue:Dm,useDeferredValue:function(i){var o=Ds();return b1(o,Hr.memoizedState,i)},useTransition:function(){var i=Rm(ou)[0],o=Ds().memoizedState;return[i,o]},useMutableSource:o1,useSyncExternalStore:l1,useId:T1,unstable_isNewReconciler:!1},OS={readContext:js,useCallback:_1,useContext:js,useEffect:jm,useImperativeHandle:w1,useInsertionEffect:x1,useLayoutEffect:v1,useMemo:E1,useReducer:Pm,useRef:p1,useState:function(){return Pm(ou)},useDebugValue:Dm,useDeferredValue:function(i){var o=Ds();return Hr===null?o.memoizedState=i:b1(o,Hr.memoizedState,i)},useTransition:function(){var i=Pm(ou)[0],o=Ds().memoizedState;return[i,o]},useMutableSource:o1,useSyncExternalStore:l1,useId:T1,unstable_isNewReconciler:!1};function Gl(i,o){try{var d="",p=o;do d+=te(p),p=p.return;while(p);var y=d}catch(b){y=`
Error generating stack: `+b.message+`
`+b.stack}return{value:i,source:o,stack:y,digest:null}}function Om(i,o,d){return{value:i,source:null,stack:d??null,digest:o??null}}function Fm(i,o){try{console.error(o.value)}catch(d){setTimeout(function(){throw d})}}var FS=typeof WeakMap=="function"?WeakMap:Map;function A1(i,o,d){d=Ji(-1,d),d.tag=3,d.payload={element:null};var p=o.value;return d.callback=function(){Eh||(Eh=!0,Qm=p),Fm(i,o)},d}function I1(i,o,d){d=Ji(-1,d),d.tag=3;var p=i.type.getDerivedStateFromError;if(typeof p=="function"){var y=o.value;d.payload=function(){return p(y)},d.callback=function(){Fm(i,o)}}var b=i.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(d.callback=function(){Fm(i,o),typeof p!="function"&&(Va===null?Va=new Set([this]):Va.add(this));var k=o.stack;this.componentDidCatch(o.value,{componentStack:k!==null?k:""})}),d}function k1(i,o,d){var p=i.pingCache;if(p===null){p=i.pingCache=new FS;var y=new Set;p.set(o,y)}else y=p.get(o),y===void 0&&(y=new Set,p.set(o,y));y.has(d)||(y.add(d),i=XS.bind(null,i,o,d),o.then(i,i))}function R1(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function P1(i,o,d,p,y){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(o=Ji(-1,1),o.tag=2,Ma(d,o,1))),d.lanes|=1),i):(i.flags|=65536,i.lanes=y,i)}var LS=M.ReactCurrentOwner,Qn=!1;function Mn(i,o,d,p){o.child=i===null?i1(o,null,d,p):Wl(o,i.child,d,p)}function j1(i,o,d,p,y){d=d.render;var b=o.ref;return $l(o,y),p=Im(i,o,d,p,b,y),d=km(),i!==null&&!Qn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~y,Zi(i,o,y)):(gr&&d&&um(o),o.flags|=1,Mn(i,o,p,y),o.child)}function D1(i,o,d,p,y){if(i===null){var b=d.type;return typeof b=="function"&&!sp(b)&&b.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(o.tag=15,o.type=b,O1(i,o,b,p,y)):(i=Ah(d.type,null,p,o,o.mode,y),i.ref=o.ref,i.return=o,o.child=i)}if(b=i.child,(i.lanes&y)===0){var k=b.memoizedProps;if(d=d.compare,d=d!==null?d:Kc,d(k,p)&&i.ref===o.ref)return Zi(i,o,y)}return o.flags|=1,i=Wa(b,p),i.ref=o.ref,i.return=o,o.child=i}function O1(i,o,d,p,y){if(i!==null){var b=i.memoizedProps;if(Kc(b,p)&&i.ref===o.ref)if(Qn=!1,o.pendingProps=p=b,(i.lanes&y)!==0)(i.flags&131072)!==0&&(Qn=!0);else return o.lanes=i.lanes,Zi(i,o,y)}return Lm(i,o,d,p,y)}function F1(i,o,d){var p=o.pendingProps,y=p.children,b=i!==null?i.memoizedState:null;if(p.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},ar(Kl,gs),gs|=d;else{if((d&1073741824)===0)return i=b!==null?b.baseLanes|d:d,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,ar(Kl,gs),gs|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=b!==null?b.baseLanes:d,ar(Kl,gs),gs|=p}else b!==null?(p=b.baseLanes|d,o.memoizedState=null):p=d,ar(Kl,gs),gs|=p;return Mn(i,o,y,d),o.child}function L1(i,o){var d=o.ref;(i===null&&d!==null||i!==null&&i.ref!==d)&&(o.flags|=512,o.flags|=2097152)}function Lm(i,o,d,p,y){var b=Xn(d)?Po:Tn.current;return b=Ml(o,b),$l(o,y),d=Im(i,o,d,p,b,y),p=km(),i!==null&&!Qn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~y,Zi(i,o,y)):(gr&&p&&um(o),o.flags|=1,Mn(i,o,d,y),o.child)}function M1(i,o,d,p,y){if(Xn(d)){var b=!0;Zd(o)}else b=!1;if($l(o,y),o.stateNode===null)xh(i,o),t1(o,d,p),Em(o,d,p,y),p=!0;else if(i===null){var k=o.stateNode,X=o.memoizedProps;k.props=X;var re=k.context,me=d.contextType;typeof me=="object"&&me!==null?me=js(me):(me=Xn(d)?Po:Tn.current,me=Ml(o,me));var Ae=d.getDerivedStateFromProps,Re=typeof Ae=="function"||typeof k.getSnapshotBeforeUpdate=="function";Re||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(X!==p||re!==me)&&r1(o,k,p,me),La=!1;var Ce=o.memoizedState;k.state=Ce,oh(o,p,k,y),re=o.memoizedState,X!==p||Ce!==re||Yn.current||La?(typeof Ae=="function"&&(_m(o,d,Ae,p),re=o.memoizedState),(X=La||e1(o,d,X,p,Ce,re,me))?(Re||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(o.flags|=4194308)):(typeof k.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=re),k.props=p,k.state=re,k.context=me,p=X):(typeof k.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{k=o.stateNode,Xv(i,o),X=o.memoizedProps,me=o.type===o.elementType?X:Js(o.type,X),k.props=me,Re=o.pendingProps,Ce=k.context,re=d.contextType,typeof re=="object"&&re!==null?re=js(re):(re=Xn(d)?Po:Tn.current,re=Ml(o,re));var Ye=d.getDerivedStateFromProps;(Ae=typeof Ye=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(X!==Re||Ce!==re)&&r1(o,k,p,re),La=!1,Ce=o.memoizedState,k.state=Ce,oh(o,p,k,y);var Je=o.memoizedState;X!==Re||Ce!==Je||Yn.current||La?(typeof Ye=="function"&&(_m(o,d,Ye,p),Je=o.memoizedState),(me=La||e1(o,d,me,p,Ce,Je,re)||!1)?(Ae||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(p,Je,re),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(p,Je,re)),typeof k.componentDidUpdate=="function"&&(o.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof k.componentDidUpdate!="function"||X===i.memoizedProps&&Ce===i.memoizedState||(o.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||X===i.memoizedProps&&Ce===i.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=Je),k.props=p,k.state=Je,k.context=re,p=me):(typeof k.componentDidUpdate!="function"||X===i.memoizedProps&&Ce===i.memoizedState||(o.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||X===i.memoizedProps&&Ce===i.memoizedState||(o.flags|=1024),p=!1)}return Mm(i,o,d,p,b,y)}function Mm(i,o,d,p,y,b){L1(i,o);var k=(o.flags&128)!==0;if(!p&&!k)return y&&zv(o,d,!1),Zi(i,o,b);p=o.stateNode,LS.current=o;var X=k&&typeof d.getDerivedStateFromError!="function"?null:p.render();return o.flags|=1,i!==null&&k?(o.child=Wl(o,i.child,null,b),o.child=Wl(o,null,X,b)):Mn(i,o,X,b),o.memoizedState=p.state,y&&zv(o,d,!0),o.child}function U1(i){var o=i.stateNode;o.pendingContext?Vv(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Vv(i,o.context,!1),bm(i,o.containerInfo)}function V1(i,o,d,p,y){return Bl(),mm(y),o.flags|=256,Mn(i,o,d,p),o.child}var Um={dehydrated:null,treeContext:null,retryLane:0};function Vm(i){return{baseLanes:i,cachePool:null,transitions:null}}function B1(i,o,d){var p=o.pendingProps,y=yr.current,b=!1,k=(o.flags&128)!==0,X;if((X=k)||(X=i!==null&&i.memoizedState===null?!1:(y&2)!==0),X?(b=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(y|=1),ar(yr,y&1),i===null)return fm(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(k=p.children,i=p.fallback,b?(p=o.mode,b=o.child,k={mode:"hidden",children:k},(p&1)===0&&b!==null?(b.childLanes=0,b.pendingProps=k):b=Ih(k,p,0,null),i=zo(i,p,d,null),b.return=o,i.return=o,b.sibling=i,o.child=b,o.child.memoizedState=Vm(d),o.memoizedState=Um,i):Bm(o,k));if(y=i.memoizedState,y!==null&&(X=y.dehydrated,X!==null))return MS(i,o,k,p,X,y,d);if(b){b=p.fallback,k=o.mode,y=i.child,X=y.sibling;var re={mode:"hidden",children:p.children};return(k&1)===0&&o.child!==y?(p=o.child,p.childLanes=0,p.pendingProps=re,o.deletions=null):(p=Wa(y,re),p.subtreeFlags=y.subtreeFlags&14680064),X!==null?b=Wa(X,b):(b=zo(b,k,d,null),b.flags|=2),b.return=o,p.return=o,p.sibling=b,o.child=p,p=b,b=o.child,k=i.child.memoizedState,k=k===null?Vm(d):{baseLanes:k.baseLanes|d,cachePool:null,transitions:k.transitions},b.memoizedState=k,b.childLanes=i.childLanes&~d,o.memoizedState=Um,p}return b=i.child,i=b.sibling,p=Wa(b,{mode:"visible",children:p.children}),(o.mode&1)===0&&(p.lanes=d),p.return=o,p.sibling=null,i!==null&&(d=o.deletions,d===null?(o.deletions=[i],o.flags|=16):d.push(i)),o.child=p,o.memoizedState=null,p}function Bm(i,o){return o=Ih({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function gh(i,o,d,p){return p!==null&&mm(p),Wl(o,i.child,null,d),i=Bm(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function MS(i,o,d,p,y,b,k){if(d)return o.flags&256?(o.flags&=-257,p=Om(Error(t(422))),gh(i,o,k,p)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(b=p.fallback,y=o.mode,p=Ih({mode:"visible",children:p.children},y,0,null),b=zo(b,y,k,null),b.flags|=2,p.return=o,b.return=o,p.sibling=b,o.child=p,(o.mode&1)!==0&&Wl(o,i.child,null,k),o.child.memoizedState=Vm(k),o.memoizedState=Um,b);if((o.mode&1)===0)return gh(i,o,k,null);if(y.data==="$!"){if(p=y.nextSibling&&y.nextSibling.dataset,p)var X=p.dgst;return p=X,b=Error(t(419)),p=Om(b,p,void 0),gh(i,o,k,p)}if(X=(k&i.childLanes)!==0,Qn||X){if(p=Jr,p!==null){switch(k&-k){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(p.suspendedLanes|k))!==0?0:y,y!==0&&y!==b.retryLane&&(b.retryLane=y,Qi(i,y),ti(p,i,y,-1))}return np(),p=Om(Error(t(421))),gh(i,o,k,p)}return y.data==="$?"?(o.flags|=128,o.child=i.child,o=QS.bind(null,i),y._reactRetry=o,null):(i=b.treeContext,ps=ja(y.nextSibling),ms=o,gr=!0,Qs=null,i!==null&&(Rs[Ps++]=Yi,Rs[Ps++]=Xi,Rs[Ps++]=jo,Yi=i.id,Xi=i.overflow,jo=o),o=Bm(o,p.children),o.flags|=4096,o)}function z1(i,o,d){i.lanes|=o;var p=i.alternate;p!==null&&(p.lanes|=o),vm(i.return,o,d)}function zm(i,o,d,p,y){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:y}:(b.isBackwards=o,b.rendering=null,b.renderingStartTime=0,b.last=p,b.tail=d,b.tailMode=y)}function $1(i,o,d){var p=o.pendingProps,y=p.revealOrder,b=p.tail;if(Mn(i,o,p.children,d),p=yr.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&z1(i,d,o);else if(i.tag===19)z1(i,d,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}if(ar(yr,p),(o.mode&1)===0)o.memoizedState=null;else switch(y){case"forwards":for(d=o.child,y=null;d!==null;)i=d.alternate,i!==null&&uh(i)===null&&(y=d),d=d.sibling;d=y,d===null?(y=o.child,o.child=null):(y=d.sibling,d.sibling=null),zm(o,!1,y,d,b);break;case"backwards":for(d=null,y=o.child,o.child=null;y!==null;){if(i=y.alternate,i!==null&&uh(i)===null){o.child=y;break}i=y.sibling,y.sibling=d,d=y,y=i}zm(o,!0,d,null,b);break;case"together":zm(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function xh(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Zi(i,o,d){if(i!==null&&(o.dependencies=i.dependencies),Mo|=o.lanes,(d&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,d=Wa(i,i.pendingProps),o.child=d,d.return=o;i.sibling!==null;)i=i.sibling,d=d.sibling=Wa(i,i.pendingProps),d.return=o;d.sibling=null}return o.child}function US(i,o,d){switch(o.tag){case 3:U1(o),Bl();break;case 5:a1(o);break;case 1:Xn(o.type)&&Zd(o);break;case 4:bm(o,o.stateNode.containerInfo);break;case 10:var p=o.type._context,y=o.memoizedProps.value;ar(sh,p._currentValue),p._currentValue=y;break;case 13:if(p=o.memoizedState,p!==null)return p.dehydrated!==null?(ar(yr,yr.current&1),o.flags|=128,null):(d&o.child.childLanes)!==0?B1(i,o,d):(ar(yr,yr.current&1),i=Zi(i,o,d),i!==null?i.sibling:null);ar(yr,yr.current&1);break;case 19:if(p=(d&o.childLanes)!==0,(i.flags&128)!==0){if(p)return $1(i,o,d);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ar(yr,yr.current),p)break;return null;case 22:case 23:return o.lanes=0,F1(i,o,d)}return Zi(i,o,d)}var W1,$m,H1,G1;W1=function(i,o){for(var d=o.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},$m=function(){},H1=function(i,o,d,p){var y=i.memoizedProps;if(y!==p){i=o.stateNode,Fo(Ei.current);var b=null;switch(d){case"input":y=ct(i,y),p=ct(i,p),b=[];break;case"select":y=Y({},y,{value:void 0}),p=Y({},p,{value:void 0}),b=[];break;case"textarea":y=yt(i,y),p=yt(i,p),b=[];break;default:typeof y.onClick!="function"&&typeof p.onClick=="function"&&(i.onclick=Xd)}bn(d,p);var k;d=null;for(me in y)if(!p.hasOwnProperty(me)&&y.hasOwnProperty(me)&&y[me]!=null)if(me==="style"){var X=y[me];for(k in X)X.hasOwnProperty(k)&&(d||(d={}),d[k]="")}else me!=="dangerouslySetInnerHTML"&&me!=="children"&&me!=="suppressContentEditableWarning"&&me!=="suppressHydrationWarning"&&me!=="autoFocus"&&(s.hasOwnProperty(me)?b||(b=[]):(b=b||[]).push(me,null));for(me in p){var re=p[me];if(X=y!=null?y[me]:void 0,p.hasOwnProperty(me)&&re!==X&&(re!=null||X!=null))if(me==="style")if(X){for(k in X)!X.hasOwnProperty(k)||re&&re.hasOwnProperty(k)||(d||(d={}),d[k]="");for(k in re)re.hasOwnProperty(k)&&X[k]!==re[k]&&(d||(d={}),d[k]=re[k])}else d||(b||(b=[]),b.push(me,d)),d=re;else me==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,X=X?X.__html:void 0,re!=null&&X!==re&&(b=b||[]).push(me,re)):me==="children"?typeof re!="string"&&typeof re!="number"||(b=b||[]).push(me,""+re):me!=="suppressContentEditableWarning"&&me!=="suppressHydrationWarning"&&(s.hasOwnProperty(me)?(re!=null&&me==="onScroll"&&hr("scroll",i),b||X===re||(b=[])):(b=b||[]).push(me,re))}d&&(b=b||[]).push("style",d);var me=b;(o.updateQueue=me)&&(o.flags|=4)}},G1=function(i,o,d,p){d!==p&&(o.flags|=4)};function cu(i,o){if(!gr)switch(i.tailMode){case"hidden":o=i.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function Nn(i){var o=i.alternate!==null&&i.alternate.child===i.child,d=0,p=0;if(o)for(var y=i.child;y!==null;)d|=y.lanes|y.childLanes,p|=y.subtreeFlags&14680064,p|=y.flags&14680064,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)d|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=p,i.childLanes=d,o}function VS(i,o,d){var p=o.pendingProps;switch(dm(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(o),null;case 1:return Xn(o.type)&&Jd(),Nn(o),null;case 3:return p=o.stateNode,Hl(),fr(Yn),fr(Tn),Nm(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(i===null||i.child===null)&&(nh(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Qs!==null&&(ep(Qs),Qs=null))),$m(i,o),Nn(o),null;case 5:Tm(o);var y=Fo(su.current);if(d=o.type,i!==null&&o.stateNode!=null)H1(i,o,d,p,y),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!p){if(o.stateNode===null)throw Error(t(166));return Nn(o),null}if(i=Fo(Ei.current),nh(o)){p=o.stateNode,d=o.type;var b=o.memoizedProps;switch(p[_i]=o,p[Zc]=b,i=(o.mode&1)!==0,d){case"dialog":hr("cancel",p),hr("close",p);break;case"iframe":case"object":case"embed":hr("load",p);break;case"video":case"audio":for(y=0;y<Xc.length;y++)hr(Xc[y],p);break;case"source":hr("error",p);break;case"img":case"image":case"link":hr("error",p),hr("load",p);break;case"details":hr("toggle",p);break;case"input":xr(p,b),hr("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!b.multiple},hr("invalid",p);break;case"textarea":sr(p,b),hr("invalid",p)}bn(d,b),y=null;for(var k in b)if(b.hasOwnProperty(k)){var X=b[k];k==="children"?typeof X=="string"?p.textContent!==X&&(b.suppressHydrationWarning!==!0&&Yd(p.textContent,X,i),y=["children",X]):typeof X=="number"&&p.textContent!==""+X&&(b.suppressHydrationWarning!==!0&&Yd(p.textContent,X,i),y=["children",""+X]):s.hasOwnProperty(k)&&X!=null&&k==="onScroll"&&hr("scroll",p)}switch(d){case"input":mt(p),Ne(p,b,!0);break;case"textarea":mt(p),cn(p);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(p.onclick=Xd)}p=y,o.updateQueue=p,p!==null&&(o.flags|=4)}else{k=y.nodeType===9?y:y.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Ft(d)),i==="http://www.w3.org/1999/xhtml"?d==="script"?(i=k.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof p.is=="string"?i=k.createElement(d,{is:p.is}):(i=k.createElement(d),d==="select"&&(k=i,p.multiple?k.multiple=!0:p.size&&(k.size=p.size))):i=k.createElementNS(i,d),i[_i]=o,i[Zc]=p,W1(i,o,!1,!1),o.stateNode=i;e:{switch(k=cr(d,p),d){case"dialog":hr("cancel",i),hr("close",i),y=p;break;case"iframe":case"object":case"embed":hr("load",i),y=p;break;case"video":case"audio":for(y=0;y<Xc.length;y++)hr(Xc[y],i);y=p;break;case"source":hr("error",i),y=p;break;case"img":case"image":case"link":hr("error",i),hr("load",i),y=p;break;case"details":hr("toggle",i),y=p;break;case"input":xr(i,p),y=ct(i,p),hr("invalid",i);break;case"option":y=p;break;case"select":i._wrapperState={wasMultiple:!!p.multiple},y=Y({},p,{value:void 0}),hr("invalid",i);break;case"textarea":sr(i,p),y=yt(i,p),hr("invalid",i);break;default:y=p}bn(d,y),X=y;for(b in X)if(X.hasOwnProperty(b)){var re=X[b];b==="style"?Or(i,re):b==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,re!=null&&As(i,re)):b==="children"?typeof re=="string"?(d!=="textarea"||re!=="")&&En(i,re):typeof re=="number"&&En(i,""+re):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(s.hasOwnProperty(b)?re!=null&&b==="onScroll"&&hr("scroll",i):re!=null&&L(i,b,re,k))}switch(d){case"input":mt(i),Ne(i,p,!1);break;case"textarea":mt(i),cn(i);break;case"option":p.value!=null&&i.setAttribute("value",""+Pe(p.value));break;case"select":i.multiple=!!p.multiple,b=p.value,b!=null?pt(i,!!p.multiple,b,!1):p.defaultValue!=null&&pt(i,!!p.multiple,p.defaultValue,!0);break;default:typeof y.onClick=="function"&&(i.onclick=Xd)}switch(d){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Nn(o),null;case 6:if(i&&o.stateNode!=null)G1(i,o,i.memoizedProps,p);else{if(typeof p!="string"&&o.stateNode===null)throw Error(t(166));if(d=Fo(su.current),Fo(Ei.current),nh(o)){if(p=o.stateNode,d=o.memoizedProps,p[_i]=o,(b=p.nodeValue!==d)&&(i=ms,i!==null))switch(i.tag){case 3:Yd(p.nodeValue,d,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Yd(p.nodeValue,d,(i.mode&1)!==0)}b&&(o.flags|=4)}else p=(d.nodeType===9?d:d.ownerDocument).createTextNode(p),p[_i]=o,o.stateNode=p}return Nn(o),null;case 13:if(fr(yr),p=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(gr&&ps!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Kv(),Bl(),o.flags|=98560,b=!1;else if(b=nh(o),p!==null&&p.dehydrated!==null){if(i===null){if(!b)throw Error(t(318));if(b=o.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(t(317));b[_i]=o}else Bl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Nn(o),b=!1}else Qs!==null&&(ep(Qs),Qs=null),b=!0;if(!b)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=d,o):(p=p!==null,p!==(i!==null&&i.memoizedState!==null)&&p&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(yr.current&1)!==0?Gr===0&&(Gr=3):np())),o.updateQueue!==null&&(o.flags|=4),Nn(o),null);case 4:return Hl(),$m(i,o),i===null&&Qc(o.stateNode.containerInfo),Nn(o),null;case 10:return xm(o.type._context),Nn(o),null;case 17:return Xn(o.type)&&Jd(),Nn(o),null;case 19:if(fr(yr),b=o.memoizedState,b===null)return Nn(o),null;if(p=(o.flags&128)!==0,k=b.rendering,k===null)if(p)cu(b,!1);else{if(Gr!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(k=uh(i),k!==null){for(o.flags|=128,cu(b,!1),p=k.updateQueue,p!==null&&(o.updateQueue=p,o.flags|=4),o.subtreeFlags=0,p=d,d=o.child;d!==null;)b=d,i=p,b.flags&=14680066,k=b.alternate,k===null?(b.childLanes=0,b.lanes=i,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=k.childLanes,b.lanes=k.lanes,b.child=k.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=k.memoizedProps,b.memoizedState=k.memoizedState,b.updateQueue=k.updateQueue,b.type=k.type,i=k.dependencies,b.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),d=d.sibling;return ar(yr,yr.current&1|2),o.child}i=i.sibling}b.tail!==null&&ke()>Yl&&(o.flags|=128,p=!0,cu(b,!1),o.lanes=4194304)}else{if(!p)if(i=uh(k),i!==null){if(o.flags|=128,p=!0,d=i.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),cu(b,!0),b.tail===null&&b.tailMode==="hidden"&&!k.alternate&&!gr)return Nn(o),null}else 2*ke()-b.renderingStartTime>Yl&&d!==1073741824&&(o.flags|=128,p=!0,cu(b,!1),o.lanes=4194304);b.isBackwards?(k.sibling=o.child,o.child=k):(d=b.last,d!==null?d.sibling=k:o.child=k,b.last=k)}return b.tail!==null?(o=b.tail,b.rendering=o,b.tail=o.sibling,b.renderingStartTime=ke(),o.sibling=null,d=yr.current,ar(yr,p?d&1|2:d&1),o):(Nn(o),null);case 22:case 23:return rp(),p=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==p&&(o.flags|=8192),p&&(o.mode&1)!==0?(gs&1073741824)!==0&&(Nn(o),o.subtreeFlags&6&&(o.flags|=8192)):Nn(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function BS(i,o){switch(dm(o),o.tag){case 1:return Xn(o.type)&&Jd(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Hl(),fr(Yn),fr(Tn),Nm(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return Tm(o),null;case 13:if(fr(yr),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Bl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return fr(yr),null;case 4:return Hl(),null;case 10:return xm(o.type._context),null;case 22:case 23:return rp(),null;case 24:return null;default:return null}}var vh=!1,Cn=!1,zS=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function ql(i,o){var d=i.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(p){Nr(i,o,p)}else d.current=null}function Wm(i,o,d){try{d()}catch(p){Nr(i,o,p)}}var q1=!1;function $S(i,o){if(rm=ka,i=Tv(),K0(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var y=p.anchorOffset,b=p.focusNode;p=p.focusOffset;try{d.nodeType,b.nodeType}catch{d=null;break e}var k=0,X=-1,re=-1,me=0,Ae=0,Re=i,Ce=null;t:for(;;){for(var Ye;Re!==d||y!==0&&Re.nodeType!==3||(X=k+y),Re!==b||p!==0&&Re.nodeType!==3||(re=k+p),Re.nodeType===3&&(k+=Re.nodeValue.length),(Ye=Re.firstChild)!==null;)Ce=Re,Re=Ye;for(;;){if(Re===i)break t;if(Ce===d&&++me===y&&(X=k),Ce===b&&++Ae===p&&(re=k),(Ye=Re.nextSibling)!==null)break;Re=Ce,Ce=Re.parentNode}Re=Ye}d=X===-1||re===-1?null:{start:X,end:re}}else d=null}d=d||{start:0,end:0}}else d=null;for(nm={focusedElem:i,selectionRange:d},ka=!1,Qe=o;Qe!==null;)if(o=Qe,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Qe=i;else for(;Qe!==null;){o=Qe;try{var Je=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Je!==null){var Ze=Je.memoizedProps,Pr=Je.memoizedState,ae=o.stateNode,ne=ae.getSnapshotBeforeUpdate(o.elementType===o.type?Ze:Js(o.type,Ze),Pr);ae.__reactInternalSnapshotBeforeUpdate=ne}break;case 3:var ue=o.stateNode.containerInfo;ue.nodeType===1?ue.textContent="":ue.nodeType===9&&ue.documentElement&&ue.removeChild(ue.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Oe){Nr(o,o.return,Oe)}if(i=o.sibling,i!==null){i.return=o.return,Qe=i;break}Qe=o.return}return Je=q1,q1=!1,Je}function uu(i,o,d){var p=o.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&i)===i){var b=y.destroy;y.destroy=void 0,b!==void 0&&Wm(o,d,b)}y=y.next}while(y!==p)}}function yh(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var d=o=o.next;do{if((d.tag&i)===i){var p=d.create;d.destroy=p()}d=d.next}while(d!==o)}}function Hm(i){var o=i.ref;if(o!==null){var d=i.stateNode;switch(i.tag){case 5:i=d;break;default:i=d}typeof o=="function"?o(i):o.current=i}}function K1(i){var o=i.alternate;o!==null&&(i.alternate=null,K1(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[_i],delete o[Zc],delete o[om],delete o[SS],delete o[NS])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Y1(i){return i.tag===5||i.tag===3||i.tag===4}function X1(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Y1(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Gm(i,o,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?d.nodeType===8?d.parentNode.insertBefore(i,o):d.insertBefore(i,o):(d.nodeType===8?(o=d.parentNode,o.insertBefore(i,d)):(o=d,o.appendChild(i)),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=Xd));else if(p!==4&&(i=i.child,i!==null))for(Gm(i,o,d),i=i.sibling;i!==null;)Gm(i,o,d),i=i.sibling}function qm(i,o,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?d.insertBefore(i,o):d.appendChild(i);else if(p!==4&&(i=i.child,i!==null))for(qm(i,o,d),i=i.sibling;i!==null;)qm(i,o,d),i=i.sibling}var hn=null,Zs=!1;function Ua(i,o,d){for(d=d.child;d!==null;)Q1(i,o,d),d=d.sibling}function Q1(i,o,d){if(Rr&&typeof Rr.onCommitFiberUnmount=="function")try{Rr.onCommitFiberUnmount(us,d)}catch{}switch(d.tag){case 5:Cn||ql(d,o);case 6:var p=hn,y=Zs;hn=null,Ua(i,o,d),hn=p,Zs=y,hn!==null&&(Zs?(i=hn,d=d.stateNode,i.nodeType===8?i.parentNode.removeChild(d):i.removeChild(d)):hn.removeChild(d.stateNode));break;case 18:hn!==null&&(Zs?(i=hn,d=d.stateNode,i.nodeType===8?am(i.parentNode,d):i.nodeType===1&&am(i,d),Ks(i)):am(hn,d.stateNode));break;case 4:p=hn,y=Zs,hn=d.stateNode.containerInfo,Zs=!0,Ua(i,o,d),hn=p,Zs=y;break;case 0:case 11:case 14:case 15:if(!Cn&&(p=d.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){y=p=p.next;do{var b=y,k=b.destroy;b=b.tag,k!==void 0&&((b&2)!==0||(b&4)!==0)&&Wm(d,o,k),y=y.next}while(y!==p)}Ua(i,o,d);break;case 1:if(!Cn&&(ql(d,o),p=d.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=d.memoizedProps,p.state=d.memoizedState,p.componentWillUnmount()}catch(X){Nr(d,o,X)}Ua(i,o,d);break;case 21:Ua(i,o,d);break;case 22:d.mode&1?(Cn=(p=Cn)||d.memoizedState!==null,Ua(i,o,d),Cn=p):Ua(i,o,d);break;default:Ua(i,o,d)}}function J1(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var d=i.stateNode;d===null&&(d=i.stateNode=new zS),o.forEach(function(p){var y=JS.bind(null,i,p);d.has(p)||(d.add(p),p.then(y,y))})}}function ei(i,o){var d=o.deletions;if(d!==null)for(var p=0;p<d.length;p++){var y=d[p];try{var b=i,k=o,X=k;e:for(;X!==null;){switch(X.tag){case 5:hn=X.stateNode,Zs=!1;break e;case 3:hn=X.stateNode.containerInfo,Zs=!0;break e;case 4:hn=X.stateNode.containerInfo,Zs=!0;break e}X=X.return}if(hn===null)throw Error(t(160));Q1(b,k,y),hn=null,Zs=!1;var re=y.alternate;re!==null&&(re.return=null),y.return=null}catch(me){Nr(y,o,me)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Z1(o,i),o=o.sibling}function Z1(i,o){var d=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ei(o,i),Ti(i),p&4){try{uu(3,i,i.return),yh(3,i)}catch(Ze){Nr(i,i.return,Ze)}try{uu(5,i,i.return)}catch(Ze){Nr(i,i.return,Ze)}}break;case 1:ei(o,i),Ti(i),p&512&&d!==null&&ql(d,d.return);break;case 5:if(ei(o,i),Ti(i),p&512&&d!==null&&ql(d,d.return),i.flags&32){var y=i.stateNode;try{En(y,"")}catch(Ze){Nr(i,i.return,Ze)}}if(p&4&&(y=i.stateNode,y!=null)){var b=i.memoizedProps,k=d!==null?d.memoizedProps:b,X=i.type,re=i.updateQueue;if(i.updateQueue=null,re!==null)try{X==="input"&&b.type==="radio"&&b.name!=null&&Tt(y,b),cr(X,k);var me=cr(X,b);for(k=0;k<re.length;k+=2){var Ae=re[k],Re=re[k+1];Ae==="style"?Or(y,Re):Ae==="dangerouslySetInnerHTML"?As(y,Re):Ae==="children"?En(y,Re):L(y,Ae,Re,me)}switch(X){case"input":he(y,b);break;case"textarea":Ht(y,b);break;case"select":var Ce=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!b.multiple;var Ye=b.value;Ye!=null?pt(y,!!b.multiple,Ye,!1):Ce!==!!b.multiple&&(b.defaultValue!=null?pt(y,!!b.multiple,b.defaultValue,!0):pt(y,!!b.multiple,b.multiple?[]:"",!1))}y[Zc]=b}catch(Ze){Nr(i,i.return,Ze)}}break;case 6:if(ei(o,i),Ti(i),p&4){if(i.stateNode===null)throw Error(t(162));y=i.stateNode,b=i.memoizedProps;try{y.nodeValue=b}catch(Ze){Nr(i,i.return,Ze)}}break;case 3:if(ei(o,i),Ti(i),p&4&&d!==null&&d.memoizedState.isDehydrated)try{Ks(o.containerInfo)}catch(Ze){Nr(i,i.return,Ze)}break;case 4:ei(o,i),Ti(i);break;case 13:ei(o,i),Ti(i),y=i.child,y.flags&8192&&(b=y.memoizedState!==null,y.stateNode.isHidden=b,!b||y.alternate!==null&&y.alternate.memoizedState!==null||(Xm=ke())),p&4&&J1(i);break;case 22:if(Ae=d!==null&&d.memoizedState!==null,i.mode&1?(Cn=(me=Cn)||Ae,ei(o,i),Cn=me):ei(o,i),Ti(i),p&8192){if(me=i.memoizedState!==null,(i.stateNode.isHidden=me)&&!Ae&&(i.mode&1)!==0)for(Qe=i,Ae=i.child;Ae!==null;){for(Re=Qe=Ae;Qe!==null;){switch(Ce=Qe,Ye=Ce.child,Ce.tag){case 0:case 11:case 14:case 15:uu(4,Ce,Ce.return);break;case 1:ql(Ce,Ce.return);var Je=Ce.stateNode;if(typeof Je.componentWillUnmount=="function"){p=Ce,d=Ce.return;try{o=p,Je.props=o.memoizedProps,Je.state=o.memoizedState,Je.componentWillUnmount()}catch(Ze){Nr(p,d,Ze)}}break;case 5:ql(Ce,Ce.return);break;case 22:if(Ce.memoizedState!==null){ry(Re);continue}}Ye!==null?(Ye.return=Ce,Qe=Ye):ry(Re)}Ae=Ae.sibling}e:for(Ae=null,Re=i;;){if(Re.tag===5){if(Ae===null){Ae=Re;try{y=Re.stateNode,me?(b=y.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(X=Re.stateNode,re=Re.memoizedProps.style,k=re!=null&&re.hasOwnProperty("display")?re.display:null,X.style.display=Pt("display",k))}catch(Ze){Nr(i,i.return,Ze)}}}else if(Re.tag===6){if(Ae===null)try{Re.stateNode.nodeValue=me?"":Re.memoizedProps}catch(Ze){Nr(i,i.return,Ze)}}else if((Re.tag!==22&&Re.tag!==23||Re.memoizedState===null||Re===i)&&Re.child!==null){Re.child.return=Re,Re=Re.child;continue}if(Re===i)break e;for(;Re.sibling===null;){if(Re.return===null||Re.return===i)break e;Ae===Re&&(Ae=null),Re=Re.return}Ae===Re&&(Ae=null),Re.sibling.return=Re.return,Re=Re.sibling}}break;case 19:ei(o,i),Ti(i),p&4&&J1(i);break;case 21:break;default:ei(o,i),Ti(i)}}function Ti(i){var o=i.flags;if(o&2){try{e:{for(var d=i.return;d!==null;){if(Y1(d)){var p=d;break e}d=d.return}throw Error(t(160))}switch(p.tag){case 5:var y=p.stateNode;p.flags&32&&(En(y,""),p.flags&=-33);var b=X1(i);qm(i,b,y);break;case 3:case 4:var k=p.stateNode.containerInfo,X=X1(i);Gm(i,X,k);break;default:throw Error(t(161))}}catch(re){Nr(i,i.return,re)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function WS(i,o,d){Qe=i,ey(i)}function ey(i,o,d){for(var p=(i.mode&1)!==0;Qe!==null;){var y=Qe,b=y.child;if(y.tag===22&&p){var k=y.memoizedState!==null||vh;if(!k){var X=y.alternate,re=X!==null&&X.memoizedState!==null||Cn;X=vh;var me=Cn;if(vh=k,(Cn=re)&&!me)for(Qe=y;Qe!==null;)k=Qe,re=k.child,k.tag===22&&k.memoizedState!==null?ny(y):re!==null?(re.return=k,Qe=re):ny(y);for(;b!==null;)Qe=b,ey(b),b=b.sibling;Qe=y,vh=X,Cn=me}ty(i)}else(y.subtreeFlags&8772)!==0&&b!==null?(b.return=y,Qe=b):ty(i)}}function ty(i){for(;Qe!==null;){var o=Qe;if((o.flags&8772)!==0){var d=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Cn||yh(5,o);break;case 1:var p=o.stateNode;if(o.flags&4&&!Cn)if(d===null)p.componentDidMount();else{var y=o.elementType===o.type?d.memoizedProps:Js(o.type,d.memoizedProps);p.componentDidUpdate(y,d.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var b=o.updateQueue;b!==null&&Jv(o,b,p);break;case 3:var k=o.updateQueue;if(k!==null){if(d=null,o.child!==null)switch(o.child.tag){case 5:d=o.child.stateNode;break;case 1:d=o.child.stateNode}Jv(o,k,d)}break;case 5:var X=o.stateNode;if(d===null&&o.flags&4){d=X;var re=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":re.autoFocus&&d.focus();break;case"img":re.src&&(d.src=re.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var me=o.alternate;if(me!==null){var Ae=me.memoizedState;if(Ae!==null){var Re=Ae.dehydrated;Re!==null&&Ks(Re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Cn||o.flags&512&&Hm(o)}catch(Ce){Nr(o,o.return,Ce)}}if(o===i){Qe=null;break}if(d=o.sibling,d!==null){d.return=o.return,Qe=d;break}Qe=o.return}}function ry(i){for(;Qe!==null;){var o=Qe;if(o===i){Qe=null;break}var d=o.sibling;if(d!==null){d.return=o.return,Qe=d;break}Qe=o.return}}function ny(i){for(;Qe!==null;){var o=Qe;try{switch(o.tag){case 0:case 11:case 15:var d=o.return;try{yh(4,o)}catch(re){Nr(o,d,re)}break;case 1:var p=o.stateNode;if(typeof p.componentDidMount=="function"){var y=o.return;try{p.componentDidMount()}catch(re){Nr(o,y,re)}}var b=o.return;try{Hm(o)}catch(re){Nr(o,b,re)}break;case 5:var k=o.return;try{Hm(o)}catch(re){Nr(o,k,re)}}}catch(re){Nr(o,o.return,re)}if(o===i){Qe=null;break}var X=o.sibling;if(X!==null){X.return=o.return,Qe=X;break}Qe=o.return}}var HS=Math.ceil,wh=M.ReactCurrentDispatcher,Km=M.ReactCurrentOwner,Os=M.ReactCurrentBatchConfig,Ot=0,Jr=null,Lr=null,fn=0,gs=0,Kl=Da(0),Gr=0,du=null,Mo=0,_h=0,Ym=0,hu=null,Jn=null,Xm=0,Yl=1/0,ea=null,Eh=!1,Qm=null,Va=null,bh=!1,Ba=null,Th=0,fu=0,Jm=null,Sh=-1,Nh=0;function Un(){return(Ot&6)!==0?ke():Sh!==-1?Sh:Sh=ke()}function za(i){return(i.mode&1)===0?1:(Ot&2)!==0&&fn!==0?fn&-fn:AS.transition!==null?(Nh===0&&(Nh=No()),Nh):(i=Rt,i!==0||(i=window.event,i=i===void 0?16:Bc(i.type)),i)}function ti(i,o,d,p){if(50<fu)throw fu=0,Jm=null,Error(t(185));Na(i,d,p),((Ot&2)===0||i!==Jr)&&(i===Jr&&((Ot&2)===0&&(_h|=d),Gr===4&&$a(i,fn)),Zn(i,p),d===1&&Ot===0&&(o.mode&1)===0&&(Yl=ke()+500,eh&&Fa()))}function Zn(i,o){var d=i.callbackNode;zi(i,o);var p=So(i,i===Jr?fn:0);if(p===0)d!==null&&Ue(d),i.callbackNode=null,i.callbackPriority=0;else if(o=p&-p,i.callbackPriority!==o){if(d!=null&&Ue(d),o===1)i.tag===0?CS(iy.bind(null,i)):$v(iy.bind(null,i)),bS(function(){(Ot&6)===0&&Fa()}),d=null;else{switch(Aa(p)){case 1:d=Vt;break;case 4:d=Lt;break;case 16:d=Gt;break;case 536870912:d=pi;break;default:d=Gt}d=fy(d,sy.bind(null,i))}i.callbackPriority=o,i.callbackNode=d}}function sy(i,o){if(Sh=-1,Nh=0,(Ot&6)!==0)throw Error(t(327));var d=i.callbackNode;if(Xl()&&i.callbackNode!==d)return null;var p=So(i,i===Jr?fn:0);if(p===0)return null;if((p&30)!==0||(p&i.expiredLanes)!==0||o)o=Ch(i,p);else{o=p;var y=Ot;Ot|=2;var b=oy();(Jr!==i||fn!==o)&&(ea=null,Yl=ke()+500,Vo(i,o));do try{KS();break}catch(X){ay(i,X)}while(!0);gm(),wh.current=b,Ot=y,Lr!==null?o=0:(Jr=null,fn=0,o=Gr)}if(o!==0){if(o===2&&(y=ds(i),y!==0&&(p=y,o=Zm(i,y))),o===1)throw d=du,Vo(i,0),$a(i,p),Zn(i,ke()),d;if(o===6)$a(i,p);else{if(y=i.current.alternate,(p&30)===0&&!GS(y)&&(o=Ch(i,p),o===2&&(b=ds(i),b!==0&&(p=b,o=Zm(i,b))),o===1))throw d=du,Vo(i,0),$a(i,p),Zn(i,ke()),d;switch(i.finishedWork=y,i.finishedLanes=p,o){case 0:case 1:throw Error(t(345));case 2:Bo(i,Jn,ea);break;case 3:if($a(i,p),(p&130023424)===p&&(o=Xm+500-ke(),10<o)){if(So(i,0)!==0)break;if(y=i.suspendedLanes,(y&p)!==p){Un(),i.pingedLanes|=i.suspendedLanes&y;break}i.timeoutHandle=im(Bo.bind(null,i,Jn,ea),o);break}Bo(i,Jn,ea);break;case 4:if($a(i,p),(p&4194240)===p)break;for(o=i.eventTimes,y=-1;0<p;){var k=31-dr(p);b=1<<k,k=o[k],k>y&&(y=k),p&=~b}if(p=y,p=ke()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*HS(p/1960))-p,10<p){i.timeoutHandle=im(Bo.bind(null,i,Jn,ea),p);break}Bo(i,Jn,ea);break;case 5:Bo(i,Jn,ea);break;default:throw Error(t(329))}}}return Zn(i,ke()),i.callbackNode===d?sy.bind(null,i):null}function Zm(i,o){var d=hu;return i.current.memoizedState.isDehydrated&&(Vo(i,o).flags|=256),i=Ch(i,o),i!==2&&(o=Jn,Jn=d,o!==null&&ep(o)),i}function ep(i){Jn===null?Jn=i:Jn.push.apply(Jn,i)}function GS(i){for(var o=i;;){if(o.flags&16384){var d=o.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var p=0;p<d.length;p++){var y=d[p],b=y.getSnapshot;y=y.value;try{if(!Xs(b(),y))return!1}catch{return!1}}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function $a(i,o){for(o&=~Ym,o&=~_h,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var d=31-dr(o),p=1<<d;i[d]=-1,o&=~p}}function iy(i){if((Ot&6)!==0)throw Error(t(327));Xl();var o=So(i,0);if((o&1)===0)return Zn(i,ke()),null;var d=Ch(i,o);if(i.tag!==0&&d===2){var p=ds(i);p!==0&&(o=p,d=Zm(i,p))}if(d===1)throw d=du,Vo(i,0),$a(i,o),Zn(i,ke()),d;if(d===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Bo(i,Jn,ea),Zn(i,ke()),null}function tp(i,o){var d=Ot;Ot|=1;try{return i(o)}finally{Ot=d,Ot===0&&(Yl=ke()+500,eh&&Fa())}}function Uo(i){Ba!==null&&Ba.tag===0&&(Ot&6)===0&&Xl();var o=Ot;Ot|=1;var d=Os.transition,p=Rt;try{if(Os.transition=null,Rt=1,i)return i()}finally{Rt=p,Os.transition=d,Ot=o,(Ot&6)===0&&Fa()}}function rp(){gs=Kl.current,fr(Kl)}function Vo(i,o){i.finishedWork=null,i.finishedLanes=0;var d=i.timeoutHandle;if(d!==-1&&(i.timeoutHandle=-1,ES(d)),Lr!==null)for(d=Lr.return;d!==null;){var p=d;switch(dm(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Jd();break;case 3:Hl(),fr(Yn),fr(Tn),Nm();break;case 5:Tm(p);break;case 4:Hl();break;case 13:fr(yr);break;case 19:fr(yr);break;case 10:xm(p.type._context);break;case 22:case 23:rp()}d=d.return}if(Jr=i,Lr=i=Wa(i.current,null),fn=gs=o,Gr=0,du=null,Ym=_h=Mo=0,Jn=hu=null,Oo!==null){for(o=0;o<Oo.length;o++)if(d=Oo[o],p=d.interleaved,p!==null){d.interleaved=null;var y=p.next,b=d.pending;if(b!==null){var k=b.next;b.next=y,p.next=k}d.pending=p}Oo=null}return i}function ay(i,o){do{var d=Lr;try{if(gm(),dh.current=ph,hh){for(var p=wr.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}hh=!1}if(Lo=0,Qr=Hr=wr=null,iu=!1,au=0,Km.current=null,d===null||d.return===null){Gr=1,du=o,Lr=null;break}e:{var b=i,k=d.return,X=d,re=o;if(o=fn,X.flags|=32768,re!==null&&typeof re=="object"&&typeof re.then=="function"){var me=re,Ae=X,Re=Ae.tag;if((Ae.mode&1)===0&&(Re===0||Re===11||Re===15)){var Ce=Ae.alternate;Ce?(Ae.updateQueue=Ce.updateQueue,Ae.memoizedState=Ce.memoizedState,Ae.lanes=Ce.lanes):(Ae.updateQueue=null,Ae.memoizedState=null)}var Ye=R1(k);if(Ye!==null){Ye.flags&=-257,P1(Ye,k,X,b,o),Ye.mode&1&&k1(b,me,o),o=Ye,re=me;var Je=o.updateQueue;if(Je===null){var Ze=new Set;Ze.add(re),o.updateQueue=Ze}else Je.add(re);break e}else{if((o&1)===0){k1(b,me,o),np();break e}re=Error(t(426))}}else if(gr&&X.mode&1){var Pr=R1(k);if(Pr!==null){(Pr.flags&65536)===0&&(Pr.flags|=256),P1(Pr,k,X,b,o),mm(Gl(re,X));break e}}b=re=Gl(re,X),Gr!==4&&(Gr=2),hu===null?hu=[b]:hu.push(b),b=k;do{switch(b.tag){case 3:b.flags|=65536,o&=-o,b.lanes|=o;var ae=A1(b,re,o);Qv(b,ae);break e;case 1:X=re;var ne=b.type,ue=b.stateNode;if((b.flags&128)===0&&(typeof ne.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(Va===null||!Va.has(ue)))){b.flags|=65536,o&=-o,b.lanes|=o;var Oe=I1(b,X,o);Qv(b,Oe);break e}}b=b.return}while(b!==null)}cy(d)}catch(tt){o=tt,Lr===d&&d!==null&&(Lr=d=d.return);continue}break}while(!0)}function oy(){var i=wh.current;return wh.current=ph,i===null?ph:i}function np(){(Gr===0||Gr===3||Gr===2)&&(Gr=4),Jr===null||(Mo&268435455)===0&&(_h&268435455)===0||$a(Jr,fn)}function Ch(i,o){var d=Ot;Ot|=2;var p=oy();(Jr!==i||fn!==o)&&(ea=null,Vo(i,o));do try{qS();break}catch(y){ay(i,y)}while(!0);if(gm(),Ot=d,wh.current=p,Lr!==null)throw Error(t(261));return Jr=null,fn=0,Gr}function qS(){for(;Lr!==null;)ly(Lr)}function KS(){for(;Lr!==null&&!Ke();)ly(Lr)}function ly(i){var o=hy(i.alternate,i,gs);i.memoizedProps=i.pendingProps,o===null?cy(i):Lr=o,Km.current=null}function cy(i){var o=i;do{var d=o.alternate;if(i=o.return,(o.flags&32768)===0){if(d=VS(d,o,gs),d!==null){Lr=d;return}}else{if(d=BS(d,o),d!==null){d.flags&=32767,Lr=d;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Gr=6,Lr=null;return}}if(o=o.sibling,o!==null){Lr=o;return}Lr=o=i}while(o!==null);Gr===0&&(Gr=5)}function Bo(i,o,d){var p=Rt,y=Os.transition;try{Os.transition=null,Rt=1,YS(i,o,d,p)}finally{Os.transition=y,Rt=p}return null}function YS(i,o,d,p){do Xl();while(Ba!==null);if((Ot&6)!==0)throw Error(t(327));d=i.finishedWork;var y=i.finishedLanes;if(d===null)return null;if(i.finishedWork=null,i.finishedLanes=0,d===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var b=d.lanes|d.childLanes;if(tr(i,b),i===Jr&&(Lr=Jr=null,fn=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||bh||(bh=!0,fy(Gt,function(){return Xl(),null})),b=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||b){b=Os.transition,Os.transition=null;var k=Rt;Rt=1;var X=Ot;Ot|=4,Km.current=null,$S(i,d),Z1(d,i),pS(nm),ka=!!rm,nm=rm=null,i.current=d,WS(d),De(),Ot=X,Rt=k,Os.transition=b}else i.current=d;if(bh&&(bh=!1,Ba=i,Th=y),b=i.pendingLanes,b===0&&(Va=null),ba(d.stateNode),Zn(i,ke()),o!==null)for(p=i.onRecoverableError,d=0;d<o.length;d++)y=o[d],p(y.value,{componentStack:y.stack,digest:y.digest});if(Eh)throw Eh=!1,i=Qm,Qm=null,i;return(Th&1)!==0&&i.tag!==0&&Xl(),b=i.pendingLanes,(b&1)!==0?i===Jm?fu++:(fu=0,Jm=i):fu=0,Fa(),null}function Xl(){if(Ba!==null){var i=Aa(Th),o=Os.transition,d=Rt;try{if(Os.transition=null,Rt=16>i?16:i,Ba===null)var p=!1;else{if(i=Ba,Ba=null,Th=0,(Ot&6)!==0)throw Error(t(331));var y=Ot;for(Ot|=4,Qe=i.current;Qe!==null;){var b=Qe,k=b.child;if((Qe.flags&16)!==0){var X=b.deletions;if(X!==null){for(var re=0;re<X.length;re++){var me=X[re];for(Qe=me;Qe!==null;){var Ae=Qe;switch(Ae.tag){case 0:case 11:case 15:uu(8,Ae,b)}var Re=Ae.child;if(Re!==null)Re.return=Ae,Qe=Re;else for(;Qe!==null;){Ae=Qe;var Ce=Ae.sibling,Ye=Ae.return;if(K1(Ae),Ae===me){Qe=null;break}if(Ce!==null){Ce.return=Ye,Qe=Ce;break}Qe=Ye}}}var Je=b.alternate;if(Je!==null){var Ze=Je.child;if(Ze!==null){Je.child=null;do{var Pr=Ze.sibling;Ze.sibling=null,Ze=Pr}while(Ze!==null)}}Qe=b}}if((b.subtreeFlags&2064)!==0&&k!==null)k.return=b,Qe=k;else e:for(;Qe!==null;){if(b=Qe,(b.flags&2048)!==0)switch(b.tag){case 0:case 11:case 15:uu(9,b,b.return)}var ae=b.sibling;if(ae!==null){ae.return=b.return,Qe=ae;break e}Qe=b.return}}var ne=i.current;for(Qe=ne;Qe!==null;){k=Qe;var ue=k.child;if((k.subtreeFlags&2064)!==0&&ue!==null)ue.return=k,Qe=ue;else e:for(k=ne;Qe!==null;){if(X=Qe,(X.flags&2048)!==0)try{switch(X.tag){case 0:case 11:case 15:yh(9,X)}}catch(tt){Nr(X,X.return,tt)}if(X===k){Qe=null;break e}var Oe=X.sibling;if(Oe!==null){Oe.return=X.return,Qe=Oe;break e}Qe=X.return}}if(Ot=y,Fa(),Rr&&typeof Rr.onPostCommitFiberRoot=="function")try{Rr.onPostCommitFiberRoot(us,i)}catch{}p=!0}return p}finally{Rt=d,Os.transition=o}}return!1}function uy(i,o,d){o=Gl(d,o),o=A1(i,o,1),i=Ma(i,o,1),o=Un(),i!==null&&(Na(i,1,o),Zn(i,o))}function Nr(i,o,d){if(i.tag===3)uy(i,i,d);else for(;o!==null;){if(o.tag===3){uy(o,i,d);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Va===null||!Va.has(p))){i=Gl(d,i),i=I1(o,i,1),o=Ma(o,i,1),i=Un(),o!==null&&(Na(o,1,i),Zn(o,i));break}}o=o.return}}function XS(i,o,d){var p=i.pingCache;p!==null&&p.delete(o),o=Un(),i.pingedLanes|=i.suspendedLanes&d,Jr===i&&(fn&d)===d&&(Gr===4||Gr===3&&(fn&130023424)===fn&&500>ke()-Xm?Vo(i,0):Ym|=d),Zn(i,o)}function dy(i,o){o===0&&((i.mode&1)===0?o=1:(o=yl,yl<<=1,(yl&130023424)===0&&(yl=4194304)));var d=Un();i=Qi(i,o),i!==null&&(Na(i,o,d),Zn(i,d))}function QS(i){var o=i.memoizedState,d=0;o!==null&&(d=o.retryLane),dy(i,d)}function JS(i,o){var d=0;switch(i.tag){case 13:var p=i.stateNode,y=i.memoizedState;y!==null&&(d=y.retryLane);break;case 19:p=i.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(o),dy(i,d)}var hy;hy=function(i,o,d){if(i!==null)if(i.memoizedProps!==o.pendingProps||Yn.current)Qn=!0;else{if((i.lanes&d)===0&&(o.flags&128)===0)return Qn=!1,US(i,o,d);Qn=(i.flags&131072)!==0}else Qn=!1,gr&&(o.flags&1048576)!==0&&Wv(o,rh,o.index);switch(o.lanes=0,o.tag){case 2:var p=o.type;xh(i,o),i=o.pendingProps;var y=Ml(o,Tn.current);$l(o,d),y=Im(null,o,p,i,y,d);var b=km();return o.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Xn(p)?(b=!0,Zd(o)):b=!1,o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,wm(o),y.updater=lh,o.stateNode=y,y._reactInternals=o,Em(o,p,i,d),o=Mm(null,o,p,!0,b,d)):(o.tag=0,gr&&b&&um(o),Mn(null,o,y,d),o=o.child),o;case 16:p=o.elementType;e:{switch(xh(i,o),i=o.pendingProps,y=p._init,p=y(p._payload),o.type=p,y=o.tag=eN(p),i=Js(p,i),y){case 0:o=Lm(null,o,p,i,d);break e;case 1:o=M1(null,o,p,i,d);break e;case 11:o=j1(null,o,p,i,d);break e;case 14:o=D1(null,o,p,Js(p.type,i),d);break e}throw Error(t(306,p,""))}return o;case 0:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:Js(p,y),Lm(i,o,p,y,d);case 1:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:Js(p,y),M1(i,o,p,y,d);case 3:e:{if(U1(o),i===null)throw Error(t(387));p=o.pendingProps,b=o.memoizedState,y=b.element,Xv(i,o),oh(o,p,null,d);var k=o.memoizedState;if(p=k.element,b.isDehydrated)if(b={element:p,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){y=Gl(Error(t(423)),o),o=V1(i,o,p,d,y);break e}else if(p!==y){y=Gl(Error(t(424)),o),o=V1(i,o,p,d,y);break e}else for(ps=ja(o.stateNode.containerInfo.firstChild),ms=o,gr=!0,Qs=null,d=i1(o,null,p,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Bl(),p===y){o=Zi(i,o,d);break e}Mn(i,o,p,d)}o=o.child}return o;case 5:return a1(o),i===null&&fm(o),p=o.type,y=o.pendingProps,b=i!==null?i.memoizedProps:null,k=y.children,sm(p,y)?k=null:b!==null&&sm(p,b)&&(o.flags|=32),L1(i,o),Mn(i,o,k,d),o.child;case 6:return i===null&&fm(o),null;case 13:return B1(i,o,d);case 4:return bm(o,o.stateNode.containerInfo),p=o.pendingProps,i===null?o.child=Wl(o,null,p,d):Mn(i,o,p,d),o.child;case 11:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:Js(p,y),j1(i,o,p,y,d);case 7:return Mn(i,o,o.pendingProps,d),o.child;case 8:return Mn(i,o,o.pendingProps.children,d),o.child;case 12:return Mn(i,o,o.pendingProps.children,d),o.child;case 10:e:{if(p=o.type._context,y=o.pendingProps,b=o.memoizedProps,k=y.value,ar(sh,p._currentValue),p._currentValue=k,b!==null)if(Xs(b.value,k)){if(b.children===y.children&&!Yn.current){o=Zi(i,o,d);break e}}else for(b=o.child,b!==null&&(b.return=o);b!==null;){var X=b.dependencies;if(X!==null){k=b.child;for(var re=X.firstContext;re!==null;){if(re.context===p){if(b.tag===1){re=Ji(-1,d&-d),re.tag=2;var me=b.updateQueue;if(me!==null){me=me.shared;var Ae=me.pending;Ae===null?re.next=re:(re.next=Ae.next,Ae.next=re),me.pending=re}}b.lanes|=d,re=b.alternate,re!==null&&(re.lanes|=d),vm(b.return,d,o),X.lanes|=d;break}re=re.next}}else if(b.tag===10)k=b.type===o.type?null:b.child;else if(b.tag===18){if(k=b.return,k===null)throw Error(t(341));k.lanes|=d,X=k.alternate,X!==null&&(X.lanes|=d),vm(k,d,o),k=b.sibling}else k=b.child;if(k!==null)k.return=b;else for(k=b;k!==null;){if(k===o){k=null;break}if(b=k.sibling,b!==null){b.return=k.return,k=b;break}k=k.return}b=k}Mn(i,o,y.children,d),o=o.child}return o;case 9:return y=o.type,p=o.pendingProps.children,$l(o,d),y=js(y),p=p(y),o.flags|=1,Mn(i,o,p,d),o.child;case 14:return p=o.type,y=Js(p,o.pendingProps),y=Js(p.type,y),D1(i,o,p,y,d);case 15:return O1(i,o,o.type,o.pendingProps,d);case 17:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:Js(p,y),xh(i,o),o.tag=1,Xn(p)?(i=!0,Zd(o)):i=!1,$l(o,d),t1(o,p,y),Em(o,p,y,d),Mm(null,o,p,!0,i,d);case 19:return $1(i,o,d);case 22:return F1(i,o,d)}throw Error(t(156,o.tag))};function fy(i,o){return Ie(i,o)}function ZS(i,o,d,p){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fs(i,o,d,p){return new ZS(i,o,d,p)}function sp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function eN(i){if(typeof i=="function")return sp(i)?1:0;if(i!=null){if(i=i.$$typeof,i===V)return 11;if(i===je)return 14}return 2}function Wa(i,o){var d=i.alternate;return d===null?(d=Fs(i.tag,o,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=o,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&14680064,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,o=i.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d}function Ah(i,o,d,p,y,b){var k=2;if(p=i,typeof i=="function")sp(i)&&(k=1);else if(typeof i=="string")k=5;else e:switch(i){case N:return zo(d.children,y,b,o);case I:k=8,y|=8;break;case A:return i=Fs(12,d,o,y|2),i.elementType=A,i.lanes=b,i;case O:return i=Fs(13,d,o,y),i.elementType=O,i.lanes=b,i;case $e:return i=Fs(19,d,o,y),i.elementType=$e,i.lanes=b,i;case Ge:return Ih(d,y,b,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case P:k=10;break e;case F:k=9;break e;case V:k=11;break e;case je:k=14;break e;case Te:k=16,p=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=Fs(k,d,o,y),o.elementType=i,o.type=p,o.lanes=b,o}function zo(i,o,d,p){return i=Fs(7,i,p,o),i.lanes=d,i}function Ih(i,o,d,p){return i=Fs(22,i,p,o),i.elementType=Ge,i.lanes=d,i.stateNode={isHidden:!1},i}function ip(i,o,d){return i=Fs(6,i,null,o),i.lanes=d,i}function ap(i,o,d){return o=Fs(4,i.children!==null?i.children:[],i.key,o),o.lanes=d,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function tN(i,o,d,p,y){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sa(0),this.expirationTimes=Sa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sa(0),this.identifierPrefix=p,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function op(i,o,d,p,y,b,k,X,re){return i=new tN(i,o,d,X,re),o===1?(o=1,b===!0&&(o|=8)):o=0,b=Fs(3,null,null,o),i.current=b,b.stateNode=i,b.memoizedState={element:p,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},wm(b),i}function rN(i,o,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Q,key:p==null?null:""+p,children:i,containerInfo:o,implementation:d}}function my(i){if(!i)return Oa;i=i._reactInternals;e:{if(K(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Xn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var d=i.type;if(Xn(d))return Bv(i,d,o)}return o}function py(i,o,d,p,y,b,k,X,re){return i=op(d,p,!0,i,y,b,k,X,re),i.context=my(null),d=i.current,p=Un(),y=za(d),b=Ji(p,y),b.callback=o??null,Ma(d,b,y),i.current.lanes=y,Na(i,y,p),Zn(i,p),i}function kh(i,o,d,p){var y=o.current,b=Un(),k=za(y);return d=my(d),o.context===null?o.context=d:o.pendingContext=d,o=Ji(b,k),o.payload={element:i},p=p===void 0?null:p,p!==null&&(o.callback=p),i=Ma(y,o,k),i!==null&&(ti(i,y,k,b),ah(i,y,k)),k}function Rh(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function gy(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<o?d:o}}function lp(i,o){gy(i,o),(i=i.alternate)&&gy(i,o)}function nN(){return null}var xy=typeof reportError=="function"?reportError:function(i){console.error(i)};function cp(i){this._internalRoot=i}Ph.prototype.render=cp.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));kh(i,o,null,null)},Ph.prototype.unmount=cp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Uo(function(){kh(null,i,null,null)}),o[qi]=null}};function Ph(i){this._internalRoot=i}Ph.prototype.unstable_scheduleHydration=function(i){if(i){var o=Pd();i={blockedOn:null,target:i,priority:o};for(var d=0;d<xi.length&&o!==0&&o<xi[d].priority;d++);xi.splice(d,0,i),d===0&&Od(i)}};function up(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function jh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function vy(){}function sN(i,o,d,p,y){if(y){if(typeof p=="function"){var b=p;p=function(){var me=Rh(k);b.call(me)}}var k=py(o,p,i,0,null,!1,!1,"",vy);return i._reactRootContainer=k,i[qi]=k.current,Qc(i.nodeType===8?i.parentNode:i),Uo(),k}for(;y=i.lastChild;)i.removeChild(y);if(typeof p=="function"){var X=p;p=function(){var me=Rh(re);X.call(me)}}var re=op(i,0,!1,null,null,!1,!1,"",vy);return i._reactRootContainer=re,i[qi]=re.current,Qc(i.nodeType===8?i.parentNode:i),Uo(function(){kh(o,re,d,p)}),re}function Dh(i,o,d,p,y){var b=d._reactRootContainer;if(b){var k=b;if(typeof y=="function"){var X=y;y=function(){var re=Rh(k);X.call(re)}}kh(o,k,i,y)}else k=sN(d,o,i,y,p);return Rh(k)}kd=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var d=Ta(o.pendingLanes);d!==0&&(Ca(o,d|1),Zn(o,ke()),(Ot&6)===0&&(Yl=ke()+500,Fa()))}break;case 13:Uo(function(){var p=Qi(i,1);if(p!==null){var y=Un();ti(p,i,1,y)}}),lp(i,1)}},wl=function(i){if(i.tag===13){var o=Qi(i,134217728);if(o!==null){var d=Un();ti(o,i,134217728,d)}lp(i,134217728)}},Rd=function(i){if(i.tag===13){var o=za(i),d=Qi(i,o);if(d!==null){var p=Un();ti(d,i,o,p)}lp(i,o)}},Pd=function(){return Rt},jd=function(i,o){var d=Rt;try{return Rt=i,o()}finally{Rt=d}},_t=function(i,o,d){switch(o){case"input":if(he(i,d),o=d.name,d.type==="radio"&&o!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<d.length;o++){var p=d[o];if(p!==i&&p.form===i.form){var y=Qd(p);if(!y)throw Error(t(90));ot(p),he(p,y)}}}break;case"textarea":Ht(i,d);break;case"select":o=d.value,o!=null&&pt(i,!!d.multiple,o,!1)}},Gn=tp,bo=Uo;var iN={usingClientEntryPoint:!1,Events:[eu,Fl,Qd,ir,ur,tp]},mu={findFiberByHostInstance:Ro,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},aN={bundleType:mu.bundleType,version:mu.version,rendererPackageName:mu.rendererPackageName,rendererConfig:mu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=de(i),i===null?null:i.stateNode},findFiberByHostInstance:mu.findFiberByHostInstance||nN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oh.isDisabled&&Oh.supportsFiber)try{us=Oh.inject(aN),Rr=Oh}catch{}}return es.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iN,es.createPortal=function(i,o){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!up(o))throw Error(t(200));return rN(i,o,null,d)},es.createRoot=function(i,o){if(!up(i))throw Error(t(299));var d=!1,p="",y=xy;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),o=op(i,1,!1,null,null,d,!1,p,y),i[qi]=o.current,Qc(i.nodeType===8?i.parentNode:i),new cp(o)},es.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=de(o),i=i===null?null:i.stateNode,i},es.flushSync=function(i){return Uo(i)},es.hydrate=function(i,o,d){if(!jh(o))throw Error(t(200));return Dh(null,i,o,!0,d)},es.hydrateRoot=function(i,o,d){if(!up(i))throw Error(t(405));var p=d!=null&&d.hydratedSources||null,y=!1,b="",k=xy;if(d!=null&&(d.unstable_strictMode===!0&&(y=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onRecoverableError!==void 0&&(k=d.onRecoverableError)),o=py(o,null,i,1,d??null,y,!1,b,k),i[qi]=o.current,Qc(i),p)for(i=0;i<p.length;i++)d=p[i],y=d._getVersion,y=y(d._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[d,y]:o.mutableSourceEagerHydrationData.push(d,y);return new Ph(o)},es.render=function(i,o,d){if(!jh(o))throw Error(t(200));return Dh(null,i,o,!1,d)},es.unmountComponentAtNode=function(i){if(!jh(i))throw Error(t(40));return i._reactRootContainer?(Uo(function(){Dh(null,null,i,!1,function(){i._reactRootContainer=null,i[qi]=null})}),!0):!1},es.unstable_batchedUpdates=tp,es.unstable_renderSubtreeIntoContainer=function(i,o,d,p){if(!jh(d))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Dh(i,o,d,!1,p)},es.version="18.2.0-next-9e3b772b8-20220608",es}var Ny;function m2(){if(Ny)return fp.exports;Ny=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),fp.exports=mN(),fp.exports}var Cy;function pN(){if(Cy)return Fh;Cy=1;var r=m2();return Fh.createRoot=r.createRoot,Fh.hydrateRoot=r.hydrateRoot,Fh}var gN=pN();const xN=f2(gN);var U=Ag();const xf=f2(U),vN=lN({__proto__:null,default:xf},[U]);m2();/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mu(){return Mu=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Mu.apply(this,arguments)}var Ja;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(Ja||(Ja={}));const Ay="popstate";function yN(r){r===void 0&&(r={});function e(s,a){let{pathname:l="/",search:u="",hash:h=""}=ol(s.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Hp("",{pathname:l,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(s,a){let l=s.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let h=s.location.href,f=h.indexOf("#");u=f===-1?h:h.slice(0,f)}return u+"#"+(typeof a=="string"?a:vf(a))}function n(s,a){Ig(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return _N(e,t,n,r)}function Dr(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ig(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wN(){return Math.random().toString(36).substr(2,8)}function Iy(r,e){return{usr:r.state,key:r.key,idx:e}}function Hp(r,e,t,n){return t===void 0&&(t=null),Mu({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?ol(e):e,{state:t,key:e&&e.key||n||wN()})}function vf(r){let{pathname:e="/",search:t="",hash:n=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ol(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substr(n),r=r.substr(0,n)),r&&(e.pathname=r)}return e}function _N(r,e,t,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,l=s.history,u=Ja.Pop,h=null,f=g();f==null&&(f=0,l.replaceState(Mu({},l.state,{idx:f}),""));function g(){return(l.state||{idx:null}).idx}function x(){u=Ja.Pop;let T=g(),j=T==null?null:T-f;f=T,h&&h({action:u,location:w.location,delta:j})}function v(T,j){u=Ja.Push;let D=Hp(w.location,T,j);t&&t(D,T),f=g()+1;let L=Iy(D,f),M=w.createHref(D);try{l.pushState(L,"",M)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;s.location.assign(M)}a&&h&&h({action:u,location:w.location,delta:1})}function _(T,j){u=Ja.Replace;let D=Hp(w.location,T,j);t&&t(D,T),f=g();let L=Iy(D,f),M=w.createHref(D);l.replaceState(L,"",M),a&&h&&h({action:u,location:w.location,delta:0})}function S(T){let j=s.location.origin!=="null"?s.location.origin:s.location.href,D=typeof T=="string"?T:vf(T);return D=D.replace(/ $/,"%20"),Dr(j,"No window.location.(origin|href) available to create URL for href: "+D),new URL(D,j)}let w={get action(){return u},get location(){return r(s,l)},listen(T){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(Ay,x),h=T,()=>{s.removeEventListener(Ay,x),h=null}},createHref(T){return e(s,T)},createURL:S,encodeLocation(T){let j=S(T);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:v,replace:_,go(T){return l.go(T)}};return w}var ky;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(ky||(ky={}));function EN(r,e,t){t===void 0&&(t="/");let n=typeof e=="string"?ol(e):e,s=kg(n.pathname||"/",t);if(s==null)return null;let a=p2(r);bN(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let h=ON(s);l=PN(a[u],h)}return l}function p2(r,e,t,n){e===void 0&&(e=[]),t===void 0&&(t=[]),n===void 0&&(n="");let s=(a,l,u)=>{let h={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(Dr(h.relativePath.startsWith(n),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(n.length));let f=ro([n,h.relativePath]),g=t.concat(h);a.children&&a.children.length>0&&(Dr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),p2(a.children,e,g,f)),!(a.path==null&&!a.index)&&e.push({path:f,score:kN(f,a.index),routesMeta:g})};return r.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))s(a,l);else for(let h of g2(a.path))s(a,l,h)}),e}function g2(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let l=g2(n.join("/")),u=[];return u.push(...l.map(h=>h===""?a:[a,h].join("/"))),s&&u.push(...l),u.map(h=>r.startsWith("/")&&h===""?"/":h)}function bN(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:RN(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}const TN=/^:[\w-]+$/,SN=3,NN=2,CN=1,AN=10,IN=-2,Ry=r=>r==="*";function kN(r,e){let t=r.split("/"),n=t.length;return t.some(Ry)&&(n+=IN),e&&(n+=NN),t.filter(s=>!Ry(s)).reduce((s,a)=>s+(TN.test(a)?SN:a===""?CN:AN),n)}function RN(r,e){return r.length===e.length&&r.slice(0,-1).every((n,s)=>n===e[s])?r[r.length-1]-e[e.length-1]:0}function PN(r,e){let{routesMeta:t}=r,n={},s="/",a=[];for(let l=0;l<t.length;++l){let u=t[l],h=l===t.length-1,f=s==="/"?e:e.slice(s.length)||"/",g=jN({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},f);if(!g)return null;Object.assign(n,g.params);let x=u.route;a.push({params:n,pathname:ro([s,g.pathname]),pathnameBase:UN(ro([s,g.pathnameBase])),route:x}),g.pathnameBase!=="/"&&(s=ro([s,g.pathnameBase]))}return a}function jN(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=DN(r.path,r.caseSensitive,r.end),s=e.match(t);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:n.reduce((f,g,x)=>{let{paramName:v,isOptional:_}=g;if(v==="*"){let w=u[x]||"";l=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const S=u[x];return _&&!S?f[v]=void 0:f[v]=(S||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:r}}function DN(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Ig(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let n=[],s="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(n.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),s+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":r!==""&&r!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function ON(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ig(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function kg(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function FN(r,e){e===void 0&&(e="/");let{pathname:t,search:n="",hash:s=""}=typeof r=="string"?ol(r):r;return{pathname:t?t.startsWith("/")?t:LN(t,e):e,search:VN(n),hash:BN(s)}}function LN(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function gp(r,e,t,n){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function MN(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Rg(r,e){let t=MN(r);return e?t.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):t.map(n=>n.pathnameBase)}function Pg(r,e,t,n){n===void 0&&(n=!1);let s;typeof r=="string"?s=ol(r):(s=Mu({},r),Dr(!s.pathname||!s.pathname.includes("?"),gp("?","pathname","search",s)),Dr(!s.pathname||!s.pathname.includes("#"),gp("#","pathname","hash",s)),Dr(!s.search||!s.search.includes("#"),gp("#","search","hash",s)));let a=r===""||s.pathname==="",l=a?"/":s.pathname,u;if(l==null)u=t;else{let x=e.length-1;if(!n&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),x-=1;s.pathname=v.join("/")}u=x>=0?e[x]:"/"}let h=FN(s,u),f=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(f||g)&&(h.pathname+="/"),h}const ro=r=>r.join("/").replace(/\/\/+/g,"/"),UN=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),VN=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,BN=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function zN(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const x2=["post","put","patch","delete"];new Set(x2);const $N=["get",...x2];new Set($N);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uu(){return Uu=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Uu.apply(this,arguments)}const jg=U.createContext(null),WN=U.createContext(null),yo=U.createContext(null),r0=U.createContext(null),ya=U.createContext({outlet:null,matches:[],isDataRoute:!1}),v2=U.createContext(null);function HN(r,e){let{relative:t}=e===void 0?{}:e;Ac()||Dr(!1);let{basename:n,navigator:s}=U.useContext(yo),{hash:a,pathname:l,search:u}=w2(r,{relative:t}),h=l;return n!=="/"&&(h=l==="/"?n:ro([n,l])),s.createHref({pathname:h,search:u,hash:a})}function Ac(){return U.useContext(r0)!=null}function ll(){return Ac()||Dr(!1),U.useContext(r0).location}function y2(r){U.useContext(yo).static||U.useLayoutEffect(r)}function Bs(){let{isDataRoute:r}=U.useContext(ya);return r?sC():GN()}function GN(){Ac()||Dr(!1);let r=U.useContext(jg),{basename:e,future:t,navigator:n}=U.useContext(yo),{matches:s}=U.useContext(ya),{pathname:a}=ll(),l=JSON.stringify(Rg(s,t.v7_relativeSplatPath)),u=U.useRef(!1);return y2(()=>{u.current=!0}),U.useCallback(function(f,g){if(g===void 0&&(g={}),!u.current)return;if(typeof f=="number"){n.go(f);return}let x=Pg(f,JSON.parse(l),a,g.relative==="path");r==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:ro([e,x.pathname])),(g.replace?n.replace:n.push)(x,g.state,g)},[e,n,l,a,r])}function xp(){let{matches:r}=U.useContext(ya),e=r[r.length-1];return e?e.params:{}}function w2(r,e){let{relative:t}=e===void 0?{}:e,{future:n}=U.useContext(yo),{matches:s}=U.useContext(ya),{pathname:a}=ll(),l=JSON.stringify(Rg(s,n.v7_relativeSplatPath));return U.useMemo(()=>Pg(r,JSON.parse(l),a,t==="path"),[r,l,a,t])}function qN(r,e){return KN(r,e)}function KN(r,e,t,n){Ac()||Dr(!1);let{navigator:s}=U.useContext(yo),{matches:a}=U.useContext(ya),l=a[a.length-1],u=l?l.params:{};l&&l.pathname;let h=l?l.pathnameBase:"/";l&&l.route;let f=ll(),g;if(e){var x;let T=typeof e=="string"?ol(e):e;h==="/"||(x=T.pathname)!=null&&x.startsWith(h)||Dr(!1),g=T}else g=f;let v=g.pathname||"/",_=v;if(h!=="/"){let T=h.replace(/^\//,"").split("/");_="/"+v.replace(/^\//,"").split("/").slice(T.length).join("/")}let S=EN(r,{pathname:_}),w=ZN(S&&S.map(T=>Object.assign({},T,{params:Object.assign({},u,T.params),pathname:ro([h,s.encodeLocation?s.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?h:ro([h,s.encodeLocation?s.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),a,t,n);return e&&w?U.createElement(r0.Provider,{value:{location:Uu({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Ja.Pop}},w):w}function YN(){let r=nC(),e=zN(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:s},t):null,null)}const XN=U.createElement(YN,null);class QN extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?U.createElement(ya.Provider,{value:this.props.routeContext},U.createElement(v2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function JN(r){let{routeContext:e,match:t,children:n}=r,s=U.useContext(jg);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),U.createElement(ya.Provider,{value:e},n)}function ZN(r,e,t,n){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),n===void 0&&(n=null),r==null){var a;if((a=t)!=null&&a.errors)r=t.matches;else return null}let l=r,u=(s=t)==null?void 0:s.errors;if(u!=null){let g=l.findIndex(x=>x.route.id&&(u==null?void 0:u[x.route.id])!==void 0);g>=0||Dr(!1),l=l.slice(0,Math.min(l.length,g+1))}let h=!1,f=-1;if(t&&n&&n.v7_partialHydration)for(let g=0;g<l.length;g++){let x=l[g];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(f=g),x.route.id){let{loaderData:v,errors:_}=t,S=x.route.loader&&v[x.route.id]===void 0&&(!_||_[x.route.id]===void 0);if(x.route.lazy||S){h=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((g,x,v)=>{let _,S=!1,w=null,T=null;t&&(_=u&&x.route.id?u[x.route.id]:void 0,w=x.route.errorElement||XN,h&&(f<0&&v===0?(iC("route-fallback"),S=!0,T=null):f===v&&(S=!0,T=x.route.hydrateFallbackElement||null)));let j=e.concat(l.slice(0,v+1)),D=()=>{let L;return _?L=w:S?L=T:x.route.Component?L=U.createElement(x.route.Component,null):x.route.element?L=x.route.element:L=g,U.createElement(JN,{match:x,routeContext:{outlet:g,matches:j,isDataRoute:t!=null},children:L})};return t&&(x.route.ErrorBoundary||x.route.errorElement||v===0)?U.createElement(QN,{location:t.location,revalidation:t.revalidation,component:w,error:_,children:D(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):D()},null)}var _2=(function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r})(_2||{}),E2=(function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r})(E2||{});function eC(r){let e=U.useContext(jg);return e||Dr(!1),e}function tC(r){let e=U.useContext(WN);return e||Dr(!1),e}function rC(r){let e=U.useContext(ya);return e||Dr(!1),e}function b2(r){let e=rC(),t=e.matches[e.matches.length-1];return t.route.id||Dr(!1),t.route.id}function nC(){var r;let e=U.useContext(v2),t=tC(),n=b2();return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function sC(){let{router:r}=eC(_2.UseNavigateStable),e=b2(E2.UseNavigateStable),t=U.useRef(!1);return y2(()=>{t.current=!0}),U.useCallback(function(s,a){a===void 0&&(a={}),t.current&&(typeof s=="number"?r.navigate(s):r.navigate(s,Uu({fromRouteId:e},a)))},[r,e])}const Py={};function iC(r,e,t){Py[r]||(Py[r]=!0)}function $o(r){let{to:e,replace:t,state:n,relative:s}=r;Ac()||Dr(!1);let{future:a,static:l}=U.useContext(yo),{matches:u}=U.useContext(ya),{pathname:h}=ll(),f=Bs(),g=Pg(e,Rg(u,a.v7_relativeSplatPath),h,s==="path"),x=JSON.stringify(g);return U.useEffect(()=>f(JSON.parse(x),{replace:t,state:n,relative:s}),[f,x,s,t,n]),null}function xs(r){Dr(!1)}function aC(r){let{basename:e="/",children:t=null,location:n,navigationType:s=Ja.Pop,navigator:a,static:l=!1,future:u}=r;Ac()&&Dr(!1);let h=e.replace(/^\/*/,"/"),f=U.useMemo(()=>({basename:h,navigator:a,static:l,future:Uu({v7_relativeSplatPath:!1},u)}),[h,u,a,l]);typeof n=="string"&&(n=ol(n));let{pathname:g="/",search:x="",hash:v="",state:_=null,key:S="default"}=n,w=U.useMemo(()=>{let T=kg(g,h);return T==null?null:{location:{pathname:T,search:x,hash:v,state:_,key:S},navigationType:s}},[h,g,x,v,_,S,s]);return w==null?null:U.createElement(yo.Provider,{value:f},U.createElement(r0.Provider,{children:t,value:w}))}function oC(r){let{children:e,location:t}=r;return qN(Gp(e),t)}new Promise(()=>{});function Gp(r,e){e===void 0&&(e=[]);let t=[];return U.Children.forEach(r,(n,s)=>{if(!U.isValidElement(n))return;let a=[...e,s];if(n.type===U.Fragment){t.push.apply(t,Gp(n.props.children,a));return}n.type!==xs&&Dr(!1),!n.props.index||!n.props.children||Dr(!1);let l={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Gp(n.props.children,a)),t.push(l)}),t}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qp(){return qp=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},qp.apply(this,arguments)}function lC(r,e){if(r==null)return{};var t={},n=Object.keys(r),s,a;for(a=0;a<n.length;a++)s=n[a],!(e.indexOf(s)>=0)&&(t[s]=r[s]);return t}function cC(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function uC(r,e){return r.button===0&&(!e||e==="_self")&&!cC(r)}const dC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],hC="6";try{window.__reactRouterVersion=hC}catch{}const fC="startTransition",jy=vN[fC];function mC(r){let{basename:e,children:t,future:n,window:s}=r,a=U.useRef();a.current==null&&(a.current=yN({window:s,v5Compat:!0}));let l=a.current,[u,h]=U.useState({action:l.action,location:l.location}),{v7_startTransition:f}=n||{},g=U.useCallback(x=>{f&&jy?jy(()=>h(x)):h(x)},[h,f]);return U.useLayoutEffect(()=>l.listen(g),[l,g]),U.createElement(aC,{basename:e,children:t,location:u.location,navigationType:u.action,navigator:l,future:n})}const pC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rn=U.forwardRef(function(e,t){let{onClick:n,relative:s,reloadDocument:a,replace:l,state:u,target:h,to:f,preventScrollReset:g,unstable_viewTransition:x}=e,v=lC(e,dC),{basename:_}=U.useContext(yo),S,w=!1;if(typeof f=="string"&&gC.test(f)&&(S=f,pC))try{let L=new URL(window.location.href),M=f.startsWith("//")?new URL(L.protocol+f):new URL(f),Z=kg(M.pathname,_);M.origin===L.origin&&Z!=null?f=Z+M.search+M.hash:w=!0}catch{}let T=HN(f,{relative:s}),j=xC(f,{replace:l,state:u,target:h,preventScrollReset:g,relative:s,unstable_viewTransition:x});function D(L){n&&n(L),L.defaultPrevented||j(L)}return U.createElement("a",qp({},v,{href:S||T,onClick:w||a?n:D,ref:t,target:h}))});var Dy;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(Dy||(Dy={}));var Oy;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(Oy||(Oy={}));function xC(r,e){let{target:t,replace:n,state:s,preventScrollReset:a,relative:l,unstable_viewTransition:u}=e===void 0?{}:e,h=Bs(),f=ll(),g=w2(r,{relative:l});return U.useCallback(x=>{if(uC(x,t)){x.preventDefault();let v=n!==void 0?n:vf(f)===vf(g);h(r,{replace:v,state:s,preventScrollReset:a,relative:l,unstable_viewTransition:u})}},[f,h,g,n,s,t,r,a,l,u])}var xt=(r=>(r.Past="Past",r.Ongoing="Ongoing",r.Upcoming="Upcoming",r))(xt||{});const vC=[{id:1,name:"Mr. G. R. Ravinder Reddy",title:"Chairman",imageUrl:"https://gcet.edu.in/images/chairman.jpg",quote:"We are dedicated to aligning our curriculum with the future needs of the industry."},{id:2,name:"R. Harishchandra Reddy",title:"Vice chairman",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQkw_JxAi5zipbO-n_L_OfSNFmUTaWpnSZ9rg&s",quote:"A vibrant campus life is crucial for holistic development and creating lasting memories."},{id:3,name:"Dr.Udaya Kumar Susarla",title:"Director",imageUrl:"https://gcet.edu.in/images/principal.jpg",quote:"Our commitment is to ensure the highest standards of education and student success are met."},{id:4,name:"Dr. K. Sagar",title:"Principal",imageUrl:"https://gcet.edu.in/images/Principal_Sagar.jpg",quote:"Fostering an environment of innovation and excellence for all students is my highest priority."}],yC=[{id:"ev101",name:"Annual Tech Symposium 2024",date:"October 26, 2024",time:"9:00 AM - 5:00 PM",location:"Main Auditorium",description:"A full day of talks and workshops from industry l`eaders on the future of technology, AI, and software development.",rules:["All attendees must register online.","Bring a valid college ID for entry.","Sessions are on a first-come, first-served basis."],imageUrl:"https://picsum.photos/seed/techsymposium/800/400",status:xt.Upcoming,category:"Technical",isFeatured:!0,registrationFee:0,organizerClubId:"coding",coordinators:[{name:"Nithin Kumar",contact:"nithin.k@college.edu"}],capacity:200},{id:"ev102",name:"Robotics Design Challenge",date:"November 5, 2024",time:"10:00 AM - 4:00 PM",location:"Engineering Block, Lab 5",description:"Build and battle robots in our annual design challenge. Prizes for the most innovative and effective designs. Open to all students.",rules:["Teams can have 2-4 members.","All materials will be provided.","Judging criteria will be shared at the event start."],imageUrl:"https://picsum.photos/seed/roboticschallenge/800/400",status:xt.Upcoming,category:"Technical",isFeatured:!0,registrationFee:10,organizerClubId:"robotics",coordinators:[{name:"Sankeerth Reddy",contact:"sankeerth.r@college.edu"}]},{id:"ev103",name:"AI & Machine Learning Summit",date:"September 15-20, 2024",time:"Ongoing This Week",location:"Virtual Event",description:"A week-long series of virtual keynotes and panel discussions on the latest trends in AI and Machine Learning.",rules:["Register to receive the streaming links.","Q&A will be held after each session via chat."],imageUrl:"https://picsum.photos/seed/aisummit/800/400",status:xt.Ongoing,category:"Workshop",organizerClubId:"aiml",coordinators:[{name:"Panda Sai",contact:"panda.s@college.edu"}]},{id:"ev104",name:"Culturals Night 2024",date:"November 15, 2024",time:"6:00 PM onwards",location:"College Amphitheatre",description:"An evening of music, dance, and drama performances by our talented students. A celebration of art and culture.",rules:["Entry is free for all students and faculty.","Seating is limited."],imageUrl:"https://picsum.photos/seed/culturals/800/400",status:xt.Upcoming,category:"Cultural",isFeatured:!0,registrationFee:0,organizerClubId:"cultural",coordinators:[{name:"Puneeth Varma",contact:"puneeth.v@college.edu"}]},{id:"bhaswara_cs_codeathon",name:"Code-a-Thon (Bhaswara '24)",date:"December 5, 2024",time:"9:00 AM - 5:00 PM",location:"CS Department Labs",description:"A flagship event of Bhaswara, the annual tech fest. A day-long coding competition organized by the CS department.",rules:["Team of 2-4 members.","Problem statements will be revealed on the spot."],imageUrl:"https://picsum.photos/seed/bhaswaracode/800/400",status:xt.Upcoming,category:"Technical",organizerClubId:"coding",coordinators:[{name:"Pavan Bejawada",contact:"pavan.b@college.edu"}],parentAnnualEventId:"bhaswara",registrationFee:5},{id:"bhaswara_mech_robowars",name:"RoboWars (Bhaswara '24)",date:"December 6, 2024",time:"10:00 AM - 4:00 PM",location:"Mechanical Workshop",description:"As part of Bhaswara, witness metal titans clash in the ultimate robotic combat.",rules:["Weight limits apply.","Safety regulations must be followed."],imageUrl:"https://picsum.photos/seed/bhaswararobo/800/400",status:xt.Upcoming,category:"Technical",organizerClubId:"robotics",coordinators:[{name:"Paramesh K",contact:"paramesh.k@college.edu"}],parentAnnualEventId:"bhaswara",registrationFee:10},{id:"bhaswara_nontech_scary",name:"The Haunted Lab (Bhaswara '24)",date:"December 5-6, 2024",time:"11:00 AM - 5:00 PM",location:"Old Physics Lab",description:"Experience thrills and chills in this non-technical scary house event, a popular attraction at Bhaswara.",rules:["Enter at your own risk.","Not for the faint of heart."],imageUrl:"https://picsum.photos/seed/bhaswarascary/800/400",status:xt.Upcoming,category:"Cultural",organizerClubId:"cultural",coordinators:[{name:"Nithin Kumar",contact:"nithin.k@college.edu"}],parentAnnualEventId:"bhaswara",registrationFee:2},{id:"ev201",name:"CodeFest 2023",date:"May 12, 2023",time:"All Day",location:"Computer Labs 1-5",description:"A competitive programming event where students solved algorithmic challenges. The event saw over 200 participants.",rules:[],imageUrl:"https://picsum.photos/seed/codefest/800/400",status:xt.Past,category:"Technical",organizerClubId:"coding",coordinators:[],highlights:{images:["https://picsum.photos/seed/codefest-gallery1/600/400","https://picsum.photos/seed/codefest-gallery2/600/400","https://picsum.photos/seed/codefest-gallery3/600/400"],guests:["Dr. Alan Turing (Keynote Speaker)","Ms. Grace Hopper (Judge)"],winners:[{position:"1st Place",name:"Team Alpha",details:"Solved all problems in record time."},{position:"2nd Place",name:"Team Binary Brigade",details:"Impressive performance with complex algorithms."},{position:"3rd Place",name:"Team Code Wizards",details:"Strong showing from first-year students."}],galleryDriveLink:"https://photos.app.goo.gl/ex4o52pLp3NEaK9C9"}},{id:"ev202",name:"Intro to Drone Building",date:"April 20, 2023",time:"1:00 PM - 5:00 PM",location:"Robotics Lab",description:"A hands-on workshop teaching the fundamentals of drone mechanics and assembly.",rules:[],imageUrl:"https://picsum.photos/seed/droneworkshop/800/400",status:xt.Past,category:"Workshop",organizerClubId:"coding",coordinators:[]},{id:"ev203",name:"Guest Lecture: The Ethics of AI",date:"March 5, 2023",time:"4:00 PM",location:"Seminar Hall B",description:"The AI/ML Club hosted a thought-provoking lecture by a leading AI ethicist on the societal impact of intelligent systems.",rules:[],imageUrl:"https://picsum.photos/seed/aiethics/800/400",status:xt.Past,category:"Technical",organizerClubId:"aiml",coordinators:[],highlights:{images:["https://picsum.photos/seed/aiethics-gallery1/600/400","https://picsum.photos/seed/aiethics-gallery2/600/400"],guests:["Dr. Evelyn Reed (AI Ethicist)"],winners:[],galleryDriveLink:"https://photos.app.goo.gl/ex4o52pLp3NEaK9C9"}}],wC=[{id:"robotics",name:"Robotics Club",tagline:"Building the future, one robot at a time.",description:"Dedicated to the design, construction, and operation of robots. We participate in national competitions and host workshops to spread the passion for automation and mechatronics.",logoUrl:"https://picsum.photos/seed/roboticslogo/200/200",bannerUrl:"https://picsum.photos/seed/roboticsbanner/1200/400",eventIds:["ev102","ev202"],achievements:["Winners at National Robotics Championship 2023","Hosted a state-level workshop on drone technology","Developed a rover for the Smart India Hackathon"],team:[{id:"t_pk",name:"Paramesh K",position:"President",imageUrl:"https://picsum.photos/seed/paramesh/200/200"},{id:"t_sr",name:"Sankeerth Reddy",position:"Vice President",imageUrl:"https://picsum.photos/seed/sankeerth/200/200"},{id:"t_pv",name:"Puneeth Varma",position:"Technical Head",imageUrl:"https://picsum.photos/seed/puneeth/200/200"},{id:"t_nk",name:"Nithin Kumar",position:"Events Lead",imageUrl:"https://picsum.photos/seed/nithin/200/200"},{id:"t_sk",name:"Sam Kumar",position:"Member"},{id:"t_ps",name:"Panda Sai",position:"Member"},{id:"t_cw",name:"Chris Wood",position:"Volunteer"},{id:"t_em",name:"Emily Clark",position:"Volunteer"}],recruitmentOpen:!1,recruitmentQuestions:["Describe a project you've worked on that you are proud of.","What is your experience with programming languages like C++ or Python?","How would you contribute to the club's goals?"]},{id:"coding",name:"The Coding Hub",tagline:"Code, Compete, Conquer.",description:"A community for passionate programmers. We organize coding contests, hackathons, and workshops on various technologies like web development, app development, and competitive programming.",logoUrl:"https://picsum.photos/seed/codinglogo/200/200",bannerUrl:"https://picsum.photos/seed/codingbanner/1200/400",eventIds:["ev101","ev201"],achievements:["Top 10 in Google Code Jam - India region","Winners of Inter-College CodeFest for 3 consecutive years","Published a popular open-source library for data structures"],team:[{id:"t_pb",name:"Pavan Bejawada",position:"President",imageUrl:"https://picsum.photos/seed/pavanb/200/200"},{id:"t_pk2",name:"Paramesh K",position:"Competitive Programming Head",imageUrl:"https://picsum.photos/seed/parameshk/200/200"}],recruitmentOpen:!0,recruitmentQuestions:["What is your preferred programming language and why?","Share a link to your GitHub or competitive programming profile.","What are you hoping to learn by joining The Coding Hub?"]},{id:"aiml",name:"AI/ML Enthusiasts",tagline:"Exploring the frontiers of intelligence.",description:"This club is for students fascinated by Artificial Intelligence and Machine Learning. We explore everything from neural networks to natural language processing through projects and study groups.",logoUrl:"https://picsum.photos/seed/aimllogo/200/200",bannerUrl:"https://picsum.photos/seed/aimlbanner/1200/400",eventIds:["ev103","ev203"],achievements:["Published a research paper on sentiment analysis in a reputed journal","Developed a predictive model for campus placements with 90% accuracy"],team:[{id:"t_pb2",name:"Pavan Bejawada",position:"President",imageUrl:"https://picsum.photos/seed/pavan/200/200"},{id:"t_sr2",name:"Sankeerth Reddy",position:"Research Lead",imageUrl:"https://picsum.photos/seed/sankeerthreddy/200/200"}],recruitmentOpen:!1},{id:"cultural",name:"Cultural Club",tagline:"Celebrating diversity and creativity.",description:"The heart of arts and culture on campus. We organize events that celebrate music, dance, drama, and fine arts, fostering a vibrant and inclusive cultural environment for all students.",logoUrl:"https://picsum.photos/seed/culturallogo/200/200",bannerUrl:"https://picsum.photos/seed/culturalbanner/1200/400",eventIds:["ev104"],achievements:["Won 'Best Cultural Fest' at the national university awards","Organized a charity concert that raised over $5000 for local artists"],team:[{id:"t_nk2",name:"Nithin Kumar",position:"President",imageUrl:"https://picsum.photos/seed/nithin/200/200"},{id:"t_pv2",name:"Puneeth Varma",position:"Music Coordinator",imageUrl:"https://picsum.photos/seed/puneethvarma/200/200"}],recruitmentOpen:!0,recruitmentQuestions:["Which art form are you most passionate about and why?","Do you have any prior experience in organizing cultural events?","How can you contribute to the club's activities?"]}],_C=[{id:"ext1",name:"InnovateIndia Hackathon 2024",organizer:"Tech giant Corp & Govt. of India",description:"A 48-hour national level hackathon focused on solving real-world problems in healthcare, education, and finance.",link:"#",category:"Hackathon"},{id:"ext2",name:"TechKriti 2024",organizer:"IIT Kanpur",description:"One of the largest technical festivals in Asia, featuring workshops, competitions, and talks from Nobel laureates.",link:"#",category:"Tech Fest"},{id:"ext3",name:"Summer Internship Program",organizer:"FutureSoft Inc.",description:"A 2-month paid internship for software development roles. Open to pre-final year students.",link:"#",category:"Internship"}],EC=[{id:"news1",title:"Recruitment Drive for The Coding Hub is Now Open!",date:"September 1, 2024",summary:"The Coding Hub is looking for passionate coders to join their team. All students are welcome to apply and showcase their skills.",category:"Recruitment",link:{path:"/clubs/coding",text:"View Club & Apply"}},{id:"news2",title:"Team Alpha Wins CodeFest 2023",date:"May 15, 2023",summary:"Congratulations to Team Alpha for securing the first position in the annual CodeFest competition. Their exceptional problem-solving skills led them to victory.",category:"Event Result",link:{path:"/events/ev201",text:"See Event Highlights"}},{id:"news3",title:"Upcoming: Annual Tech Symposium 2024",date:"August 25, 2024",summary:"Mark your calendars for the biggest technical event of the year. The Annual Tech Symposium will feature talks from industry leaders, hands-on workshops, and more.",category:"Announcement",link:{path:"/events/ev101",text:"Learn More"}}],bC=[{id:"app101",userName:"Sankeerth Reddy",userImageUrl:"https://picsum.photos/seed/sankeerth/200/200",userEmail:"sankeerth.r@college.edu",userYear:"2nd Year",userBranch:"CS",userMobile:"555-0101",clubId:"coding",status:"pending",answers:[{question:"Why do you want to join?",answer:"I love coding and want to learn more."},{question:"What is your experience?",answer:"I have worked on a few personal projects using Python and JavaScript."}]},{id:"app102",userName:"Panda Sai",userImageUrl:"https://picsum.photos/seed/panda/200/200",userEmail:"panda.s@college.edu",userYear:"3rd Year",userBranch:"ME",userMobile:"555-0102",clubId:"robotics",status:"pending",answers:[{question:"Why robotics?",answer:"I am fascinated by automation and want to build cool things."}]},{id:"app103",userName:"Puneeth Varma",userImageUrl:"https://picsum.photos/seed/puneeth/200/200",userEmail:"puneeth.v@college.edu",userYear:"1st Year",userBranch:"ECE",userMobile:"555-0103",clubId:"coding",status:"pending",answers:[{question:"Why do you want to join?",answer:"I am new to coding and eager to learn from seniors."},{question:"What is your experience?",answer:"I have some basic knowledge of C programming."}]},{id:"app104",userName:"Pavan Kumar",userImageUrl:"https://picsum.photos/seed/pavankumar/200/200",userEmail:"pavan.k@college.edu",userYear:"4th Year",userBranch:"IT",userMobile:"555-0104",clubId:"robotics",status:"accepted",answers:[{question:"Why robotics?",answer:"I want to apply my IT skills to a robotics project for my final year."}]},{id:"app105",userName:"Dev Contributor",userImageUrl:"https://picsum.photos/seed/Dev Contributor/200/200",userEmail:"dev@college.edu",userYear:"3rd Year",userBranch:"CS",userMobile:"555-0106",clubId:"cultural",status:"accepted",answers:[{question:"Why do you want to join?",answer:"I am passionate about cultural activities."}]}],TC=[{id:"usr_001",name:"Sankeerth Reddy",rollNumber:"21CS101",role:"student",email:"sankeerth.r@college.edu",year:"3rd Year",branch:"CSE",mobile:"555-0101"},{id:"usr_002",name:"Panda Sai",rollNumber:"22EC205",role:"student",email:"panda.s@college.edu",year:"2nd Year",branch:"ECE",mobile:"555-0102"},{id:"usr_003",name:"Puneeth Varma",rollNumber:"20ME310",role:"student",email:"puneeth.v@college.edu",year:"4th Year",branch:"ME",mobile:"555-0103"},{id:"usr_004",name:"Pavan Kumar",rollNumber:"23IT415",role:"student",email:"pavan_stu@gmail.com",year:"1st Year",branch:"IT",mobile:"555-0104"},{id:"usr_c01",name:"Pavan Bejawada",rollNumber:"21CS050",role:"contributor",managedClubIds:["coding","aiml"],email:"pavan@gmail.com",year:"3rd Year",branch:"CSE",mobile:"555-0105"},{id:"usr_c02",name:"Paramesh K",rollNumber:"22ME110",role:"contributor",managedClubIds:["robotics"],email:"paramesh.k@college.edu",year:"2nd Year",branch:"ME",mobile:"555-0106"},{id:"usr_c03",name:"Nithin Kumar",rollNumber:"21AR025",role:"contributor",managedClubIds:["cultural"],email:"nithin.k@college.edu",year:"3rd Year",branch:"ARCH",mobile:"555-0107"},{id:"usr_a01",name:"Dev Admin",role:"admin",email:"admin@gmail.com"}],SC=[{id:"notif1",userId:"usr_001",type:"application-rejected",message:"Your application to The Coding Hub was not accepted at this time.",timestamp:new Date(Date.now()-7200*1e3).toISOString(),isRead:!1,link:"/clubs/coding"},{id:"notif2",userId:"usr_001",type:"info",message:"A new event 'Robotics Design Challenge' has been announced by a club you're in.",timestamp:new Date(Date.now()-1440*60*1e3).toISOString(),isRead:!0,link:"/events/ev102"},{id:"notif3",userId:"usr_c01",type:"access-granted",message:"You have been granted admin access for the AI/ML Enthusiasts club.",timestamp:new Date(Date.now()-300*1e3).toISOString(),isRead:!1,link:"/clubs/aiml"},{id:"notif4",userId:"usr_c01",type:"event-winner",message:"Congratulations! Your team won 2nd Place in CodeFest 2023.",timestamp:new Date(Date.now()-4320*60*1e3).toISOString(),isRead:!0,link:"/events/ev201"},{id:"notif5",userId:"usr_c02",type:"access-revoked",message:"Your admin access for the Robotics Club has been revoked by the super admin.",timestamp:new Date(Date.now()-600*1e3).toISOString(),isRead:!1,link:"/clubs/robotics"},{id:"notif6",userId:"usr_c03",type:"application-accepted",message:"Your application to the Cultural Club has been accepted. Welcome aboard!",timestamp:new Date(Date.now()-1800*1e3).toISOString(),isRead:!1,link:"/clubs/cultural"}],NC=[{id:"vibgyor",name:"Vibgyor - The Star Night",category:"Cultural",shortDescription:"The most awaited cultural extravaganza of the year, featuring celebrity concerts, DJ nights, and stunning student performances.",longDescription:"Vibgyor is the soul of our campus culture. It is a spectacular of music, dance, and art that brings together the entire college community. Day 1 is traditionally a high-energy concert night headlined by a popular singer from the industry, followed by electrifying sets from international DJs. Vibgyor is more than an event; it's a celebration of our collective spirit and creativity.",bannerUrl:"https://picsum.photos/seed/vibgyorbanner/1600/600",registrationEnabled:!1,yearlyData:[{year:2023,theme:"Retro Rewind",chiefGuests:[{name:"Sonu Nigam",title:"Legendary Playback Singer",profileImageUrl:"https://picsum.photos/seed/sonunigam/200/200",eventPhotos:["https://picsum.photos/seed/sonu-event1/600/400","https://picsum.photos/seed/sonu-event2/600/400","https://picsum.photos/seed/sonu-event3/600/400"]},{name:"DJ Snake",title:"International Music Producer",profileImageUrl:"https://picsum.photos/seed/djsnake/200/200",eventPhotos:["https://picsum.photos/seed/snake-event1/600/400","https://picsum.photos/seed/snake-event2/600/400","https://picsum.photos/seed/snake-event3/600/400"]}],highlightsGallery:{previewImages:["https://picsum.photos/seed/vibgyor23-1/600/400","https://picsum.photos/seed/vibgyor23-2/600/400","https://picsum.photos/seed/vibgyor23-3/600/400","https://picsum.photos/seed/vibgyor23-4/600/400"],fullGalleryLink:"https://photos.app.goo.gl/ex4o52pLp3NEaK9C9"},organizingTeam:[{name:"Nithin Kumar",position:"Overall Coordinator",imageUrl:"https://picsum.photos/seed/nithin/200/200"},{name:"Puneeth Varma",position:"Student Head",imageUrl:"https://picsum.photos/seed/puneethvarma/200/200"},{name:"John Doe",position:"Logistics Head"},{name:"Jane Smith",position:"Marketing Lead"},{name:"Sam Wilson",position:"Volunteer Coordinator"}]},{year:2022,theme:"Cosmic Carnival",chiefGuests:[{name:"Shreya Ghoshal",title:"Melody Queen",profileImageUrl:"https://picsum.photos/seed/shreyaghoshal/200/200",eventPhotos:["https://picsum.photos/seed/shreya-event1/600/400","https://picsum.photos/seed/shreya-event2/600/400"]}],highlightsGallery:{previewImages:["https://picsum.photos/seed/vibgyor22-1/600/400","https://picsum.photos/seed/vibgyor22-2/600/400","https://picsum.photos/seed/vibgyor22-3/600/400"],fullGalleryLink:"#"},organizingTeam:[{name:"Sankeerth Reddy",position:"Overall Coordinator",imageUrl:"https://picsum.photos/seed/sankeerth/200/200"},{name:"Emily Clark",position:"Student Head"}]}]},{id:"vibes",name:"Vibes - A Student Showcase",category:"Cultural",shortDescription:"Day 2 of the cultural fest, dedicated to showcasing student talent, with dance, music, and awards.",longDescription:"Vibes is a celebration of our students' incredible talents. Following the star-studded Vibgyor night, Day 2 is all about our campus community. The evening features mesmerizing performances from the college's official dance and music clubs, hilarious skits from the drama society, and a formal ceremony to honor the academic and extra-curricular achievements of our brightest students. It's a night of pride, talent, and unforgettable memories, by the students, for the students.",bannerUrl:"https://picsum.photos/seed/vibesbanner/1600/600",registrationEnabled:!1,yearlyData:[{year:2023,theme:"A Night of a Thousand Stars",chiefGuests:[{name:"Dr. K. Sagar",title:"Principal",profileImageUrl:"https://gcet.edu.in/images/Principal_Sagar.jpg"}],highlightsGallery:{previewImages:["https://picsum.photos/seed/vibes23-1/600/400","https://picsum.photos/seed/vibes23-2/600/400","https://picsum.photos/seed/vibes23-3/600/400","https://picsum.photos/seed/vibes23-4/600/400"],fullGalleryLink:"#"},organizingTeam:[{name:"Nithin Kumar",position:"Overall Coordinator",imageUrl:"https://picsum.photos/seed/nithin/200/200"},{name:"Puneeth Varma",position:"Student Head",imageUrl:"https://picsum.photos/seed/puneethvarma/200/200"}],performances:[{performer:"The Pirates Crew",description:"High-Energy Hip-Hop Fusion",imageUrl:"https://picsum.photos/seed/danceperf1/600/400"},{performer:"Desi Swag",description:"Bollywood Dance Medley",imageUrl:"https://picsum.photos/seed/danceperf2/600/400"},{performer:"Rhythm Roar",description:"Live Beatboxing & Mimicry",imageUrl:"https://picsum.photos/seed/musicperf1/600/400"},{performer:"Ananya Sharma",description:"Solo Classical Dance",imageUrl:"https://picsum.photos/seed/skitperf1/600/400"}],awardWinners:[{department:"Computer Science Engineering",winners:[{rank:1,name:"Priya Sharma",achievement:"9.8 GPA"},{rank:2,name:"Rohan Gupta",achievement:"9.7 GPA"},{rank:3,name:"Aisha Khan",achievement:"9.6 GPA"}]},{department:"Electronics & Communication",winners:[{rank:1,name:"Rahul Verma",achievement:"9.7 GPA"},{rank:2,name:"Sneha Reddy",achievement:"9.6 GPA"},{rank:3,name:"Karan Singh",achievement:"9.5 GPA"}]},{department:"Mechanical Engineering",winners:[{rank:1,name:"Anjali Mehta",achievement:"9.5 GPA"},{rank:2,name:"Vikram Singh",achievement:"9.4 GPA"},{rank:3,name:"Pooja Desai",achievement:"9.3 GPA"}]}]}]},{id:"bhaswara",name:"Bhaswara - The Tech Fest",category:"Technical",shortDescription:"A grand celebration of technology and innovation, where all engineering departments host a plethora of technical and non-technical events.",longDescription:"Bhaswara is our annual technical festival, a crucible of innovation where theory meets practice. Over several days, each academic department organizes a unique slate of events, from intense coding competitions and robotics challenges to thought-provoking workshops and paper presentations. Alongside the core technical events, Bhaswara is famous for its creative non-technical attractions like treasure hunts and scary houses, ensuring there's something for everyone. It's a platform for students to showcase their skills, compete with their peers, and learn about the latest technological advancements.",bannerUrl:"https://picsum.photos/seed/bhaswarabanner/1600/600",registrationEnabled:!0,yearlyData:[{year:2024,chiefGuests:[],highlightsGallery:{previewImages:["https://picsum.photos/seed/bhaswara24-1/600/400","https://picsum.photos/seed/bhaswara24-2/600/400","https://picsum.photos/seed/bhaswara24-3/600/400"],fullGalleryLink:"#"},organizingTeam:[{name:"Pavan Bejawada",position:"Overall Coordinator"},{name:"Paramesh K",position:"Technical Head"}],achievements:["Over 30+ events conducted across 5 departments","Record participation of 2000+ students"]}]},{id:"sportsweek",name:"Annual Sports Week",category:"Sports",shortDescription:"A week of intense competition, sportsmanship, and athletic prowess, culminating in the grand Annual Sports Day.",longDescription:"The Annual Sports Week is a cornerstone of our college's commitment to holistic development. It is a vibrant week where students from all years and branches compete in a wide array of indoor and outdoor sports, including cricket, football, basketball, chess, and athletics. The week fosters a spirit of healthy competition, teamwork, and resilience. It all culminates in the grand Sports Day, where finalists compete for glory and champions are felicitated in a formal ceremony, celebrating the athletic talent on our campus.",bannerUrl:"https://picsum.photos/seed/sportsbanner/1600/600",registrationEnabled:!0,yearlyData:[{year:2023,chiefGuests:[{name:"P. V. Sindhu",title:"Olympian",profileImageUrl:"https://picsum.photos/seed/pvsindhu/200/200"}],highlightsGallery:{previewImages:["https://picsum.photos/seed/sports23-1/600/400","https://picsum.photos/seed/sports23-2/600/400","https://picsum.photos/seed/sports23-3/600/400"],fullGalleryLink:"#"},organizingTeam:[{name:"Mr. Alex Johnson",position:"Physical Director"},{name:"Student Sports Secretary",position:"Student Head"}],achievements:["Cricket Champions: 4th Year CSE","Football Champions: 3rd Year Mech"],sportsCompetitions:[{id:"cricket-23",name:"Cricket",description:"Inter-branch T20 cricket tournament. Bring your team and compete for the championship trophy.",icon:"",registrationOpen:!0},{id:"football-23",name:"Football",description:"5-a-side football matches. Showcase your skill, teamwork, and sportsmanship on the field.",icon:"",registrationOpen:!0},{id:"basketball-23",name:"Basketball",description:"Full-court basketball competition. Form a team and aim for the hoops.",icon:"",registrationOpen:!0},{id:"chess-23",name:"Chess",description:"A battle of minds. Compete in our annual chess championship and claim the title of Grandmaster.",icon:"",registrationOpen:!1},{id:"athletics-23",name:"Athletics",description:"Track and field events including 100m, 200m sprints, long jump, and shot put.",icon:"",registrationOpen:!0}]}]}],CC=async()=>yC,AC=async()=>wC,IC=async()=>TC,kC=async()=>vC,RC=async()=>NC,PC=async()=>EC,jC=async()=>_C,DC=async()=>SC,OC=async()=>bC,FC=()=>{};var Fy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},LC=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const s=r[t++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const a=r[t++];e[n++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=r[t++],l=r[t++],u=r[t++],h=((s&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[n++]=String.fromCharCode(55296+(h>>10)),e[n++]=String.fromCharCode(56320+(h&1023))}else{const a=r[t++],l=r[t++];e[n++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},S2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<r.length;s+=3){const a=r[s],l=s+1<r.length,u=l?r[s+1]:0,h=s+2<r.length,f=h?r[s+2]:0,g=a>>2,x=(a&3)<<4|u>>4;let v=(u&15)<<2|f>>6,_=f&63;h||(_=64,l||(v=64)),n.push(t[g],t[x],t[v],t[_])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(T2(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):LC(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<r.length;){const a=t[r.charAt(s++)],u=s<r.length?t[r.charAt(s)]:0;++s;const f=s<r.length?t[r.charAt(s)]:64;++s;const x=s<r.length?t[r.charAt(s)]:64;if(++s,a==null||u==null||f==null||x==null)throw new MC;const v=a<<2|u>>4;if(n.push(v),f!==64){const _=u<<4&240|f>>2;if(n.push(_),x!==64){const S=f<<6&192|x;n.push(S)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class MC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UC=function(r){const e=T2(r);return S2.encodeByteArray(e,!0)},yf=function(r){return UC(r).replace(/\./g,"")},N2=function(r){try{return S2.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=()=>VC().__FIREBASE_DEFAULTS__,zC=()=>{if(typeof process>"u"||typeof Fy>"u")return;const r=Fy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},$C=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&N2(r[1]);return e&&JSON.parse(e)},n0=()=>{try{return FC()||BC()||zC()||$C()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},C2=r=>{var e,t;return(t=(e=n0())==null?void 0:e.emulatorHosts)==null?void 0:t[r]},Dg=r=>{const e=C2(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},A2=()=>{var r;return(r=n0())==null?void 0:r.config},I2=r=>{var e;return(e=n0())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function s0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",s=r.iat||0,a=r.sub||r.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...r};return[yf(JSON.stringify(t)),yf(JSON.stringify(l)),""].join(".")}const Tu={};function HC(){const r={prod:[],emulator:[]};for(const e of Object.keys(Tu))Tu[e]?r.emulator.push(e):r.prod.push(e);return r}function GC(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let Ly=!1;function i0(r,e){if(typeof window>"u"||typeof document>"u"||!Oi(window.location.host)||Tu[r]===e||Tu[r]||Ly)return;Tu[r]=e;function t(v){return`__firebase__banner__${v}`}const n="__firebase__banner",a=HC().prod.length>0;function l(){const v=document.getElementById(n);v&&v.remove()}function u(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function h(v,_){v.setAttribute("width","24"),v.setAttribute("id",_),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{Ly=!0,l()},v}function g(v,_){v.setAttribute("id",_),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function x(){const v=GC(n),_=t("text"),S=document.getElementById(_)||document.createElement("span"),w=t("learnmore"),T=document.getElementById(w)||document.createElement("a"),j=t("preprendIcon"),D=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const L=v.element;u(L),g(T,w);const M=f();h(D,j),L.append(D,S,T,M),document.body.appendChild(L)}a?(S.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(On())}function KC(){var e;const r=(e=n0())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XC(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function QC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JC(){const r=On();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function ZC(){return!KC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eA(){try{return typeof indexedDB=="object"}catch{return!1}}function tA(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)==null?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="FirebaseError";class mi extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=rA,Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nd.prototype.create)}}class nd{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?nA(a,n):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new mi(s,u,n)}}function nA(r,e){return r.replace(sA,(t,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const sA=/\{\$([^}]+)}/g;function iA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Qo(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const s of t){if(!n.includes(s))return!1;const a=r[s],l=e[s];if(My(a)&&My(l)){if(!Qo(a,l))return!1}else if(a!==l)return!1}for(const s of n)if(!t.includes(s))return!1;return!0}function My(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function vu(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[s,a]=n.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function yu(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function aA(r,e){const t=new oA(r,e);return t.subscribe.bind(t)}class oA{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let s;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");lA(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:n},s.next===void 0&&(s.next=vp),s.error===void 0&&(s.error=vp),s.complete===void 0&&(s.complete=vp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lA(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function vp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(r){return r&&r._delegate?r._delegate:r}class ha{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new WC;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(n)return null;throw s}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dA(e))try{this.getOrInitializeService({instanceIdentifier:Ho})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});n.resolve(a)}catch{}}}}clearInstance(e=Ho){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ho){return this.instances.has(e)}getOptions(e=Ho){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);n===u&&l.resolve(s)}return s}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(n)??new Set;s.add(e),this.onInitCallbacks.set(n,s);const a=this.instances.get(n);return a&&e(a,n),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const s of n)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:uA(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Ho){return this.component?this.component.multipleInstances?e:Ho:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uA(r){return r===Ho?void 0:r}function dA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new cA(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(St||(St={}));const fA={debug:St.DEBUG,verbose:St.VERBOSE,info:St.INFO,warn:St.WARN,error:St.ERROR,silent:St.SILENT},mA=St.INFO,pA={[St.DEBUG]:"log",[St.VERBOSE]:"log",[St.INFO]:"info",[St.WARN]:"warn",[St.ERROR]:"error"},gA=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),s=pA[e];if(s)console[s](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Og{constructor(e){this.name=e,this._logLevel=mA,this._logHandler=gA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in St))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,St.DEBUG,...e),this._logHandler(this,St.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,St.VERBOSE,...e),this._logHandler(this,St.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,St.INFO,...e),this._logHandler(this,St.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,St.WARN,...e),this._logHandler(this,St.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,St.ERROR,...e),this._logHandler(this,St.ERROR,...e)}}const xA=(r,e)=>e.some(t=>r instanceof t);let Uy,Vy;function vA(){return Uy||(Uy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yA(){return Vy||(Vy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const R2=new WeakMap,Kp=new WeakMap,P2=new WeakMap,yp=new WeakMap,Fg=new WeakMap;function wA(r){const e=new Promise((t,n)=>{const s=()=>{r.removeEventListener("success",a),r.removeEventListener("error",l)},a=()=>{t(no(r.result)),s()},l=()=>{n(r.error),s()};r.addEventListener("success",a),r.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&R2.set(t,r)}).catch(()=>{}),Fg.set(e,r),e}function _A(r){if(Kp.has(r))return;const e=new Promise((t,n)=>{const s=()=>{r.removeEventListener("complete",a),r.removeEventListener("error",l),r.removeEventListener("abort",l)},a=()=>{t(),s()},l=()=>{n(r.error||new DOMException("AbortError","AbortError")),s()};r.addEventListener("complete",a),r.addEventListener("error",l),r.addEventListener("abort",l)});Kp.set(r,e)}let Yp={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Kp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||P2.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return no(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function EA(r){Yp=r(Yp)}function bA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(wp(this),e,...t);return P2.set(n,e.sort?e.sort():[e]),no(n)}:yA().includes(r)?function(...e){return r.apply(wp(this),e),no(R2.get(this))}:function(...e){return no(r.apply(wp(this),e))}}function TA(r){return typeof r=="function"?bA(r):(r instanceof IDBTransaction&&_A(r),xA(r,vA())?new Proxy(r,Yp):r)}function no(r){if(r instanceof IDBRequest)return wA(r);if(yp.has(r))return yp.get(r);const e=TA(r);return e!==r&&(yp.set(r,e),Fg.set(e,r)),e}const wp=r=>Fg.get(r);function SA(r,e,{blocked:t,upgrade:n,blocking:s,terminated:a}={}){const l=indexedDB.open(r,e),u=no(l);return n&&l.addEventListener("upgradeneeded",h=>{n(no(l.result),h.oldVersion,h.newVersion,no(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),u.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const NA=["get","getKey","getAll","getAllKeys","count"],CA=["put","add","delete","clear"],_p=new Map;function By(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(_p.get(e))return _p.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,s=CA.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(s||NA.includes(t)))return;const a=async function(l,...u){const h=this.transaction(l,s?"readwrite":"readonly");let f=h.store;return n&&(f=f.index(u.shift())),(await Promise.all([f[t](...u),s&&h.done]))[0]};return _p.set(e,a),a}EA(r=>({...r,get:(e,t,n)=>By(e,t)||r.get(e,t,n),has:(e,t)=>!!By(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(IA(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function IA(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xp="@firebase/app",zy="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=new Og("@firebase/app"),kA="@firebase/app-compat",RA="@firebase/analytics-compat",PA="@firebase/analytics",jA="@firebase/app-check-compat",DA="@firebase/app-check",OA="@firebase/auth",FA="@firebase/auth-compat",LA="@firebase/database",MA="@firebase/data-connect",UA="@firebase/database-compat",VA="@firebase/functions",BA="@firebase/functions-compat",zA="@firebase/installations",$A="@firebase/installations-compat",WA="@firebase/messaging",HA="@firebase/messaging-compat",GA="@firebase/performance",qA="@firebase/performance-compat",KA="@firebase/remote-config",YA="@firebase/remote-config-compat",XA="@firebase/storage",QA="@firebase/storage-compat",JA="@firebase/firestore",ZA="@firebase/ai",eI="@firebase/firestore-compat",tI="firebase",rI="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp="[DEFAULT]",nI={[Xp]:"fire-core",[kA]:"fire-core-compat",[PA]:"fire-analytics",[RA]:"fire-analytics-compat",[DA]:"fire-app-check",[jA]:"fire-app-check-compat",[OA]:"fire-auth",[FA]:"fire-auth-compat",[LA]:"fire-rtdb",[MA]:"fire-data-connect",[UA]:"fire-rtdb-compat",[VA]:"fire-fn",[BA]:"fire-fn-compat",[zA]:"fire-iid",[$A]:"fire-iid-compat",[WA]:"fire-fcm",[HA]:"fire-fcm-compat",[GA]:"fire-perf",[qA]:"fire-perf-compat",[KA]:"fire-rc",[YA]:"fire-rc-compat",[XA]:"fire-gcs",[QA]:"fire-gcs-compat",[JA]:"fire-fst",[eI]:"fire-fst-compat",[ZA]:"fire-vertex","fire-js":"fire-js",[tI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf=new Map,sI=new Map,Jp=new Map;function $y(r,e){try{r.container.addComponent(e)}catch(t){fa.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function lo(r){const e=r.name;if(Jp.has(e))return fa.debug(`There were multiple attempts to register component ${e}.`),!1;Jp.set(e,r);for(const t of wf.values())$y(t,r);for(const t of sI.values())$y(t,r);return!0}function id(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Wn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},so=new nd("app","Firebase",iI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ha("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw so.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl=rI;function j2(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n={name:Qp,automaticDataCollectionEnabled:!0,...e},s=n.name;if(typeof s!="string"||!s)throw so.create("bad-app-name",{appName:String(s)});if(t||(t=A2()),!t)throw so.create("no-options");const a=wf.get(s);if(a){if(Qo(t,a.options)&&Qo(n,a.config))return a;throw so.create("duplicate-app",{appName:s})}const l=new hA(s);for(const h of Jp.values())l.addComponent(h);const u=new aI(t,n,l);return wf.set(s,u),u}function a0(r=Qp){const e=wf.get(r);if(!e&&r===Qp&&A2())return j2();if(!e)throw so.create("no-app",{appName:r});return e}function Us(r,e,t){let n=nI[r]??r;t&&(n+=`-${t}`);const s=n.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${n}" with version "${e}":`];s&&l.push(`library name "${n}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fa.warn(l.join(" "));return}lo(new ha(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI="firebase-heartbeat-database",lI=1,Vu="firebase-heartbeat-store";let Ep=null;function D2(){return Ep||(Ep=SA(oI,lI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Vu)}catch(t){console.warn(t)}}}}).catch(r=>{throw so.create("idb-open",{originalErrorMessage:r.message})})),Ep}async function cI(r){try{const t=(await D2()).transaction(Vu),n=await t.objectStore(Vu).get(O2(r));return await t.done,n}catch(e){if(e instanceof mi)fa.warn(e.message);else{const t=so.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fa.warn(t.message)}}}async function Wy(r,e){try{const n=(await D2()).transaction(Vu,"readwrite");await n.objectStore(Vu).put(e,O2(r)),await n.done}catch(t){if(t instanceof mi)fa.warn(t.message);else{const n=so.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});fa.warn(n.message)}}}function O2(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=1024,dI=30;class hI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new mI(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Hy();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>dI){const l=pI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){fa.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Hy(),{heartbeatsToSend:n,unsentEntries:s}=fI(this._heartbeatsCache.heartbeats),a=yf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return fa.warn(t),""}}}function Hy(){return new Date().toISOString().substring(0,10)}function fI(r,e=uI){const t=[];let n=r.slice();for(const s of r){const a=t.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),Gy(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Gy(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class mI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eA()?tA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await cI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return Wy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return Wy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function Gy(r){return yf(JSON.stringify({version:2,heartbeats:r})).length}function pI(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let n=1;n<r.length;n++)r[n].date<t&&(t=r[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(r){lo(new ha("platform-logger",e=>new AA(e),"PRIVATE")),lo(new ha("heartbeat",e=>new hI(e),"PRIVATE")),Us(Xp,zy,r),Us(Xp,zy,"esm2020"),Us("fire-js","")}gI("");function F2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xI=F2,L2=new nd("auth","Firebase",F2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f=new Og("@firebase/auth");function vI(r,...e){_f.logLevel<=St.WARN&&_f.warn(`Auth (${cl}): ${r}`,...e)}function of(r,...e){_f.logLevel<=St.ERROR&&_f.error(`Auth (${cl}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(r,...e){throw Mg(r,...e)}function ci(r,...e){return Mg(r,...e)}function Lg(r,e,t){const n={...xI(),[e]:t};return new nd("auth","Firebase",n).create(e,{appName:r.name})}function aa(r){return Lg(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yI(r,e,t){const n=t;if(!(e instanceof n))throw n.name!==e.constructor.name&&Ns(r,"argument-error"),Lg(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Mg(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return L2.create(r,...e)}function st(r,e,...t){if(!r)throw Mg(e,...t)}function sa(r){const e="INTERNAL ASSERTION FAILED: "+r;throw of(e),new Error(e)}function ma(r,e){r||sa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function wI(){return qy()==="http:"||qy()==="https:"}function qy(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wI()||XC()||"connection"in navigator)?navigator.onLine:!0}function EI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,t){this.shortDelay=e,this.longDelay=t,ma(t>e,"Short delay should be less than long delay!"),this.isMobile=qC()||QC()}get(){return _I()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(r,e){ma(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],SI=new ad(3e4,6e4);function Fi(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Li(r,e,t,n,s={}){return U2(r,s,async()=>{let a={},l={};n&&(e==="GET"?l=n:a={body:JSON.stringify(n)});const u=sd({key:r.config.apiKey,...l}).slice(1),h=await r._getAdditionalHeaders();h["Content-Type"]="application/json",r.languageCode&&(h["X-Firebase-Locale"]=r.languageCode);const f={method:e,headers:h,...a};return YC()||(f.referrerPolicy="no-referrer"),r.emulatorConfig&&Oi(r.emulatorConfig.host)&&(f.credentials="include"),M2.fetch()(await V2(r,r.config.apiHost,t,u),f)})}async function U2(r,e,t){r._canInitEmulator=!1;const n={...bI,...e};try{const s=new CI(r),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Lh(r,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[h,f]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lh(r,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Lh(r,"email-already-in-use",l);if(h==="USER_DISABLED")throw Lh(r,"user-disabled",l);const g=n[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Lg(r,g,f);Ns(r,g)}}catch(s){if(s instanceof mi)throw s;Ns(r,"network-request-failed",{message:String(s)})}}async function od(r,e,t,n,s={}){const a=await Li(r,e,t,n,s);return"mfaPendingCredential"in a&&Ns(r,"multi-factor-auth-required",{_serverResponse:a}),a}async function V2(r,e,t,n){const s=`${e}${t}?${n}`,a=r,l=a.config.emulator?Ug(r.config,s):`${r.config.apiScheme}://${s}`;return TI.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function NI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class CI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(ci(this.auth,"network-request-failed")),SI.get())})}}function Lh(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const s=ci(r,e,n);return s.customData._tokenResponse=t,s}function Ky(r){return r!==void 0&&r.enterprise!==void 0}class AI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return NI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function II(r,e){return Li(r,"GET","/v2/recaptchaConfig",Fi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kI(r,e){return Li(r,"POST","/v1/accounts:delete",e)}async function Ef(r,e){return Li(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function RI(r,e=!1){const t=Zt(r),n=await t.getIdToken(e),s=Vg(n);st(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:s,token:n,authTime:Su(bp(s.auth_time)),issuedAtTime:Su(bp(s.iat)),expirationTime:Su(bp(s.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function bp(r){return Number(r)*1e3}function Vg(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return of("JWT malformed, contained fewer than 3 sections"),null;try{const s=N2(t);return s?JSON.parse(s):(of("Failed to decode base64 JWT payload"),null)}catch(s){return of("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Yy(r){const e=Vg(r);return st(e,"internal-error"),st(typeof e.exp<"u","internal-error"),st(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bu(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof mi&&PI(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function PI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Su(this.lastLoginAt),this.creationTime=Su(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bf(r){var x;const e=r.auth,t=await r.getIdToken(),n=await Bu(r,Ef(e,{idToken:t}));st(n==null?void 0:n.users.length,e,"internal-error");const s=n.users[0];r._notifyReloadListener(s);const a=(x=s.providerUserInfo)!=null&&x.length?B2(s.providerUserInfo):[],l=OI(r.providerData,a),u=r.isAnonymous,h=!(r.email&&s.passwordHash)&&!(l!=null&&l.length),f=u?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new eg(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(r,g)}async function DI(r){const e=Zt(r);await bf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function OI(r,e){return[...r.filter(n=>!e.some(s=>s.providerId===n.providerId)),...e]}function B2(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FI(r,e){const t=await U2(r,{},async()=>{const n=sd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=r.config,l=await V2(r,s,"/v1/token",`key=${a}`),u=await r._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:n};return r.emulatorConfig&&Oi(r.emulatorConfig.host)&&(h.credentials="include"),M2.fetch()(l,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function LI(r,e){return Li(r,"POST","/v2/accounts:revokeToken",Fi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){st(e.idToken,"internal-error"),st(typeof e.idToken<"u","internal-error"),st(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Yy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){st(e.length!==0,"internal-error");const t=Yy(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(st(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:s,expiresIn:a}=await FI(e,t);this.updateTokensAndExpiration(n,s,Number(a))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:s,expirationTime:a}=t,l=new cc;return n&&(st(typeof n=="string","internal-error",{appName:e}),l.refreshToken=n),s&&(st(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(st(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cc,this.toJSON())}_performRefresh(){return sa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(r,e){st(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class oi{constructor({uid:e,auth:t,stsTokenManager:n,...s}){this.providerId="firebase",this.proactiveRefresh=new jI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new eg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Bu(this,this.stsTokenManager.getToken(this.auth,e));return st(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return RI(this,e)}reload(){return DI(this)}_assign(e){this!==e&&(st(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new oi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){st(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await bf(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject(aa(this.auth));const e=await this.getIdToken();return await Bu(this,kI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,s=t.email??void 0,a=t.phoneNumber??void 0,l=t.photoURL??void 0,u=t.tenantId??void 0,h=t._redirectEventId??void 0,f=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:x,emailVerified:v,isAnonymous:_,providerData:S,stsTokenManager:w}=t;st(x&&w,e,"internal-error");const T=cc.fromJSON(this.name,w);st(typeof x=="string",e,"internal-error"),Ga(n,e.name),Ga(s,e.name),st(typeof v=="boolean",e,"internal-error"),st(typeof _=="boolean",e,"internal-error"),Ga(a,e.name),Ga(l,e.name),Ga(u,e.name),Ga(h,e.name),Ga(f,e.name),Ga(g,e.name);const j=new oi({uid:x,auth:e,email:s,emailVerified:v,displayName:n,isAnonymous:_,photoURL:l,phoneNumber:a,tenantId:u,stsTokenManager:T,createdAt:f,lastLoginAt:g});return S&&Array.isArray(S)&&(j.providerData=S.map(D=>({...D}))),h&&(j._redirectEventId=h),j}static async _fromIdTokenResponse(e,t,n=!1){const s=new cc;s.updateFromServerResponse(t);const a=new oi({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:n});return await bf(a),a}static async _fromGetAccountInfoResponse(e,t,n){const s=t.users[0];st(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?B2(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),u=new cc;u.updateFromIdToken(n);const h=new oi({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:l}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new eg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy=new Map;function ia(r){ma(r instanceof Function,"Expected a class definition");let e=Xy.get(r);return e?(ma(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Xy.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}z2.type="NONE";const Qy=z2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(r,e,t){return`firebase:${r}:${e}:${t}`}class uc{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:s,name:a}=this.auth;this.fullUserKey=lf(this.userKey,s.apiKey,a),this.fullPersistenceKey=lf("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Ef(this.auth,{idToken:e}).catch(()=>{});return t?oi._fromGetAccountInfoResponse(this.auth,t,e):null}return oi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new uc(ia(Qy),e,n);const s=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=s[0]||ia(Qy);const l=lf(n,e.config.apiKey,e.name);let u=null;for(const f of t)try{const g=await f._get(l);if(g){let x;if(typeof g=="string"){const v=await Ef(e,{idToken:g}).catch(()=>{});if(!v)break;x=await oi._fromGetAccountInfoResponse(e,v,g)}else x=oi._fromJSON(e,g);f!==a&&(u=x),a=f;break}}catch{}const h=s.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new uc(a,e,n):(a=h[0],u&&await a._set(l,u.toJSON()),await Promise.all(t.map(async f=>{if(f!==a)try{await f._remove(l)}catch{}})),new uc(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(G2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(K2(e))return"Blackberry";if(Y2(e))return"Webos";if(W2(e))return"Safari";if((e.includes("chrome/")||H2(e))&&!e.includes("edge/"))return"Chrome";if(q2(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function $2(r=On()){return/firefox\//i.test(r)}function W2(r=On()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function H2(r=On()){return/crios\//i.test(r)}function G2(r=On()){return/iemobile/i.test(r)}function q2(r=On()){return/android/i.test(r)}function K2(r=On()){return/blackberry/i.test(r)}function Y2(r=On()){return/webos/i.test(r)}function Bg(r=On()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function MI(r=On()){var e;return Bg(r)&&!!((e=window.navigator)!=null&&e.standalone)}function UI(){return JC()&&document.documentMode===10}function X2(r=On()){return Bg(r)||q2(r)||Y2(r)||K2(r)||/windows phone/i.test(r)||G2(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(r,e=[]){let t;switch(r){case"Browser":t=Jy(On());break;case"Worker":t=`${Jy(On())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${cl}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=a=>new Promise((l,u)=>{try{const h=e(a);l(h)}catch(h){u(h)}});n.onAbort=t,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BI(r,e={}){return Li(r,"GET","/v2/passwordPolicy",Fi(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=6;class $I{constructor(e){var n;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??zI,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let s=0;s<e.length;s++)n=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,t,n,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zy(this),this.idTokenSubscription=new Zy(this),this.beforeStateQueue=new VI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=L2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ia(t)),this._initializationPromise=this.queue(async()=>{var n,s,a;if(!this._deleted&&(this.persistenceManager=await uc.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ef(this,{idToken:e}),n=await oi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Wn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(a=this.redirectUser)==null?void 0:a._redirectEventId,u=n==null?void 0:n._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&(h!=null&&h.user)&&(n=h.user,s=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(n)}catch(l){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return st(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await bf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=EI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wn(this.app))return Promise.reject(aa(this));const t=e?Zt(e):null;return t&&st(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&st(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject(aa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wn(this.app)?Promise.reject(aa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ia(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await BI(this),t=new $I(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new nd("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await LI(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ia(e)||this._popupRedirectResolver;st(t,this,"argument-error"),this.redirectPersistenceManager=await uc.create(this,[ia(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(st(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,n,s);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return st(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Q2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var t;if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&vI(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Mi(r){return Zt(r)}class Zy{constructor(e){this.auth=e,this.observer=null,this.addObserver=aA(t=>this.observer=t)}get next(){return st(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let o0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function HI(r){o0=r}function J2(r){return o0.loadJS(r)}function GI(){return o0.recaptchaEnterpriseScript}function qI(){return o0.gapiScript}function KI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class YI{constructor(){this.enterprise=new XI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class XI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const QI="recaptcha-enterprise",Z2="NO_RECAPTCHA";class JI{constructor(e){this.type=QI,this.auth=Mi(e)}async verify(e="verify",t=!1){async function n(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{II(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new AI(h);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}}).catch(h=>{u(h)})})}function s(a,l,u){const h=window.grecaptcha;Ky(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(f=>{l(f)}).catch(()=>{l(Z2)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new YI().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{n(this.auth).then(u=>{if(!t&&Ky(window.grecaptcha))s(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=GI();h.length!==0&&(h+=u),J2(h).then(()=>{s(u,a,l)}).catch(f=>{l(f)})}}).catch(u=>{l(u)})})}}async function ew(r,e,t,n=!1,s=!1){const a=new JI(r);let l;if(s)l=Z2;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const u={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return n?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Tf(r,e,t,n,s){var a;if((a=r._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await ew(r,e,t,t==="getOobCode");return n(r,l)}else return n(r,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await ew(r,e,t,t==="getOobCode");return n(r,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(r,e){const t=id(r,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(Qo(a,e??{}))return s;Ns(s,"already-initialized")}return t.initialize({options:e})}function ek(r,e){const t=(e==null?void 0:e.persistence)||[],n=(Array.isArray(t)?t:[t]).map(ia);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function tk(r,e,t){const n=Mi(r);st(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const s=!1,a=eE(e),{host:l,port:u}=rk(e),h=u===null?"":`:${u}`,f={url:`${a}//${l}${h}/`},g=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!n._canInitEmulator){st(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),st(Qo(f,n.config.emulator)&&Qo(g,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=f,n.emulatorConfig=g,n.settings.appVerificationDisabledForTesting=!0,Oi(l)?(s0(`${a}//${l}${h}`),i0("Auth",!0)):nk()}function eE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function rk(r){const e=eE(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const a=s[1];return{host:a,port:tw(n.substr(a.length+1))}}else{const[a,l]=n.split(":");return{host:a,port:tw(l)}}}function tw(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function nk(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return sa("not implemented")}_getIdTokenResponse(e){return sa("not implemented")}_linkToIdToken(e,t){return sa("not implemented")}_getReauthenticationResolver(e){return sa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sk(r,e){return Li(r,"POST","/v1/accounts:resetPassword",Fi(r,e))}async function ik(r,e){return Li(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ak(r,e){return od(r,"POST","/v1/accounts:signInWithPassword",Fi(r,e))}async function ok(r,e){return Li(r,"POST","/v1/accounts:sendOobCode",Fi(r,e))}async function lk(r,e){return ok(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ck(r,e){return od(r,"POST","/v1/accounts:signInWithEmailLink",Fi(r,e))}async function uk(r,e){return od(r,"POST","/v1/accounts:signInWithEmailLink",Fi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu extends zg{constructor(e,t,n,s=null){super("password",n),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new zu(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new zu(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tf(e,t,"signInWithPassword",ak);case"emailLink":return ck(e,{email:this._email,oobCode:this._password});default:Ns(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tf(e,n,"signUpPassword",ik);case"emailLink":return uk(e,{idToken:t,email:this._email,oobCode:this._password});default:Ns(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dc(r,e){return od(r,"POST","/v1/accounts:signInWithIdp",Fi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk="http://localhost";class Jo extends zg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Jo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ns("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:s,...a}=t;if(!n||!s)return null;const l=new Jo(n,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return dc(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,dc(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,dc(e,t)}buildRequest(){const e={requestUri:dk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=sd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function fk(r){const e=vu(yu(r)).link,t=e?vu(yu(e)).deep_link_id:null,n=vu(yu(r)).deep_link_id;return(n?vu(yu(n)).link:null)||n||t||e||r}class $g{constructor(e){const t=vu(yu(e)),n=t.apiKey??null,s=t.oobCode??null,a=hk(t.mode??null);st(n&&s&&a,"argument-error"),this.apiKey=n,this.operation=a,this.code=s,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=fk(e);try{return new $g(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(){this.providerId=Ic.PROVIDER_ID}static credential(e,t){return zu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=$g.parseLink(t);return st(n,"argument-error"),zu._fromEmailAndCode(e,n.code,n.tenantId)}}Ic.PROVIDER_ID="password";Ic.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ic.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld extends Wg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka extends ld{constructor(){super("facebook.com")}static credential(e){return Jo._fromParams({providerId:Ka.PROVIDER_ID,signInMethod:Ka.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ka.credentialFromTaggedObject(e)}static credentialFromError(e){return Ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ka.credential(e.oauthAccessToken)}catch{return null}}}Ka.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ka.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na extends ld{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Jo._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return na.credentialFromTaggedObject(e)}static credentialFromError(e){return na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return na.credential(t,n)}catch{return null}}}na.GOOGLE_SIGN_IN_METHOD="google.com";na.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya extends ld{constructor(){super("github.com")}static credential(e){return Jo._fromParams({providerId:Ya.PROVIDER_ID,signInMethod:Ya.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ya.credentialFromTaggedObject(e)}static credentialFromError(e){return Ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ya.credential(e.oauthAccessToken)}catch{return null}}}Ya.GITHUB_SIGN_IN_METHOD="github.com";Ya.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa extends ld{constructor(){super("twitter.com")}static credential(e,t){return Jo._fromParams({providerId:Xa.PROVIDER_ID,signInMethod:Xa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Xa.credentialFromTaggedObject(e)}static credentialFromError(e){return Xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Xa.credential(t,n)}catch{return null}}}Xa.TWITTER_SIGN_IN_METHOD="twitter.com";Xa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mk(r,e){return od(r,"POST","/v1/accounts:signUp",Fi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,s=!1){const a=await oi._fromIdTokenResponse(e,n,s),l=rw(n);return new Zo({user:a,providerId:l,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const s=rw(n);return new Zo({user:e,providerId:s,_tokenResponse:n,operationType:t})}}function rw(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf extends mi{constructor(e,t,n,s){super(t.code,t.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,Sf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,s){return new Sf(e,t,n,s)}}function tE(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Sf._fromErrorAndOperation(r,a,e,n):a})}async function pk(r,e,t=!1){const n=await Bu(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Zo._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gk(r,e,t=!1){const{auth:n}=r;if(Wn(n.app))return Promise.reject(aa(n));const s="reauthenticate";try{const a=await Bu(r,tE(n,s,e,r),t);st(a.idToken,n,"internal-error");const l=Vg(a.idToken);st(l,n,"internal-error");const{sub:u}=l;return st(r.uid===u,n,"user-mismatch"),Zo._forOperation(r,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Ns(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rE(r,e,t=!1){if(Wn(r.app))return Promise.reject(aa(r));const n="signIn",s=await tE(r,n,e),a=await Zo._fromIdTokenResponse(r,n,s);return t||await r._updateCurrentUser(a.user),a}async function xk(r,e){return rE(Mi(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Gg._fromServerResponse(e,t):"totpInfo"in t?qg._fromServerResponse(e,t):Ns(e,"internal-error")}}class Gg extends Hg{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Gg(t)}}class qg extends Hg{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new qg(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nE(r){const e=Mi(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function sE(r,e,t){const n=Mi(r);await Tf(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",lk)}async function vk(r,e){const t=Zt(r),n=await sk(t,{oobCode:e}),s=n.requestType;switch(st(s,t,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":st(n.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":st(n.mfaInfo,t,"internal-error");default:st(n.email,t,"internal-error")}let a=null;return n.mfaInfo&&(a=Hg._fromServerResponse(Mi(t),n.mfaInfo)),{data:{email:(n.requestType==="VERIFY_AND_CHANGE_EMAIL"?n.newEmail:n.email)||null,previousEmail:(n.requestType==="VERIFY_AND_CHANGE_EMAIL"?n.email:n.newEmail)||null,multiFactorInfo:a},operation:s}}async function yk(r,e){const{data:t}=await vk(Zt(r),e);return t.email}async function iE(r,e,t){if(Wn(r.app))return Promise.reject(aa(r));const n=Mi(r),l=await Tf(n,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mk).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&nE(r),h}),u=await Zo._fromIdTokenResponse(n,"signIn",l);return await n._updateCurrentUser(u.user),u}function wk(r,e,t){return Wn(r.app)?Promise.reject(aa(r)):xk(Zt(r),Ic.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&nE(r),n})}function _k(r,e,t,n){return Zt(r).onIdTokenChanged(e,t,n)}function Ek(r,e,t){return Zt(r).beforeAuthStateChanged(e,t)}function bk(r,e,t,n){return Zt(r).onAuthStateChanged(e,t,n)}function Tk(r){return Zt(r).signOut()}const Nf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Nf,"1"),this.storage.removeItem(Nf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk=1e3,Nk=10;class oE extends aE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=X2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),s=this.localCache[t];n!==s&&e(t,s,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const n=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(n);!t&&this.localCache[n]===l||this.notifyListeners(n,l)},a=this.storage.getItem(n);UI()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Nk):s()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},Sk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}oE.type="LOCAL";const Ck=oE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE extends aE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}lE.type="SESSION";const cE=lE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const n=new l0(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:s,data:a}=t.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const u=Array.from(l).map(async f=>f(t.origin,a)),h=await Ak(u);t.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}l0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((u,h)=>{const f=Kg("",20);s.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},n);l={messageChannel:s,onMessage(x){const v=x;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(v.data.response);break;default:clearTimeout(g),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(){return window}function kk(r){Ii().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function Rk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Pk(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function jk(){return uE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="firebaseLocalStorageDb",Dk=1,Cf="firebaseLocalStorage",hE="fbase_key";class cd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function c0(r,e){return r.transaction([Cf],e?"readwrite":"readonly").objectStore(Cf)}function Ok(){const r=indexedDB.deleteDatabase(dE);return new cd(r).toPromise()}function tg(){const r=indexedDB.open(dE,Dk);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(Cf,{keyPath:hE})}catch(s){t(s)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(Cf)?e(n):(n.close(),await Ok(),e(await tg()))})})}async function nw(r,e,t){const n=c0(r,!0).put({[hE]:e,value:t});return new cd(n).toPromise()}async function Fk(r,e){const t=c0(r,!1).get(e),n=await new cd(t).toPromise();return n===void 0?null:n.value}function sw(r,e){const t=c0(r,!0).delete(e);return new cd(t).toPromise()}const Lk=800,Mk=3;class fE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>Mk)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=l0._getInstance(jk()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await Rk(),!this.activeServiceWorker)return;this.sender=new Ik(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Pk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tg();return await nw(e,Nf,"1"),await sw(e,Nf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>nw(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>Fk(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>sw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=c0(s,!1).getAll();return new cd(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Lk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fE.type="LOCAL";const Uk=fE;new ad(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(r,e){return e?ia(e):(st(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg extends zg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return dc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return dc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return dc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Vk(r){return rE(r.auth,new Yg(r),r.bypassAuthState)}function Bk(r){const{auth:e,user:t}=r;return st(t,e,"internal-error"),gk(t,new Yg(r),r.bypassAuthState)}async function zk(r){const{auth:e,user:t}=r;return st(t,e,"internal-error"),pk(t,new Yg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e,t,n,s,a=!1){this.auth=e,this.resolver=n,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:s,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:n,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Vk;case"linkViaPopup":case"linkViaRedirect":return zk;case"reauthViaPopup":case"reauthViaRedirect":return Bk;default:Ns(this.auth,"internal-error")}}resolve(e){ma(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ma(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k=new ad(2e3,1e4);async function Wk(r,e,t){if(Wn(r.app))return Promise.reject(ci(r,"operation-not-supported-in-this-environment"));const n=Mi(r);yI(r,e,Wg);const s=mE(n,t);return new qo(n,"signInViaPopup",e,s).executeNotNull()}class qo extends pE{constructor(e,t,n,s,a){super(e,t,s,a),this.provider=n,this.authWindow=null,this.pollId=null,qo.currentPopupAction&&qo.currentPopupAction.cancel(),qo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return st(e,this.auth,"internal-error"),e}async onExecution(){ma(this.filter.length===1,"Popup operations only handle one event");const e=Kg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if((n=(t=this.authWindow)==null?void 0:t.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$k.get())};e()}}qo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk="pendingRedirect",cf=new Map;class Gk extends pE{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=cf.get(this.auth._key());if(!e){try{const n=await qk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}cf.set(this.auth._key(),e)}return this.bypassAuthState||cf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qk(r,e){const t=Xk(e),n=Yk(r);if(!await n._isAvailable())return!1;const s=await n._get(t)==="true";return await n._remove(t),s}function Kk(r,e){cf.set(r._key(),e)}function Yk(r){return ia(r._redirectPersistence)}function Xk(r){return lf(Hk,r.config.apiKey,r.name)}async function Qk(r,e,t=!1){if(Wn(r.app))return Promise.reject(aa(r));const n=Mi(r),s=mE(n,e),l=await new Gk(n,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,await n._persistUserIfCurrent(l.user),await n._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk=600*1e3;class Zk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eR(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!gE(e)){const s=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";t.onError(ci(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Jk&&this.cachedEventUids.clear(),this.cachedEventUids.has(iw(e))}saveEventToCache(e){this.cachedEventUids.add(iw(e)),this.lastProcessedEventTime=Date.now()}}function iw(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function gE({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function eR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gE(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tR(r,e={}){return Li(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nR=/^https?/;async function sR(r){if(r.config.emulator)return;const{authorizedDomains:e}=await tR(r);for(const t of e)try{if(iR(t))return}catch{}Ns(r,"unauthorized-domain")}function iR(r){const e=Zp(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const l=new URL(r);return l.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===n}if(!nR.test(t))return!1;if(rR.test(r))return n===r;const s=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=new ad(3e4,6e4);function aw(){const r=Ii().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function oR(r){return new Promise((e,t)=>{var s,a,l;function n(){aw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{aw(),t(ci(r,"network-request-failed"))},timeout:aR.get()})}if((a=(s=Ii().gapi)==null?void 0:s.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((l=Ii().gapi)!=null&&l.load)n();else{const u=KI("iframefcb");return Ii()[u]=()=>{gapi.load?n():t(ci(r,"network-request-failed"))},J2(`${qI()}?onload=${u}`).catch(h=>t(h))}}).catch(e=>{throw uf=null,e})}let uf=null;function lR(r){return uf=uf||oR(r),uf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=new ad(5e3,15e3),uR="__/auth/iframe",dR="emulator/auth/iframe",hR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mR(r){const e=r.config;st(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Ug(e,dR):`https://${r.config.authDomain}/${uR}`,n={apiKey:e.apiKey,appName:r.name,v:cl},s=fR.get(r.config.apiHost);s&&(n.eid=s);const a=r._getFrameworks();return a.length&&(n.fw=a.join(",")),`${t}?${sd(n).slice(1)}`}async function pR(r){const e=await lR(r),t=Ii().gapi;return st(t,r,"internal-error"),e.open({where:document.body,url:mR(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hR,dontclear:!0},n=>new Promise(async(s,a)=>{await n.restyle({setHideOnLeave:!1});const l=ci(r,"network-request-failed"),u=Ii().setTimeout(()=>{a(l)},cR.get());function h(){Ii().clearTimeout(u),s(n)}n.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xR=500,vR=600,yR="_blank",wR="http://localhost";class ow{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _R(r,e,t,n=xR,s=vR){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-n)/2,0).toString();let u="";const h={...gR,width:n.toString(),height:s.toString(),top:a,left:l},f=On().toLowerCase();t&&(u=H2(f)?yR:t),$2(f)&&(e=e||wR,h.scrollbars="yes");const g=Object.entries(h).reduce((v,[_,S])=>`${v}${_}=${S},`,"");if(MI(f)&&u!=="_self")return ER(e||"",u),new ow(null);const x=window.open(e||"",u,g);st(x,r,"popup-blocked");try{x.focus()}catch{}return new ow(x)}function ER(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR="__/auth/handler",TR="emulator/auth/handler",SR=encodeURIComponent("fac");async function lw(r,e,t,n,s,a){st(r.config.authDomain,r,"auth-domain-config-required"),st(r.config.apiKey,r,"invalid-api-key");const l={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:cl,eventId:s};if(e instanceof Wg){e.setDefaultLanguage(r.languageCode),l.providerId=e.providerId||"",iA(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,x]of Object.entries({}))l[g]=x}if(e instanceof ld){const g=e.getScopes().filter(x=>x!=="");g.length>0&&(l.scopes=g.join(","))}r.tenantId&&(l.tid=r.tenantId);const u=l;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const h=await r._getAppCheckToken(),f=h?`#${SR}=${encodeURIComponent(h)}`:"";return`${NR(r)}?${sd(u).slice(1)}${f}`}function NR({config:r}){return r.emulator?Ug(r,TR):`https://${r.authDomain}/${bR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="webStorageSupport";class CR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cE,this._completeRedirectFn=Qk,this._overrideRedirectResult=Kk}async _openPopup(e,t,n,s){var l;ma((l=this.eventManagers[e._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const a=await lw(e,t,n,Zp(),s);return _R(e,a,Kg())}async _openRedirect(e,t,n,s){await this._originValidation(e);const a=await lw(e,t,n,Zp(),s);return kk(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(ma(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await pR(e),n=new Zk(e);return t.register("authEvent",s=>(st(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Tp,{type:Tp},s=>{var l;const a=(l=s==null?void 0:s[0])==null?void 0:l[Tp];a!==void 0&&t(!!a),Ns(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=sR(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return X2()||W2()||Bg()}}const AR=CR;var cw="@firebase/auth",uw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){st(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RR(r){lo(new ha("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=n.options;st(l&&!l.includes(":"),"invalid-api-key",{appName:n.name});const h={apiKey:l,authDomain:u,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Q2(r)},f=new WI(n,s,a,h);return ek(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),lo(new ha("auth-internal",e=>{const t=Mi(e.getProvider("auth").getImmediate());return(n=>new IR(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Us(cw,uw,kR(r)),Us(cw,uw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=300,jR=I2("authIdTokenMaxAge")||PR;let dw=null;const DR=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>jR)return;const s=t==null?void 0:t.token;dw!==s&&(dw=s,await fetch(r,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function OR(r=a0()){const e=id(r,"auth");if(e.isInitialized())return e.getImmediate();const t=ZI(r,{popupRedirectResolver:AR,persistence:[Uk,Ck,cE]}),n=I2("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const l=DR(a.toString());Ek(t,l,()=>l(t.currentUser)),_k(t,u=>l(u))}}const s=C2("auth");return s&&tk(t,`http://${s}`),t}function FR(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}HI({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=s=>{const a=ci("internal-error");a.customData=s,t(a)},n.type="text/javascript",n.charset="UTF-8",FR().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RR("Browser");var hw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var io,xE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,I){function A(){}A.prototype=I.prototype,N.D=I.prototype,N.prototype=new A,N.prototype.constructor=N,N.C=function(P,F,V){for(var O=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)O[$e-2]=arguments[$e];return I.prototype[F].apply(P,O)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(N,I,A){A||(A=0);var P=Array(16);if(typeof I=="string")for(var F=0;16>F;++F)P[F]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(F=0;16>F;++F)P[F]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=N.g[0],A=N.g[1],F=N.g[2];var V=N.g[3],O=I+(V^A&(F^V))+P[0]+3614090360&4294967295;I=A+(O<<7&4294967295|O>>>25),O=V+(F^I&(A^F))+P[1]+3905402710&4294967295,V=I+(O<<12&4294967295|O>>>20),O=F+(A^V&(I^A))+P[2]+606105819&4294967295,F=V+(O<<17&4294967295|O>>>15),O=A+(I^F&(V^I))+P[3]+3250441966&4294967295,A=F+(O<<22&4294967295|O>>>10),O=I+(V^A&(F^V))+P[4]+4118548399&4294967295,I=A+(O<<7&4294967295|O>>>25),O=V+(F^I&(A^F))+P[5]+1200080426&4294967295,V=I+(O<<12&4294967295|O>>>20),O=F+(A^V&(I^A))+P[6]+2821735955&4294967295,F=V+(O<<17&4294967295|O>>>15),O=A+(I^F&(V^I))+P[7]+4249261313&4294967295,A=F+(O<<22&4294967295|O>>>10),O=I+(V^A&(F^V))+P[8]+1770035416&4294967295,I=A+(O<<7&4294967295|O>>>25),O=V+(F^I&(A^F))+P[9]+2336552879&4294967295,V=I+(O<<12&4294967295|O>>>20),O=F+(A^V&(I^A))+P[10]+4294925233&4294967295,F=V+(O<<17&4294967295|O>>>15),O=A+(I^F&(V^I))+P[11]+2304563134&4294967295,A=F+(O<<22&4294967295|O>>>10),O=I+(V^A&(F^V))+P[12]+1804603682&4294967295,I=A+(O<<7&4294967295|O>>>25),O=V+(F^I&(A^F))+P[13]+4254626195&4294967295,V=I+(O<<12&4294967295|O>>>20),O=F+(A^V&(I^A))+P[14]+2792965006&4294967295,F=V+(O<<17&4294967295|O>>>15),O=A+(I^F&(V^I))+P[15]+1236535329&4294967295,A=F+(O<<22&4294967295|O>>>10),O=I+(F^V&(A^F))+P[1]+4129170786&4294967295,I=A+(O<<5&4294967295|O>>>27),O=V+(A^F&(I^A))+P[6]+3225465664&4294967295,V=I+(O<<9&4294967295|O>>>23),O=F+(I^A&(V^I))+P[11]+643717713&4294967295,F=V+(O<<14&4294967295|O>>>18),O=A+(V^I&(F^V))+P[0]+3921069994&4294967295,A=F+(O<<20&4294967295|O>>>12),O=I+(F^V&(A^F))+P[5]+3593408605&4294967295,I=A+(O<<5&4294967295|O>>>27),O=V+(A^F&(I^A))+P[10]+38016083&4294967295,V=I+(O<<9&4294967295|O>>>23),O=F+(I^A&(V^I))+P[15]+3634488961&4294967295,F=V+(O<<14&4294967295|O>>>18),O=A+(V^I&(F^V))+P[4]+3889429448&4294967295,A=F+(O<<20&4294967295|O>>>12),O=I+(F^V&(A^F))+P[9]+568446438&4294967295,I=A+(O<<5&4294967295|O>>>27),O=V+(A^F&(I^A))+P[14]+3275163606&4294967295,V=I+(O<<9&4294967295|O>>>23),O=F+(I^A&(V^I))+P[3]+4107603335&4294967295,F=V+(O<<14&4294967295|O>>>18),O=A+(V^I&(F^V))+P[8]+1163531501&4294967295,A=F+(O<<20&4294967295|O>>>12),O=I+(F^V&(A^F))+P[13]+2850285829&4294967295,I=A+(O<<5&4294967295|O>>>27),O=V+(A^F&(I^A))+P[2]+4243563512&4294967295,V=I+(O<<9&4294967295|O>>>23),O=F+(I^A&(V^I))+P[7]+1735328473&4294967295,F=V+(O<<14&4294967295|O>>>18),O=A+(V^I&(F^V))+P[12]+2368359562&4294967295,A=F+(O<<20&4294967295|O>>>12),O=I+(A^F^V)+P[5]+4294588738&4294967295,I=A+(O<<4&4294967295|O>>>28),O=V+(I^A^F)+P[8]+2272392833&4294967295,V=I+(O<<11&4294967295|O>>>21),O=F+(V^I^A)+P[11]+1839030562&4294967295,F=V+(O<<16&4294967295|O>>>16),O=A+(F^V^I)+P[14]+4259657740&4294967295,A=F+(O<<23&4294967295|O>>>9),O=I+(A^F^V)+P[1]+2763975236&4294967295,I=A+(O<<4&4294967295|O>>>28),O=V+(I^A^F)+P[4]+1272893353&4294967295,V=I+(O<<11&4294967295|O>>>21),O=F+(V^I^A)+P[7]+4139469664&4294967295,F=V+(O<<16&4294967295|O>>>16),O=A+(F^V^I)+P[10]+3200236656&4294967295,A=F+(O<<23&4294967295|O>>>9),O=I+(A^F^V)+P[13]+681279174&4294967295,I=A+(O<<4&4294967295|O>>>28),O=V+(I^A^F)+P[0]+3936430074&4294967295,V=I+(O<<11&4294967295|O>>>21),O=F+(V^I^A)+P[3]+3572445317&4294967295,F=V+(O<<16&4294967295|O>>>16),O=A+(F^V^I)+P[6]+76029189&4294967295,A=F+(O<<23&4294967295|O>>>9),O=I+(A^F^V)+P[9]+3654602809&4294967295,I=A+(O<<4&4294967295|O>>>28),O=V+(I^A^F)+P[12]+3873151461&4294967295,V=I+(O<<11&4294967295|O>>>21),O=F+(V^I^A)+P[15]+530742520&4294967295,F=V+(O<<16&4294967295|O>>>16),O=A+(F^V^I)+P[2]+3299628645&4294967295,A=F+(O<<23&4294967295|O>>>9),O=I+(F^(A|~V))+P[0]+4096336452&4294967295,I=A+(O<<6&4294967295|O>>>26),O=V+(A^(I|~F))+P[7]+1126891415&4294967295,V=I+(O<<10&4294967295|O>>>22),O=F+(I^(V|~A))+P[14]+2878612391&4294967295,F=V+(O<<15&4294967295|O>>>17),O=A+(V^(F|~I))+P[5]+4237533241&4294967295,A=F+(O<<21&4294967295|O>>>11),O=I+(F^(A|~V))+P[12]+1700485571&4294967295,I=A+(O<<6&4294967295|O>>>26),O=V+(A^(I|~F))+P[3]+2399980690&4294967295,V=I+(O<<10&4294967295|O>>>22),O=F+(I^(V|~A))+P[10]+4293915773&4294967295,F=V+(O<<15&4294967295|O>>>17),O=A+(V^(F|~I))+P[1]+2240044497&4294967295,A=F+(O<<21&4294967295|O>>>11),O=I+(F^(A|~V))+P[8]+1873313359&4294967295,I=A+(O<<6&4294967295|O>>>26),O=V+(A^(I|~F))+P[15]+4264355552&4294967295,V=I+(O<<10&4294967295|O>>>22),O=F+(I^(V|~A))+P[6]+2734768916&4294967295,F=V+(O<<15&4294967295|O>>>17),O=A+(V^(F|~I))+P[13]+1309151649&4294967295,A=F+(O<<21&4294967295|O>>>11),O=I+(F^(A|~V))+P[4]+4149444226&4294967295,I=A+(O<<6&4294967295|O>>>26),O=V+(A^(I|~F))+P[11]+3174756917&4294967295,V=I+(O<<10&4294967295|O>>>22),O=F+(I^(V|~A))+P[2]+718787259&4294967295,F=V+(O<<15&4294967295|O>>>17),O=A+(V^(F|~I))+P[9]+3951481745&4294967295,N.g[0]=N.g[0]+I&4294967295,N.g[1]=N.g[1]+(F+(O<<21&4294967295|O>>>11))&4294967295,N.g[2]=N.g[2]+F&4294967295,N.g[3]=N.g[3]+V&4294967295}n.prototype.u=function(N,I){I===void 0&&(I=N.length);for(var A=I-this.blockSize,P=this.B,F=this.h,V=0;V<I;){if(F==0)for(;V<=A;)s(this,N,V),V+=this.blockSize;if(typeof N=="string"){for(;V<I;)if(P[F++]=N.charCodeAt(V++),F==this.blockSize){s(this,P),F=0;break}}else for(;V<I;)if(P[F++]=N[V++],F==this.blockSize){s(this,P),F=0;break}}this.h=F,this.o+=I},n.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var I=1;I<N.length-8;++I)N[I]=0;var A=8*this.o;for(I=N.length-8;I<N.length;++I)N[I]=A&255,A/=256;for(this.u(N),N=Array(16),I=A=0;4>I;++I)for(var P=0;32>P;P+=8)N[A++]=this.g[I]>>>P&255;return N};function a(N,I){var A=u;return Object.prototype.hasOwnProperty.call(A,N)?A[N]:A[N]=I(N)}function l(N,I){this.h=I;for(var A=[],P=!0,F=N.length-1;0<=F;F--){var V=N[F]|0;P&&V==I||(A[F]=V,P=!1)}this.g=A}var u={};function h(N){return-128<=N&&128>N?a(N,function(I){return new l([I|0],0>I?-1:0)}):new l([N|0],0>N?-1:0)}function f(N){if(isNaN(N)||!isFinite(N))return x;if(0>N)return T(f(-N));for(var I=[],A=1,P=0;N>=A;P++)I[P]=N/A|0,A*=4294967296;return new l(I,0)}function g(N,I){if(N.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(N.charAt(0)=="-")return T(g(N.substring(1),I));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=f(Math.pow(I,8)),P=x,F=0;F<N.length;F+=8){var V=Math.min(8,N.length-F),O=parseInt(N.substring(F,F+V),I);8>V?(V=f(Math.pow(I,V)),P=P.j(V).add(f(O))):(P=P.j(A),P=P.add(f(O)))}return P}var x=h(0),v=h(1),_=h(16777216);r=l.prototype,r.m=function(){if(w(this))return-T(this).m();for(var N=0,I=1,A=0;A<this.g.length;A++){var P=this.i(A);N+=(0<=P?P:4294967296+P)*I,I*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(S(this))return"0";if(w(this))return"-"+T(this).toString(N);for(var I=f(Math.pow(N,6)),A=this,P="";;){var F=M(A,I).g;A=j(A,F.j(I));var V=((0<A.g.length?A.g[0]:A.h)>>>0).toString(N);if(A=F,S(A))return V+P;for(;6>V.length;)V="0"+V;P=V+P}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function S(N){if(N.h!=0)return!1;for(var I=0;I<N.g.length;I++)if(N.g[I]!=0)return!1;return!0}function w(N){return N.h==-1}r.l=function(N){return N=j(this,N),w(N)?-1:S(N)?0:1};function T(N){for(var I=N.g.length,A=[],P=0;P<I;P++)A[P]=~N.g[P];return new l(A,~N.h).add(v)}r.abs=function(){return w(this)?T(this):this},r.add=function(N){for(var I=Math.max(this.g.length,N.g.length),A=[],P=0,F=0;F<=I;F++){var V=P+(this.i(F)&65535)+(N.i(F)&65535),O=(V>>>16)+(this.i(F)>>>16)+(N.i(F)>>>16);P=O>>>16,V&=65535,O&=65535,A[F]=O<<16|V}return new l(A,A[A.length-1]&-2147483648?-1:0)};function j(N,I){return N.add(T(I))}r.j=function(N){if(S(this)||S(N))return x;if(w(this))return w(N)?T(this).j(T(N)):T(T(this).j(N));if(w(N))return T(this.j(T(N)));if(0>this.l(_)&&0>N.l(_))return f(this.m()*N.m());for(var I=this.g.length+N.g.length,A=[],P=0;P<2*I;P++)A[P]=0;for(P=0;P<this.g.length;P++)for(var F=0;F<N.g.length;F++){var V=this.i(P)>>>16,O=this.i(P)&65535,$e=N.i(F)>>>16,je=N.i(F)&65535;A[2*P+2*F]+=O*je,D(A,2*P+2*F),A[2*P+2*F+1]+=V*je,D(A,2*P+2*F+1),A[2*P+2*F+1]+=O*$e,D(A,2*P+2*F+1),A[2*P+2*F+2]+=V*$e,D(A,2*P+2*F+2)}for(P=0;P<I;P++)A[P]=A[2*P+1]<<16|A[2*P];for(P=I;P<2*I;P++)A[P]=0;return new l(A,0)};function D(N,I){for(;(N[I]&65535)!=N[I];)N[I+1]+=N[I]>>>16,N[I]&=65535,I++}function L(N,I){this.g=N,this.h=I}function M(N,I){if(S(I))throw Error("division by zero");if(S(N))return new L(x,x);if(w(N))return I=M(T(N),I),new L(T(I.g),T(I.h));if(w(I))return I=M(N,T(I)),new L(T(I.g),I.h);if(30<N.g.length){if(w(N)||w(I))throw Error("slowDivide_ only works with positive integers.");for(var A=v,P=I;0>=P.l(N);)A=Z(A),P=Z(P);var F=Q(A,1),V=Q(P,1);for(P=Q(P,2),A=Q(A,2);!S(P);){var O=V.add(P);0>=O.l(N)&&(F=F.add(A),V=O),P=Q(P,1),A=Q(A,1)}return I=j(N,F.j(I)),new L(F,I)}for(F=x;0<=N.l(I);){for(A=Math.max(1,Math.floor(N.m()/I.m())),P=Math.ceil(Math.log(A)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),V=f(A),O=V.j(I);w(O)||0<O.l(N);)A-=P,V=f(A),O=V.j(I);S(V)&&(V=v),F=F.add(V),N=j(N,O)}return new L(F,N)}r.A=function(N){return M(this,N).h},r.and=function(N){for(var I=Math.max(this.g.length,N.g.length),A=[],P=0;P<I;P++)A[P]=this.i(P)&N.i(P);return new l(A,this.h&N.h)},r.or=function(N){for(var I=Math.max(this.g.length,N.g.length),A=[],P=0;P<I;P++)A[P]=this.i(P)|N.i(P);return new l(A,this.h|N.h)},r.xor=function(N){for(var I=Math.max(this.g.length,N.g.length),A=[],P=0;P<I;P++)A[P]=this.i(P)^N.i(P);return new l(A,this.h^N.h)};function Z(N){for(var I=N.g.length+1,A=[],P=0;P<I;P++)A[P]=N.i(P)<<1|N.i(P-1)>>>31;return new l(A,N.h)}function Q(N,I){var A=I>>5;I%=32;for(var P=N.g.length-A,F=[],V=0;V<P;V++)F[V]=0<I?N.i(V+A)>>>I|N.i(V+A+1)<<32-I:N.i(V+A);return new l(F,N.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,xE=n,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=g,io=l}).apply(typeof hw<"u"?hw:typeof self<"u"?self:typeof window<"u"?window:{});var Mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vE,wu,yE,df,rg,wE,_E,EE;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,E,C){return m==Array.prototype||m==Object.prototype||(m[E]=C.value),m};function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mh=="object"&&Mh];for(var E=0;E<m.length;++E){var C=m[E];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var n=t(this);function s(m,E){if(E)e:{var C=n;m=m.split(".");for(var B=0;B<m.length-1;B++){var ie=m[B];if(!(ie in C))break e;C=C[ie]}m=m[m.length-1],B=C[m],E=E(B),E!=B&&E!=null&&e(C,m,{configurable:!0,writable:!0,value:E})}}function a(m,E){m instanceof String&&(m+="");var C=0,B=!1,ie={next:function(){if(!B&&C<m.length){var ge=C++;return{value:E(ge,m[ge]),done:!1}}return B=!0,{done:!0,value:void 0}}};return ie[Symbol.iterator]=function(){return ie},ie}s("Array.prototype.values",function(m){return m||function(){return a(this,function(E,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(m){var E=typeof m;return E=E!="object"?E:m?Array.isArray(m)?"array":E:"null",E=="array"||E=="object"&&typeof m.length=="number"}function f(m){var E=typeof m;return E=="object"&&m!=null||E=="function"}function g(m,E,C){return m.call.apply(m.bind,arguments)}function x(m,E,C){if(!m)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var ie=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ie,B),m.apply(E,ie)}}return function(){return m.apply(E,arguments)}}function v(m,E,C){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:x,v.apply(null,arguments)}function _(m,E){var C=Array.prototype.slice.call(arguments,1);return function(){var B=C.slice();return B.push.apply(B,arguments),m.apply(this,B)}}function S(m,E){function C(){}C.prototype=E.prototype,m.aa=E.prototype,m.prototype=new C,m.prototype.constructor=m,m.Qb=function(B,ie,ge){for(var ze=Array(arguments.length-2),qt=2;qt<arguments.length;qt++)ze[qt-2]=arguments[qt];return E.prototype[ie].apply(B,ze)}}function w(m){const E=m.length;if(0<E){const C=Array(E);for(let B=0;B<E;B++)C[B]=m[B];return C}return[]}function T(m,E){for(let C=1;C<arguments.length;C++){const B=arguments[C];if(h(B)){const ie=m.length||0,ge=B.length||0;m.length=ie+ge;for(let ze=0;ze<ge;ze++)m[ie+ze]=B[ze]}else m.push(B)}}class j{constructor(E,C){this.i=E,this.j=C,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function D(m){return/^[\s\xa0]*$/.test(m)}function L(){var m=u.navigator;return m&&(m=m.userAgent)?m:""}function M(m){return M[" "](m),m}M[" "]=function(){};var Z=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function Q(m,E,C){for(const B in m)E.call(C,m[B],B,m)}function N(m,E){for(const C in m)E.call(void 0,m[C],C,m)}function I(m){const E={};for(const C in m)E[C]=m[C];return E}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(m,E){let C,B;for(let ie=1;ie<arguments.length;ie++){B=arguments[ie];for(C in B)m[C]=B[C];for(let ge=0;ge<A.length;ge++)C=A[ge],Object.prototype.hasOwnProperty.call(B,C)&&(m[C]=B[C])}}function F(m){var E=1;m=m.split(":");const C=[];for(;0<E&&m.length;)C.push(m.shift()),E--;return m.length&&C.push(m.join(":")),C}function V(m){u.setTimeout(()=>{throw m},0)}function O(){var m=pe;let E=null;return m.g&&(E=m.g,m.g=m.g.next,m.g||(m.h=null),E.next=null),E}class $e{constructor(){this.h=this.g=null}add(E,C){const B=je.get();B.set(E,C),this.h?this.h.next=B:this.g=B,this.h=B}}var je=new j(()=>new Te,m=>m.reset());class Te{constructor(){this.next=this.g=this.h=null}set(E,C){this.h=E,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let Ge,Se=!1,pe=new $e,Y=()=>{const m=u.Promise.resolve(void 0);Ge=()=>{m.then(se)}};var se=()=>{for(var m;m=O();){try{m.h.call(m.g)}catch(C){V(C)}var E=je;E.j(m),100>E.h&&(E.h++,m.next=E.g,E.g=m)}Se=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ee(m,E){this.type=m,this.g=this.target=E,this.defaultPrevented=!1}ee.prototype.h=function(){this.defaultPrevented=!0};var J=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,E=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const C=()=>{};u.addEventListener("test",C,E),u.removeEventListener("test",C,E)}catch{}return m})();function te(m,E){if(ee.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var C=this.type=m.type,B=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=E,E=m.relatedTarget){if(Z){e:{try{M(E.nodeName);var ie=!0;break e}catch{}ie=!1}ie||(E=null)}}else C=="mouseover"?E=m.fromElement:C=="mouseout"&&(E=m.toElement);this.relatedTarget=E,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:ce[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&te.aa.h.call(this)}}S(te,ee);var ce={2:"touch",3:"pen",4:"mouse"};te.prototype.h=function(){te.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),Pe=0;function Me(m,E,C,B,ie){this.listener=m,this.proxy=null,this.src=E,this.type=C,this.capture=!!B,this.ha=ie,this.key=++Pe,this.da=this.fa=!1}function Fe(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function mt(m){this.src=m,this.g={},this.h=0}mt.prototype.add=function(m,E,C,B,ie){var ge=m.toString();m=this.g[ge],m||(m=this.g[ge]=[],this.h++);var ze=zt(m,E,B,ie);return-1<ze?(E=m[ze],C||(E.fa=!1)):(E=new Me(E,this.src,ge,!!B,ie),E.fa=C,m.push(E)),E};function ot(m,E){var C=E.type;if(C in m.g){var B=m.g[C],ie=Array.prototype.indexOf.call(B,E,void 0),ge;(ge=0<=ie)&&Array.prototype.splice.call(B,ie,1),ge&&(Fe(E),m.g[C].length==0&&(delete m.g[C],m.h--))}}function zt(m,E,C,B){for(var ie=0;ie<m.length;++ie){var ge=m[ie];if(!ge.da&&ge.listener==E&&ge.capture==!!C&&ge.ha==B)return ie}return-1}var ct="closure_lm_"+(1e6*Math.random()|0),xr={};function Tt(m,E,C,B,ie){if(Array.isArray(E)){for(var ge=0;ge<E.length;ge++)Tt(m,E[ge],C,B,ie);return null}return C=cn(C),m&&m[be]?m.K(E,C,f(B)?!!B.capture:!1,ie):he(m,E,C,!1,B,ie)}function he(m,E,C,B,ie,ge){if(!E)throw Error("Invalid event type");var ze=f(ie)?!!ie.capture:!!ie,qt=sr(m);if(qt||(m[ct]=qt=new mt(m)),C=qt.add(E,C,B,ze,ge),C.proxy)return C;if(B=Ne(),C.proxy=B,B.src=m,B.listener=C,m.addEventListener)J||(ie=ze),ie===void 0&&(ie=!1),m.addEventListener(E.toString(),B,ie);else if(m.attachEvent)m.attachEvent(pt(E.toString()),B);else if(m.addListener&&m.removeListener)m.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return C}function Ne(){function m(C){return E.call(m.src,m.listener,C)}const E=yt;return m}function Be(m,E,C,B,ie){if(Array.isArray(E))for(var ge=0;ge<E.length;ge++)Be(m,E[ge],C,B,ie);else B=f(B)?!!B.capture:!!B,C=cn(C),m&&m[be]?(m=m.i,E=String(E).toString(),E in m.g&&(ge=m.g[E],C=zt(ge,C,B,ie),-1<C&&(Fe(ge[C]),Array.prototype.splice.call(ge,C,1),ge.length==0&&(delete m.g[E],m.h--)))):m&&(m=sr(m))&&(E=m.g[E.toString()],m=-1,E&&(m=zt(E,C,B,ie)),(C=-1<m?E[m]:null)&&nt(C))}function nt(m){if(typeof m!="number"&&m&&!m.da){var E=m.src;if(E&&E[be])ot(E.i,m);else{var C=m.type,B=m.proxy;E.removeEventListener?E.removeEventListener(C,B,m.capture):E.detachEvent?E.detachEvent(pt(C),B):E.addListener&&E.removeListener&&E.removeListener(B),(C=sr(E))?(ot(C,m),C.h==0&&(C.src=null,E[ct]=null)):Fe(m)}}}function pt(m){return m in xr?xr[m]:xr[m]="on"+m}function yt(m,E){if(m.da)m=!0;else{E=new te(E,this);var C=m.listener,B=m.ha||m.src;m.fa&&nt(m),m=C.call(B,E)}return m}function sr(m){return m=m[ct],m instanceof mt?m:null}var Ht="__closure_events_fn_"+(1e9*Math.random()>>>0);function cn(m){return typeof m=="function"?m:(m[Ht]||(m[Ht]=function(E){return m.handleEvent(E)}),m[Ht])}function Ft(){W.call(this),this.i=new mt(this),this.M=this,this.F=null}S(Ft,W),Ft.prototype[be]=!0,Ft.prototype.removeEventListener=function(m,E,C,B){Be(this,m,E,C,B)};function $t(m,E){var C,B=m.F;if(B)for(C=[];B;B=B.F)C.push(B);if(m=m.M,B=E.type||E,typeof E=="string")E=new ee(E,m);else if(E instanceof ee)E.target=E.target||m;else{var ie=E;E=new ee(B,m),P(E,ie)}if(ie=!0,C)for(var ge=C.length-1;0<=ge;ge--){var ze=E.g=C[ge];ie=er(ze,B,!0,E)&&ie}if(ze=E.g=m,ie=er(ze,B,!0,E)&&ie,ie=er(ze,B,!1,E)&&ie,C)for(ge=0;ge<C.length;ge++)ze=E.g=C[ge],ie=er(ze,B,!1,E)&&ie}Ft.prototype.N=function(){if(Ft.aa.N.call(this),this.i){var m=this.i,E;for(E in m.g){for(var C=m.g[E],B=0;B<C.length;B++)Fe(C[B]);delete m.g[E],m.h--}}this.F=null},Ft.prototype.K=function(m,E,C,B){return this.i.add(String(m),E,!1,C,B)},Ft.prototype.L=function(m,E,C,B){return this.i.add(String(m),E,!0,C,B)};function er(m,E,C,B){if(E=m.i.g[String(E)],!E)return!0;E=E.concat();for(var ie=!0,ge=0;ge<E.length;++ge){var ze=E[ge];if(ze&&!ze.da&&ze.capture==C){var qt=ze.listener,Wr=ze.ha||ze.src;ze.fa&&ot(m.i,ze),ie=qt.call(Wr,B)!==!1&&ie}}return ie&&!B.defaultPrevented}function As(m,E,C){if(typeof m=="function")C&&(m=v(m,C));else if(m&&typeof m.handleEvent=="function")m=v(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:u.setTimeout(m,E||0)}function En(m){m.g=As(()=>{m.g=null,m.i&&(m.i=!1,En(m))},m.l);const E=m.h;m.h=null,m.m.apply(null,E)}class qe extends W{constructor(E,C){super(),this.m=E,this.l=C,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:En(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function At(m){W.call(this),this.h=m,this.g={}}S(At,W);var Pt=[];function Or(m){Q(m.g,function(E,C){this.g.hasOwnProperty(C)&&nt(E)},m),m.g={}}At.prototype.N=function(){At.aa.N.call(this),Or(this)},At.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cs=u.JSON.stringify,bn=u.JSON.parse,cr=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function ve(){}ve.prototype.h=null;function et(m){return m.h||(m.h=m.i())}function _t(){}var vt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function It(){ee.call(this,"d")}S(It,ee);function kt(){ee.call(this,"c")}S(kt,ee);var ir={},ur=null;function Gn(){return ur=ur||new Ft}ir.La="serverreachability";function bo(m){ee.call(this,ir.La,m)}S(bo,ee);function $s(m){const E=Gn();$t(E,new bo(E))}ir.STAT_EVENT="statevent";function To(m,E){ee.call(this,ir.STAT_EVENT,m),this.stat=E}S(To,ee);function vr(m){const E=Gn();$t(E,new To(E,m))}ir.Ma="timingevent";function _a(m,E){ee.call(this,ir.Ma,m),this.size=E}S(_a,ee);function Fn(m,E){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},E)}function Vi(){this.g=!0}Vi.prototype.xa=function(){this.g=!1};function Bi(m,E,C,B,ie,ge){m.info(function(){if(m.g)if(ge)for(var ze="",qt=ge.split("&"),Wr=0;Wr<qt.length;Wr++){var jt=qt[Wr].split("=");if(1<jt.length){var Xr=jt[0];jt=jt[1];var Fr=Xr.split("_");ze=2<=Fr.length&&Fr[1]=="type"?ze+(Xr+"="+jt+"&"):ze+(Xr+"=redacted&")}}else ze=null;else ze=ge;return"XMLHTTP REQ ("+B+") [attempt "+ie+"]: "+E+`
`+C+`
`+ze})}function Ea(m,E,C,B,ie,ge,ze){m.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+ie+"]: "+E+`
`+C+`
`+ge+" "+ze})}function R(m,E,C,B){m.info(function(){return"XMLHTTP TEXT ("+E+"): "+z(m,C)+(B?" "+B:"")})}function G(m,E){m.info(function(){return"TIMEOUT: "+E})}Vi.prototype.info=function(){};function z(m,E){if(!m.g)return E;if(!E)return null;try{var C=JSON.parse(E);if(C){for(m=0;m<C.length;m++)if(Array.isArray(C[m])){var B=C[m];if(!(2>B.length)){var ie=B[1];if(Array.isArray(ie)&&!(1>ie.length)){var ge=ie[0];if(ge!="noop"&&ge!="stop"&&ge!="close")for(var ze=1;ze<ie.length;ze++)ie[ze]=""}}}}return cs(C)}catch{return E}}var H={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},q={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},K;function oe(){}S(oe,ve),oe.prototype.g=function(){return new XMLHttpRequest},oe.prototype.i=function(){return{}},K=new oe;function xe(m,E,C,B){this.j=m,this.i=E,this.l=C,this.R=B||1,this.U=new At(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}var de={},fe={};function Ie(m,E,C){m.L=1,m.v=Ca(ds(E)),m.m=C,m.P=!0,Ue(m,null)}function Ue(m,E){m.F=Date.now(),ke(m),m.A=ds(m.v);var C=m.A,B=m.R;Array.isArray(B)||(B=[String(B)]),Ia(C.i,"t",B),m.C=0,C=m.j.J,m.h=new le,m.g=Bd(m.j,C?E:null,!m.m),0<m.O&&(m.M=new qe(v(m.Y,m,m.g),m.O)),E=m.U,C=m.g,B=m.ca;var ie="readystatechange";Array.isArray(ie)||(ie&&(Pt[0]=ie.toString()),ie=Pt);for(var ge=0;ge<ie.length;ge++){var ze=Tt(C,ie[ge],B||E.handleEvent,!1,E.h||E);if(!ze)break;E.g[ze.key]=ze}E=m.H?I(m.H):{},m.m?(m.u||(m.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,E)):(m.u="GET",m.g.ea(m.A,m.u,null,E)),$s(),Bi(m.i,m.u,m.A,m.l,m.R,m.m)}xe.prototype.ca=function(m){m=m.target;const E=this.M;E&&Kn(m)==3?E.j():this.Y(m)},xe.prototype.Y=function(m){try{if(m==this.g)e:{const Fr=Kn(this.g);var E=this.g.Ba();const ks=this.g.Z();if(!(3>Fr)&&(Fr!=3||this.g&&(this.h.h||this.g.oa()||zc(this.g)))){this.J||Fr!=4||E==7||(E==8||0>=ks?$s(3):$s(2)),Vt(this);var C=this.g.Z();this.X=C;t:if(Ke(this)){var B=zc(this.g);m="";var ie=B.length,ge=Kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gt(this),Lt(this);var ze="";break t}this.h.i=new u.TextDecoder}for(E=0;E<ie;E++)this.h.h=!0,m+=this.h.i.decode(B[E],{stream:!(ge&&E==ie-1)});B.length=0,this.h.g+=m,this.C=0,ze=this.h.g}else ze=this.g.oa();if(this.o=C==200,Ea(this.i,this.u,this.A,this.l,this.R,Fr,C),this.o){if(this.T&&!this.K){t:{if(this.g){var qt,Wr=this.g;if((qt=Wr.g?Wr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(qt)){var jt=qt;break t}}jt=null}if(C=jt)R(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ws(this,C);else{this.o=!1,this.s=3,vr(12),Gt(this),Lt(this);break e}}if(this.P){C=!0;let fs;for(;!this.J&&this.C<ze.length;)if(fs=De(this,ze),fs==fe){Fr==4&&(this.s=4,vr(14),C=!1),R(this.i,this.l,null,"[Incomplete Response]");break}else if(fs==de){this.s=4,vr(15),R(this.i,this.l,ze,"[Invalid Chunk]"),C=!1;break}else R(this.i,this.l,fs,null),Ws(this,fs);if(Ke(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fr!=4||ze.length!=0||this.h.h||(this.s=1,vr(16),C=!1),this.o=this.o&&C,!C)R(this.i,this.l,ze,"[Invalid Chunked Response]"),Gt(this),Lt(this);else if(0<ze.length&&!this.W){this.W=!0;var Xr=this.j;Xr.g==this&&Xr.ba&&!Xr.M&&(Xr.j.info("Great, no buffering proxy detected. Bytes received: "+ze.length),Wc(Xr),Xr.M=!0,vr(11))}}else R(this.i,this.l,ze,null),Ws(this,ze);Fr==4&&Gt(this),this.o&&!this.J&&(Fr==4?Al(this.j,this):(this.o=!1,ke(this)))}else bl(this.g),C==400&&0<ze.indexOf("Unknown SID")?(this.s=3,vr(12)):(this.s=0,vr(13)),Gt(this),Lt(this)}}}catch{}finally{}};function Ke(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function De(m,E){var C=m.C,B=E.indexOf(`
`,C);return B==-1?fe:(C=Number(E.substring(C,B)),isNaN(C)?de:(B+=1,B+C>E.length?fe:(E=E.slice(B,B+C),m.C=B+C,E)))}xe.prototype.cancel=function(){this.J=!0,Gt(this)};function ke(m){m.S=Date.now()+m.I,ut(m,m.I)}function ut(m,E){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Fn(v(m.ba,m),E)}function Vt(m){m.B&&(u.clearTimeout(m.B),m.B=null)}xe.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(G(this.i,this.A),this.L!=2&&($s(),vr(17)),Gt(this),this.s=2,Lt(this)):ut(this,this.S-m)};function Lt(m){m.j.G==0||m.J||Al(m.j,m)}function Gt(m){Vt(m);var E=m.M;E&&typeof E.ma=="function"&&E.ma(),m.M=null,Or(m.U),m.g&&(E=m.g,m.g=null,E.abort(),E.ma())}function Ws(m,E){try{var C=m.j;if(C.G!=0&&(C.g==m||dr(C.h,m))){if(!m.K&&dr(C.h,m)&&C.G==3){try{var B=C.Da.g.parse(E)}catch{B=null}if(Array.isArray(B)&&B.length==3){var ie=B;if(ie[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<m.F)Cl(C),Ys(C);else break e;Nl(C),vr(18)}}else C.za=ie[1],0<C.za-C.T&&37500>ie[2]&&C.F&&C.v==0&&!C.C&&(C.C=Fn(v(C.Za,C),6e3));if(1>=ba(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else Gi(C,11)}else if((m.K||C.g==m)&&Cl(C),!D(E))for(ie=C.Da.g.parse(E),E=0;E<ie.length;E++){let jt=ie[E];if(C.T=jt[0],jt=jt[1],C.G==2)if(jt[0]=="c"){C.K=jt[1],C.ia=jt[2];const Xr=jt[3];Xr!=null&&(C.la=Xr,C.j.info("VER="+C.la));const Fr=jt[4];Fr!=null&&(C.Aa=Fr,C.j.info("SVER="+C.Aa));const ks=jt[5];ks!=null&&typeof ks=="number"&&0<ks&&(B=1.5*ks,C.L=B,C.j.info("backChannelRequestTimeoutMs_="+B)),B=C;const fs=m.g;if(fs){const ko=fs.g?fs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ko){var ge=B.h;ge.g||ko.indexOf("spdy")==-1&&ko.indexOf("quic")==-1&&ko.indexOf("h2")==-1||(ge.j=ge.l,ge.g=new Set,ge.h&&(Mc(ge,ge.h),ge.h=null))}if(B.D){const kl=fs.g?fs.g.getResponseHeader("X-HTTP-Session-Id"):null;kl&&(B.ya=kl,tr(B.I,B.D,kl))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-m.F,C.j.info("Handshake RTT: "+C.R+"ms")),B=C;var ze=m;if(B.qa=Vd(B,B.J?B.ia:null,B.W),ze.K){Ad(B.h,ze);var qt=ze,Wr=B.L;Wr&&(qt.I=Wr),qt.B&&(Vt(qt),ke(qt)),B.g=ze}else Io(B);0<C.i.length&&yi(C)}else jt[0]!="stop"&&jt[0]!="close"||Gi(C,7);else C.G==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?Gi(C,7):dn(C):jt[0]!="noop"&&C.l&&C.l.ta(jt),C.v=0)}}$s(4)}catch{}}var pi=class{constructor(m,E){this.g=m,this.map=E}};function us(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Rr(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function ba(m){return m.h?1:m.g?m.g.size:0}function dr(m,E){return m.h?m.h==E:m.g?m.g.has(E):!1}function Mc(m,E){m.g?m.g.add(E):m.h=E}function Ad(m,E){m.h&&m.h==E?m.h=null:m.g&&m.g.has(E)&&m.g.delete(E)}us.prototype.cancel=function(){if(this.i=Id(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Id(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let E=m.i;for(const C of m.g.values())E=E.concat(C.D);return E}return w(m.i)}function vl(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(h(m)){for(var E=[],C=m.length,B=0;B<C;B++)E.push(m[B]);return E}E=[],C=0;for(B in m)E[C++]=m[B];return E}function yl(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(h(m)||typeof m=="string"){var E=[];m=m.length;for(var C=0;C<m;C++)E.push(C);return E}E=[],C=0;for(const B in m)E[C++]=B;return E}}}function Ta(m,E){if(m.forEach&&typeof m.forEach=="function")m.forEach(E,void 0);else if(h(m)||typeof m=="string")Array.prototype.forEach.call(m,E,void 0);else for(var C=yl(m),B=vl(m),ie=B.length,ge=0;ge<ie;ge++)E.call(void 0,B[ge],C&&C[ge],m)}var So=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function B0(m,E){if(m){m=m.split("&");for(var C=0;C<m.length;C++){var B=m[C].indexOf("="),ie=null;if(0<=B){var ge=m[C].substring(0,B);ie=m[C].substring(B+1)}else ge=m[C];E(ge,ie?decodeURIComponent(ie.replace(/\+/g," ")):"")}}}function zi(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof zi){this.h=m.h,No(this,m.j),this.o=m.o,this.g=m.g,Sa(this,m.s),this.l=m.l;var E=m.i,C=new gi;C.i=E.i,E.g&&(C.g=new Map(E.g),C.h=E.h),Na(this,C),this.m=m.m}else m&&(E=String(m).match(So))?(this.h=!1,No(this,E[1]||"",!0),this.o=Rt(E[2]||""),this.g=Rt(E[3]||"",!0),Sa(this,E[4]),this.l=Rt(E[5]||"",!0),Na(this,E[6]||"",!0),this.m=Rt(E[7]||"")):(this.h=!1,this.i=new gi(null,this.h))}zi.prototype.toString=function(){var m=[],E=this.j;E&&m.push(Aa(E,wl,!0),":");var C=this.g;return(C||E=="file")&&(m.push("//"),(E=this.o)&&m.push(Aa(E,wl,!0),"@"),m.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&m.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&m.push("/"),m.push(Aa(C,C.charAt(0)=="/"?Pd:Rd,!0))),(C=this.i.toString())&&m.push("?",C),(C=this.m)&&m.push("#",Aa(C,Uc)),m.join("")};function ds(m){return new zi(m)}function No(m,E,C){m.j=C?Rt(E,!0):E,m.j&&(m.j=m.j.replace(/:$/,""))}function Sa(m,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);m.s=E}else m.s=null}function Na(m,E,C){E instanceof gi?(m.i=E,xi(m.i,m.h)):(C||(E=Aa(E,jd)),m.i=new gi(E,m.h))}function tr(m,E,C){m.i.set(E,C)}function Ca(m){return tr(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Rt(m,E){return m?E?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Aa(m,E,C){return typeof m=="string"?(m=encodeURI(m).replace(E,kd),C&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function kd(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var wl=/[#\/\?@]/g,Rd=/[#\?:]/g,Pd=/[#\?]/g,jd=/[#\?@]/g,Uc=/#/g;function gi(m,E){this.h=this.g=null,this.i=m||null,this.j=!!E}function un(m){m.g||(m.g=new Map,m.h=0,m.i&&B0(m.i,function(E,C){m.add(decodeURIComponent(E.replace(/\+/g," ")),C)}))}r=gi.prototype,r.add=function(m,E){un(this),this.i=null,m=Is(this,m);var C=this.g.get(m);return C||this.g.set(m,C=[]),C.push(E),this.h+=1,this};function Hs(m,E){un(m),E=Is(m,E),m.g.has(E)&&(m.i=null,m.h-=m.g.get(E).length,m.g.delete(E))}function Gs(m,E){return un(m),E=Is(m,E),m.g.has(E)}r.forEach=function(m,E){un(this),this.g.forEach(function(C,B){C.forEach(function(ie){m.call(E,ie,B,this)},this)},this)},r.na=function(){un(this);const m=Array.from(this.g.values()),E=Array.from(this.g.keys()),C=[];for(let B=0;B<E.length;B++){const ie=m[B];for(let ge=0;ge<ie.length;ge++)C.push(E[B])}return C},r.V=function(m){un(this);let E=[];if(typeof m=="string")Gs(this,m)&&(E=E.concat(this.g.get(Is(this,m))));else{m=Array.from(this.g.values());for(let C=0;C<m.length;C++)E=E.concat(m[C])}return E},r.set=function(m,E){return un(this),this.i=null,m=Is(this,m),Gs(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[E]),this.h+=1,this},r.get=function(m,E){return m?(m=this.V(m),0<m.length?String(m[0]):E):E};function Ia(m,E,C){Hs(m,E),0<C.length&&(m.i=null,m.g.set(Is(m,E),w(C)),m.h+=C.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],E=Array.from(this.g.keys());for(var C=0;C<E.length;C++){var B=E[C];const ge=encodeURIComponent(String(B)),ze=this.V(B);for(B=0;B<ze.length;B++){var ie=ge;ze[B]!==""&&(ie+="="+encodeURIComponent(String(ze[B]))),m.push(ie)}}return this.i=m.join("&")};function Is(m,E){return E=String(E),m.j&&(E=E.toLowerCase()),E}function xi(m,E){E&&!m.j&&(un(m),m.i=null,m.g.forEach(function(C,B){var ie=B.toLowerCase();B!=ie&&(Hs(this,B),Ia(this,ie,C))},m)),m.j=E}function z0(m,E){const C=new Vi;if(u.Image){const B=new Image;B.onload=_(qn,C,"TestLoadImage: loaded",!0,E,B),B.onerror=_(qn,C,"TestLoadImage: error",!1,E,B),B.onabort=_(qn,C,"TestLoadImage: abort",!1,E,B),B.ontimeout=_(qn,C,"TestLoadImage: timeout",!1,E,B),u.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=m}else E(!1)}function Dd(m,E){const C=new Vi,B=new AbortController,ie=setTimeout(()=>{B.abort(),qn(C,"TestPingServer: timeout",!1,E)},1e4);fetch(m,{signal:B.signal}).then(ge=>{clearTimeout(ie),ge.ok?qn(C,"TestPingServer: ok",!0,E):qn(C,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(ie),qn(C,"TestPingServer: error",!1,E)})}function qn(m,E,C,B,ie){try{ie&&(ie.onload=null,ie.onerror=null,ie.onabort=null,ie.ontimeout=null),B(C)}catch{}}function $0(){this.g=new cr}function Od(m,E,C){const B=C||"";try{Ta(m,function(ie,ge){let ze=ie;f(ie)&&(ze=cs(ie)),E.push(B+ge+"="+encodeURIComponent(ze))})}catch(ie){throw E.push(B+"type="+encodeURIComponent("_badmap")),ie}}function $i(m){this.l=m.Ub||null,this.j=m.eb||!1}S($i,ve),$i.prototype.g=function(){return new Co(this.l,this.j)},$i.prototype.i=(function(m){return function(){return m}})({});function Co(m,E){Ft.call(this),this.D=m,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Co,Ft),r=Co.prototype,r.open=function(m,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=E,this.readyState=1,Ks(this)},r.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(E.body=m),(this.D||u).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qs(this)),this.readyState=0},r.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Ks(this)),this.g&&(this.readyState=3,Ks(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fd(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fd(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}r.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var E=m.value?m.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!m.done}))&&(this.response=this.responseText+=E)}m.done?qs(this):Ks(this),this.readyState==3&&Fd(this)}},r.Ra=function(m){this.g&&(this.response=this.responseText=m,qs(this))},r.Qa=function(m){this.g&&(this.response=m,qs(this))},r.ga=function(){this.g&&qs(this)};function qs(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Ks(m)}r.setRequestHeader=function(m,E){this.u.append(m,E)},r.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],E=this.h.entries();for(var C=E.next();!C.done;)C=C.value,m.push(C[0]+": "+C[1]),C=E.next();return m.join(`\r
`)};function Ks(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Co.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Wi(m){let E="";return Q(m,function(C,B){E+=B,E+=":",E+=C,E+=`\r
`}),E}function ka(m,E,C){e:{for(B in C){var B=!1;break e}B=!0}B||(C=Wi(C),typeof m=="string"?C!=null&&encodeURIComponent(String(C)):tr(m,E,C))}function pr(m){Ft.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(pr,Ft);var W0=/^https?$/i,Vc=["POST","PUT"];r=pr.prototype,r.Ha=function(m){this.J=m},r.ea=function(m,E,C,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);E=E?E.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():K.g(),this.v=this.o?et(this.o):et(K),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(E,String(m),!0),this.B=!1}catch(ge){Ao(this,ge);return}if(m=C||"",C=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var ie in B)C.set(ie,B[ie]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const ge of B.keys())C.set(ge,B.get(ge));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(C.keys()).find(ge=>ge.toLowerCase()=="content-type"),ie=u.FormData&&m instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Vc,E,void 0))||B||ie||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ge,ze]of C)this.g.setRequestHeader(ge,ze);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{El(this),this.u=!0,this.g.send(m),this.u=!1}catch(ge){Ao(this,ge)}};function Ao(m,E){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=E,m.m=5,_l(m),hs(m)}function _l(m){m.A||(m.A=!0,$t(m,"complete"),$t(m,"error"))}r.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,$t(this,"complete"),$t(this,"abort"),hs(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hs(this,!0)),pr.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Bc(this):this.bb())},r.bb=function(){Bc(this)};function Bc(m){if(m.h&&typeof l<"u"&&(!m.v[1]||Kn(m)!=4||m.Z()!=2)){if(m.u&&Kn(m)==4)As(m.Ea,0,m);else if($t(m,"readystatechange"),Kn(m)==4){m.h=!1;try{const ze=m.Z();e:switch(ze){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var C;if(!(C=E)){var B;if(B=ze===0){var ie=String(m.D).match(So)[1]||null;!ie&&u.self&&u.self.location&&(ie=u.self.location.protocol.slice(0,-1)),B=!W0.test(ie?ie.toLowerCase():"")}C=B}if(C)$t(m,"complete"),$t(m,"success");else{m.m=6;try{var ge=2<Kn(m)?m.g.statusText:""}catch{ge=""}m.l=ge+" ["+m.Z()+"]",_l(m)}}finally{hs(m)}}}}function hs(m,E){if(m.g){El(m);const C=m.g,B=m.v[0]?()=>{}:null;m.g=null,m.v=null,E||$t(m,"ready");try{C.onreadystatechange=B}catch{}}}function El(m){m.I&&(u.clearTimeout(m.I),m.I=null)}r.isActive=function(){return!!this.g};function Kn(m){return m.g?m.g.readyState:0}r.Z=function(){try{return 2<Kn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(m){if(this.g){var E=this.g.responseText;return m&&E.indexOf(m)==0&&(E=E.substring(m.length)),bn(E)}};function zc(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function bl(m){const E={};m=(m.g&&2<=Kn(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<m.length;B++){if(D(m[B]))continue;var C=F(m[B]);const ie=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const ge=E[ie]||[];E[ie]=ge,ge.push(C)}N(E,function(B){return B.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(m,E,C){return C&&C.internalChannelParams&&C.internalChannelParams[m]||E}function $c(m){this.Aa=0,this.i=[],this.j=new Vi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vi("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vi("baseRetryDelayMs",5e3,m),this.cb=vi("retryDelaySeedMs",1e4,m),this.Wa=vi("forwardChannelMaxRetries",2,m),this.wa=vi("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new us(m&&m.concurrentRequestLimit),this.Da=new $0,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=$c.prototype,r.la=8,r.G=1,r.connect=function(m,E,C,B){vr(0),this.W=m,this.H=E||{},C&&B!==void 0&&(this.H.OSID=C,this.H.OAID=B),this.F=this.X,this.I=Vd(this,null,this.W),yi(this)};function dn(m){if(Tl(m),m.G==3){var E=m.U++,C=ds(m.I);if(tr(C,"SID",m.K),tr(C,"RID",E),tr(C,"TYPE","terminate"),Hi(m,C),E=new xe(m,m.j,E),E.L=2,E.v=Ca(ds(C)),C=!1,u.navigator&&u.navigator.sendBeacon)try{C=u.navigator.sendBeacon(E.v.toString(),"")}catch{}!C&&u.Image&&(new Image().src=E.v,C=!0),C||(E.g=Bd(E.j,null),E.g.ea(E.v)),E.F=Date.now(),ke(E)}Ud(m)}function Ys(m){m.g&&(Wc(m),m.g.cancel(),m.g=null)}function Tl(m){Ys(m),m.u&&(u.clearTimeout(m.u),m.u=null),Cl(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&u.clearTimeout(m.s),m.s=null)}function yi(m){if(!Rr(m.h)&&!m.s){m.s=!0;var E=m.Ga;Ge||Y(),Se||(Ge(),Se=!0),pe.add(E,m),m.B=0}}function H0(m,E){return ba(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=E.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Fn(v(m.Ga,m,E),Md(m,m.B)),m.B++,!0)}r.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const ie=new xe(this,this.j,m);let ge=this.o;if(this.S&&(ge?(ge=I(ge),P(ge,this.S)):ge=this.S),this.m!==null||this.O||(ie.H=ge,ge=null),this.P)e:{for(var E=0,C=0;C<this.i.length;C++){t:{var B=this.i[C];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(E+=B,4096<E){E=C;break e}if(E===4096||C===this.i.length-1){E=C+1;break e}}E=1e3}else E=1e3;E=Ra(this,ie,E),C=ds(this.I),tr(C,"RID",m),tr(C,"CVER",22),this.D&&tr(C,"X-HTTP-Session-Id",this.D),Hi(this,C),ge&&(this.O?E="headers="+encodeURIComponent(String(Wi(ge)))+"&"+E:this.m&&ka(C,this.m,ge)),Mc(this.h,ie),this.Ua&&tr(C,"TYPE","init"),this.P?(tr(C,"$req",E),tr(C,"SID","null"),ie.T=!0,Ie(ie,C,null)):Ie(ie,C,E),this.G=2}}else this.G==3&&(m?Sl(this,m):this.i.length==0||Rr(this.h)||Sl(this))};function Sl(m,E){var C;E?C=E.l:C=m.U++;const B=ds(m.I);tr(B,"SID",m.K),tr(B,"RID",C),tr(B,"AID",m.T),Hi(m,B),m.m&&m.o&&ka(B,m.m,m.o),C=new xe(m,m.j,C,m.B+1),m.m===null&&(C.H=m.o),E&&(m.i=E.D.concat(m.i)),E=Ra(m,C,1e3),C.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Mc(m.h,C),Ie(C,B,E)}function Hi(m,E){m.H&&Q(m.H,function(C,B){tr(E,B,C)}),m.l&&Ta({},function(C,B){tr(E,B,C)})}function Ra(m,E,C){C=Math.min(m.i.length,C);var B=m.l?v(m.l.Na,m.l,m):null;e:{var ie=m.i;let ge=-1;for(;;){const ze=["count="+C];ge==-1?0<C?(ge=ie[0].g,ze.push("ofs="+ge)):ge=0:ze.push("ofs="+ge);let qt=!0;for(let Wr=0;Wr<C;Wr++){let jt=ie[Wr].g;const Xr=ie[Wr].map;if(jt-=ge,0>jt)ge=Math.max(0,ie[Wr].g-100),qt=!1;else try{Od(Xr,ze,"req"+jt+"_")}catch{B&&B(Xr)}}if(qt){B=ze.join("&");break e}}}return m=m.i.splice(0,C),E.D=m,B}function Io(m){if(!m.g&&!m.u){m.Y=1;var E=m.Fa;Ge||Y(),Se||(Ge(),Se=!0),pe.add(E,m),m.v=0}}function Nl(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Fn(v(m.Fa,m),Md(m,m.v)),m.v++,!0)}r.Fa=function(){if(this.u=null,Ld(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Fn(v(this.ab,this),m)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vr(10),Ys(this),Ld(this))};function Wc(m){m.A!=null&&(u.clearTimeout(m.A),m.A=null)}function Ld(m){m.g=new xe(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var E=ds(m.qa);tr(E,"RID","rpc"),tr(E,"SID",m.K),tr(E,"AID",m.T),tr(E,"CI",m.F?"0":"1"),!m.F&&m.ja&&tr(E,"TO",m.ja),tr(E,"TYPE","xmlhttp"),Hi(m,E),m.m&&m.o&&ka(E,m.m,m.o),m.L&&(m.g.I=m.L);var C=m.g;m=m.ia,C.L=1,C.v=Ca(ds(E)),C.m=null,C.P=!0,Ue(C,m)}r.Za=function(){this.C!=null&&(this.C=null,Ys(this),Nl(this),vr(19))};function Cl(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function Al(m,E){var C=null;if(m.g==E){Cl(m),Wc(m),m.g=null;var B=2}else if(dr(m.h,E))C=E.D,Ad(m.h,E),B=1;else return;if(m.G!=0){if(E.o)if(B==1){C=E.m?E.m.length:0,E=Date.now()-E.F;var ie=m.B;B=Gn(),$t(B,new _a(B,C)),yi(m)}else Io(m);else if(ie=E.s,ie==3||ie==0&&0<E.X||!(B==1&&H0(m,E)||B==2&&Nl(m)))switch(C&&0<C.length&&(E=m.h,E.i=E.i.concat(C)),ie){case 1:Gi(m,5);break;case 4:Gi(m,10);break;case 3:Gi(m,6);break;default:Gi(m,2)}}}function Md(m,E){let C=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(C*=2),C*E}function Gi(m,E){if(m.j.info("Error code "+E),E==2){var C=v(m.fb,m),B=m.Xa;const ie=!B;B=new zi(B||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||No(B,"https"),Ca(B),ie?z0(B.toString(),C):Dd(B.toString(),C)}else vr(2);m.G=0,m.l&&m.l.sa(E),Ud(m),Tl(m)}r.fb=function(m){m?(this.j.info("Successfully pinged google.com"),vr(2)):(this.j.info("Failed to ping google.com"),vr(1))};function Ud(m){if(m.G=0,m.ka=[],m.l){const E=Id(m.h);(E.length!=0||m.i.length!=0)&&(T(m.ka,E),T(m.ka,m.i),m.h.i.length=0,w(m.i),m.i.length=0),m.l.ra()}}function Vd(m,E,C){var B=C instanceof zi?ds(C):new zi(C);if(B.g!="")E&&(B.g=E+"."+B.g),Sa(B,B.s);else{var ie=u.location;B=ie.protocol,E=E?E+"."+ie.hostname:ie.hostname,ie=+ie.port;var ge=new zi(null);B&&No(ge,B),E&&(ge.g=E),ie&&Sa(ge,ie),C&&(ge.l=C),B=ge}return C=m.D,E=m.ya,C&&E&&tr(B,C,E),tr(B,"VER",m.la),Hi(m,B),B}function Bd(m,E,C){if(E&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=m.Ca&&!m.pa?new pr(new $i({eb:C})):new pr(m.pa),E.Ha(m.J),E}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hc(){}r=Hc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Il(){}Il.prototype.g=function(m,E){return new Ln(m,E)};function Ln(m,E){Ft.call(this),this.g=new $c(E),this.l=m,this.h=E&&E.messageUrlParams||null,m=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(m?m["X-WebChannel-Content-Type"]=E.messageContentType:m={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(m?m["X-WebChannel-Client-Profile"]=E.va:m={"X-WebChannel-Client-Profile":E.va}),this.g.S=m,(m=E&&E.Sb)&&!D(m)&&(this.g.m=m),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!D(E)&&(this.g.D=E,m=this.h,m!==null&&E in m&&(m=this.h,E in m&&delete m[E])),this.j=new wi(this)}S(Ln,Ft),Ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ln.prototype.close=function(){dn(this.g)},Ln.prototype.o=function(m){var E=this.g;if(typeof m=="string"){var C={};C.__data__=m,m=C}else this.u&&(C={},C.__data__=cs(m),m=C);E.i.push(new pi(E.Ya++,m)),E.G==3&&yi(E)},Ln.prototype.N=function(){this.g.l=null,delete this.j,dn(this.g),delete this.g,Ln.aa.N.call(this)};function zd(m){It.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var E=m.__sm__;if(E){e:{for(const C in E){m=C;break e}m=void 0}(this.i=m)&&(m=this.i,E=E!==null&&m in E?E[m]:void 0),this.data=E}else this.data=m}S(zd,It);function $d(){kt.call(this),this.status=1}S($d,kt);function wi(m){this.g=m}S(wi,Hc),wi.prototype.ua=function(){$t(this.g,"a")},wi.prototype.ta=function(m){$t(this.g,new zd(m))},wi.prototype.sa=function(m){$t(this.g,new $d)},wi.prototype.ra=function(){$t(this.g,"b")},Il.prototype.createWebChannel=Il.prototype.g,Ln.prototype.send=Ln.prototype.o,Ln.prototype.open=Ln.prototype.m,Ln.prototype.close=Ln.prototype.close,EE=function(){return new Il},_E=function(){return Gn()},wE=ir,rg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},H.NO_ERROR=0,H.TIMEOUT=8,H.HTTP_ERROR=6,df=H,q.COMPLETE="complete",yE=q,_t.EventType=vt,vt.OPEN="a",vt.CLOSE="b",vt.ERROR="c",vt.MESSAGE="d",Ft.prototype.listen=Ft.prototype.K,wu=_t,pr.prototype.listenOnce=pr.prototype.L,pr.prototype.getLastError=pr.prototype.Ka,pr.prototype.getLastErrorCode=pr.prototype.Ba,pr.prototype.getStatus=pr.prototype.Z,pr.prototype.getResponseJson=pr.prototype.Oa,pr.prototype.getResponseText=pr.prototype.oa,pr.prototype.send=pr.prototype.ea,pr.prototype.setWithCredentials=pr.prototype.Ha,vE=pr}).apply(typeof Mh<"u"?Mh:typeof self<"u"?self:typeof window<"u"?window:{});const fw="@firebase/firestore",mw="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let In=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kc="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el=new Og("@firebase/firestore");function tc(){return el.logLevel}function Xe(r,...e){if(el.logLevel<=St.DEBUG){const t=e.map(Xg);el.debug(`Firestore (${kc}): ${r}`,...t)}}function pa(r,...e){if(el.logLevel<=St.ERROR){const t=e.map(Xg);el.error(`Firestore (${kc}): ${r}`,...t)}}function tl(r,...e){if(el.logLevel<=St.WARN){const t=e.map(Xg);el.warn(`Firestore (${kc}): ${r}`,...t)}}function Xg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(r,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,bE(r,n,t)}function bE(r,e,t){let n=`FIRESTORE (${kc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw pa(n),new Error(n)}function Wt(r,e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,r||bE(e,s,n)}function gt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class He extends mi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class SE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(In.UNAUTHENTICATED)))}shutdown(){}}class LR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class MR{constructor(e){this.t=e,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Wt(this.o===void 0,42304);let n=this.i;const s=h=>this.i!==n?(n=this.i,t(h)):Promise.resolve();let a=new oa;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new oa,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const h=a;e.enqueueRetryable((async()=>{await h.promise,await s(this.currentUser)}))},u=h=>{Xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>u(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(Xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new oa)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((n=>this.i!==e?(Xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Wt(typeof n.accessToken=="string",31837,{l:n}),new TE(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Wt(e===null||typeof e=="string",2055,{h:e}),new In(e)}}class UR{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=In.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class VR{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new UR(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(In.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class pw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BR{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Wt(this.o===void 0,3512);const n=a=>{a.error!=null&&Xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,Xe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>n(a)))};const s=a=>{Xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>s(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):Xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new pw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Wt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new pw(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const s=zR(40);for(let a=0;a<s.length;++a)n.length<20&&s[a]<t&&(n+=e.charAt(s[a]%62))}return n}}function Nt(r,e){return r<e?-1:r>e?1:0}function ng(r,e){const t=Math.min(r.length,e.length);for(let n=0;n<t;n++){const s=r.charAt(n),a=e.charAt(n);if(s!==a)return Sp(s)===Sp(a)?Nt(s,a):Sp(s)?1:-1}return Nt(r.length,e.length)}const $R=55296,WR=57343;function Sp(r){const e=r.charCodeAt(0);return e>=$R&&e<=WR}function vc(r,e,t){return r.length===e.length&&r.every(((n,s)=>t(n,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="__name__";class Ci{constructor(e,t,n){t===void 0?t=0:t>e.length&&lt(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&lt(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return Ci.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ci?e.forEach((n=>{t.push(n)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const a=Ci.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return Nt(e.length,t.length)}static compareSegments(e,t){const n=Ci.isNumericId(e),s=Ci.isNumericId(t);return n&&!s?-1:!n&&s?1:n&&s?Ci.extractNumericId(e).compare(Ci.extractNumericId(t)):ng(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return io.fromString(e.substring(4,e.length-2))}}class nr extends Ci{construct(e,t,n){return new nr(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new He(we.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((s=>s.length>0)))}return new nr(t)}static emptyPath(){return new nr([])}}const HR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Ci{construct(e,t,n){return new nn(e,t,n)}static isValidIdentifier(e){return HR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gw}static keyField(){return new nn([gw])}static fromServerFormat(e){const t=[];let n="",s=0;const a=()=>{if(n.length===0)throw new He(we.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let l=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new He(we.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new He(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=h,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(n+=u,s++):(a(),s++)}if(a(),l)throw new He(we.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(t)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.path=e}static fromPath(e){return new rt(nr.fromString(e))}static fromName(e){return new rt(nr.fromString(e).popFirst(5))}static empty(){return new rt(nr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return nr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new rt(new nr(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(r,e,t){if(!t)throw new He(we.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function NE(r,e,t,n){if(e===!0&&n===!0)throw new He(we.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function xw(r){if(!rt.isDocumentKey(r))throw new He(we.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function vw(r){if(rt.isDocumentKey(r))throw new He(we.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function CE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function d0(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":lt(12329,{type:typeof r})}function Rn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new He(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=d0(r);throw new He(we.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(r,e){const t={typeString:r};return e&&(t.value=e),t}function ud(r,e){if(!CE(r))throw new He(we.INVALID_ARGUMENT,"JSON must be an object");let t;for(const n in e)if(e[n]){const s=e[n].typeString,a="value"in e[n]?{value:e[n].value}:void 0;if(!(n in r)){t=`JSON missing required field: '${n}'`;break}const l=r[n];if(s&&typeof l!==s){t=`JSON field '${n}' must be a ${s}.`;break}if(a!==void 0&&l!==a.value){t=`Expected '${n}' field to equal '${a.value}'`;break}}if(t)throw new He(we.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw=-62135596800,ww=1e6;class lr{static now(){return lr.fromMillis(Date.now())}static fromDate(e){return lr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*ww);return new lr(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new He(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new He(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<yw)throw new He(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new He(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ww}_compareTo(e){return this.seconds===e.seconds?Nt(this.nanoseconds,e.nanoseconds):Nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ud(e,lr._jsonSchema))return new lr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-yw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lr._jsonSchemaVersion="firestore/timestamp/1.0",lr._jsonSchema={type:Br("string",lr._jsonSchemaVersion),seconds:Br("number"),nanoseconds:Br("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{static fromTimestamp(e){return new ft(e)}static min(){return new ft(new lr(0,0))}static max(){return new ft(new lr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u=-1;function GR(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,s=ft.fromTimestamp(n===1e9?new lr(t+1,0):new lr(t,n));return new co(s,rt.empty(),e)}function qR(r){return new co(r.readTime,r.key,$u)}class co{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new co(ft.min(),rt.empty(),$u)}static max(){return new co(ft.max(),rt.empty(),$u)}}function KR(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=rt.comparator(r.documentKey,e.documentKey),t!==0?t:Nt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rc(r){if(r.code!==we.FAILED_PRECONDITION||r.message!==YR)throw r;Xe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&lt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new _e(((n,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(n,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof _e?t:_e.resolve(t)}catch(t){return _e.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):_e.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):_e.reject(t)}static resolve(e){return new _e(((t,n)=>{t(e)}))}static reject(e){return new _e(((t,n)=>{n(e)}))}static waitFor(e){return new _e(((t,n)=>{let s=0,a=0,l=!1;e.forEach((u=>{++s,u.next((()=>{++a,l&&a===s&&t()}),(h=>n(h)))})),l=!0,a===s&&t()}))}static or(e){let t=_e.resolve(!1);for(const n of e)t=t.next((s=>s?_e.resolve(s):n()));return t}static forEach(e,t){const n=[];return e.forEach(((s,a)=>{n.push(t.call(this,s,a))})),this.waitFor(n)}static mapArray(e,t){return new _e(((n,s)=>{const a=e.length,l=new Array(a);let u=0;for(let h=0;h<a;h++){const f=h;t(e[f]).next((g=>{l[f]=g,++u,u===a&&n(l)}),(g=>s(g)))}}))}static doWhile(e,t){return new _e(((n,s)=>{const a=()=>{e()===!0?t().next((()=>{a()}),s):n()};a()}))}}function QR(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Pc(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>t.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}h0.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jg=-1;function f0(r){return r==null}function Af(r){return r===0&&1/r==-1/0}function JR(r){return typeof r=="number"&&Number.isInteger(r)&&!Af(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="";function ZR(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=_w(e)),e=e3(r.get(t),e);return _w(e)}function e3(r,e){let t=e;const n=r.length;for(let s=0;s<n;s++){const a=r.charAt(s);switch(a){case"\0":t+="";break;case AE:t+="";break;default:t+=a}}return t}function _w(r){return r+AE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function wo(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function IE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e,t){this.comparator=e,this.root=t||gn.EMPTY}insert(e,t){return new Sr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(e){return new Sr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return t+n.left.size;s<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uh(this.root,e,this.comparator,!0)}}class Uh{constructor(e,t,n,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?n(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gn{constructor(e,t,n,s,a){this.key=e,this.value=t,this.color=n??gn.RED,this.left=s??gn.EMPTY,this.right=a??gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,s,a){return new gn(e??this.key,t??this.value,n??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let s=this;const a=n(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,n),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return gn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return gn.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw lt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw lt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw lt(27949);return e+(this.isRed()?0:1)}}gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw lt(57766)}get value(){throw lt(16141)}get color(){throw lt(16727)}get left(){throw lt(29726)}get right(){throw lt(36894)}copy(e,t,n,s,a){return this}insert(e,t,n){return new gn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this.comparator=e,this.data=new Sr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new bw(this.data.getIterator())}getIteratorFrom(e){return new bw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((n=>{t=t.add(n)})),t}isEqual(e){if(!(e instanceof Yr)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=n.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Yr(this.comparator);return t.data=e,t}}class bw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new Ts([])}unionWith(e){let t=new Yr(nn.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ts(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return vc(this.fields,e.fields,((t,n)=>t.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new kE("Invalid base64 string: "+a):a}})(e);return new ln(t)}static fromUint8Array(e){const t=(function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a})(e);return new ln(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const n=new Uint8Array(t.length);for(let s=0;s<t.length;s++)n[s]=t.charCodeAt(s);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const t3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function uo(r){if(Wt(!!r,39018),typeof r=="string"){let e=0;const t=t3.exec(r);if(Wt(!!t,46558,{timestamp:r}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:jr(r.seconds),nanos:jr(r.nanos)}}function jr(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ho(r){return typeof r=="string"?ln.fromBase64String(r):ln.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="server_timestamp",PE="__type__",jE="__previous_value__",DE="__local_write_time__";function Zg(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)==null?void 0:t.fields)||{})[PE])==null?void 0:n.stringValue)===RE}function m0(r){const e=r.mapValue.fields[jE];return Zg(e)?m0(e):e}function Wu(r){const e=uo(r.mapValue.fields[DE].timestampValue);return new lr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e,t,n,s,a,l,u,h,f,g){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=g}}const If="(default)";class yc{constructor(e,t){this.projectId=e,this.database=t||If}static empty(){return new yc("","")}get isDefaultDatabase(){return this.database===If}isEqual(e){return e instanceof yc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="__type__",n3="__max__",Vh={mapValue:{}},FE="__vector__",kf="value";function fo(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Zg(r)?4:i3(r)?9007199254740991:s3(r)?10:11:lt(28295,{value:r})}function Pi(r,e){if(r===e)return!0;const t=fo(r);if(t!==fo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Wu(r).isEqual(Wu(e));case 3:return(function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=uo(s.timestampValue),u=uo(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(s,a){return ho(s.bytesValue).isEqual(ho(a.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(s,a){return jr(s.geoPointValue.latitude)===jr(a.geoPointValue.latitude)&&jr(s.geoPointValue.longitude)===jr(a.geoPointValue.longitude)})(r,e);case 2:return(function(s,a){if("integerValue"in s&&"integerValue"in a)return jr(s.integerValue)===jr(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=jr(s.doubleValue),u=jr(a.doubleValue);return l===u?Af(l)===Af(u):isNaN(l)&&isNaN(u)}return!1})(r,e);case 9:return vc(r.arrayValue.values||[],e.arrayValue.values||[],Pi);case 10:case 11:return(function(s,a){const l=s.mapValue.fields||{},u=a.mapValue.fields||{};if(Ew(l)!==Ew(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!Pi(l[h],u[h])))return!1;return!0})(r,e);default:return lt(52216,{left:r})}}function Hu(r,e){return(r.values||[]).find((t=>Pi(t,e)))!==void 0}function wc(r,e){if(r===e)return 0;const t=fo(r),n=fo(e);if(t!==n)return Nt(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return Nt(r.booleanValue,e.booleanValue);case 2:return(function(a,l){const u=jr(a.integerValue||a.doubleValue),h=jr(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1})(r,e);case 3:return Tw(r.timestampValue,e.timestampValue);case 4:return Tw(Wu(r),Wu(e));case 5:return ng(r.stringValue,e.stringValue);case 6:return(function(a,l){const u=ho(a),h=ho(l);return u.compareTo(h)})(r.bytesValue,e.bytesValue);case 7:return(function(a,l){const u=a.split("/"),h=l.split("/");for(let f=0;f<u.length&&f<h.length;f++){const g=Nt(u[f],h[f]);if(g!==0)return g}return Nt(u.length,h.length)})(r.referenceValue,e.referenceValue);case 8:return(function(a,l){const u=Nt(jr(a.latitude),jr(l.latitude));return u!==0?u:Nt(jr(a.longitude),jr(l.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Sw(r.arrayValue,e.arrayValue);case 10:return(function(a,l){var v,_,S,w;const u=a.fields||{},h=l.fields||{},f=(v=u[kf])==null?void 0:v.arrayValue,g=(_=h[kf])==null?void 0:_.arrayValue,x=Nt(((S=f==null?void 0:f.values)==null?void 0:S.length)||0,((w=g==null?void 0:g.values)==null?void 0:w.length)||0);return x!==0?x:Sw(f,g)})(r.mapValue,e.mapValue);case 11:return(function(a,l){if(a===Vh.mapValue&&l===Vh.mapValue)return 0;if(a===Vh.mapValue)return 1;if(l===Vh.mapValue)return-1;const u=a.fields||{},h=Object.keys(u),f=l.fields||{},g=Object.keys(f);h.sort(),g.sort();for(let x=0;x<h.length&&x<g.length;++x){const v=ng(h[x],g[x]);if(v!==0)return v;const _=wc(u[h[x]],f[g[x]]);if(_!==0)return _}return Nt(h.length,g.length)})(r.mapValue,e.mapValue);default:throw lt(23264,{he:t})}}function Tw(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Nt(r,e);const t=uo(r),n=uo(e),s=Nt(t.seconds,n.seconds);return s!==0?s:Nt(t.nanos,n.nanos)}function Sw(r,e){const t=r.values||[],n=e.values||[];for(let s=0;s<t.length&&s<n.length;++s){const a=wc(t[s],n[s]);if(a)return a}return Nt(t.length,n.length)}function _c(r){return sg(r)}function sg(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const n=uo(t);return`time(${n.seconds},${n.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return ho(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return rt.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let n="[",s=!0;for(const a of t.values||[])s?s=!1:n+=",",n+=sg(a);return n+"]"})(r.arrayValue):"mapValue"in r?(function(t){const n=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const l of n)a?a=!1:s+=",",s+=`${l}:${sg(t.fields[l])}`;return s+"}"})(r.mapValue):lt(61005,{value:r})}function hf(r){switch(fo(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=m0(r);return e?16+hf(e):16;case 5:return 2*r.stringValue.length;case 6:return ho(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((s,a)=>s+hf(a)),0)})(r.arrayValue);case 10:case 11:return(function(n){let s=0;return wo(n.fields,((a,l)=>{s+=a.length+hf(l)})),s})(r.mapValue);default:throw lt(13486,{value:r})}}function Nw(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function ig(r){return!!r&&"integerValue"in r}function ex(r){return!!r&&"arrayValue"in r}function Cw(r){return!!r&&"nullValue"in r}function Aw(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ff(r){return!!r&&"mapValue"in r}function s3(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)==null?void 0:t.fields)||{})[OE])==null?void 0:n.stringValue)===FE}function Nu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return wo(r.mapValue.fields,((t,n)=>e.mapValue.fields[t]=Nu(n))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Nu(r.arrayValue.values[t]);return e}return{...r}}function i3(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===n3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e){this.value=e}static empty(){return new ns({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!ff(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nu(t)}setAll(e){let t=nn.emptyPath(),n={},s=[];e.forEach(((l,u)=>{if(!t.isImmediateParentOf(u)){const h=this.getFieldsMap(t);this.applyChanges(h,n,s),n={},s=[],t=u.popLast()}l?n[u.lastSegment()]=Nu(l):s.push(u.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,n,s)}delete(e){const t=this.field(e.popLast());ff(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Pi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=t.mapValue.fields[e.get(n)];ff(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,n){wo(t,((s,a)=>e[s]=a));for(const s of n)delete e[s]}clone(){return new ns(Nu(this.value))}}function LE(r){const e=[];return wo(r.fields,((t,n)=>{const s=new nn([t]);if(ff(n)){const a=LE(n.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)})),new Ts(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e,t,n,s,a,l,u){this.key=e,this.documentType=t,this.version=n,this.readTime=s,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new kn(e,0,ft.min(),ft.min(),ft.min(),ns.empty(),0)}static newFoundDocument(e,t,n,s){return new kn(e,1,t,ft.min(),n,s,0)}static newNoDocument(e,t){return new kn(e,2,t,ft.min(),ft.min(),ns.empty(),0)}static newUnknownDocument(e,t){return new kn(e,3,t,ft.min(),ft.min(),ns.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ft.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ns.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ns.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ft.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,t){this.position=e,this.inclusive=t}}function Iw(r,e,t){let n=0;for(let s=0;s<r.position.length;s++){const a=e[s],l=r.position[s];if(a.field.isKeyField()?n=rt.comparator(rt.fromName(l.referenceValue),t.key):n=wc(l,t.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function kw(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Pi(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,t="asc"){this.field=e,this.dir=t}}function a3(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{}class Vr extends ME{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new l3(e,t,n):t==="array-contains"?new d3(e,n):t==="in"?new h3(e,n):t==="not-in"?new f3(e,n):t==="array-contains-any"?new m3(e,n):new Vr(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new c3(e,n):new u3(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(wc(t,this.value)):t!==null&&fo(this.value)===fo(t)&&this.matchesComparison(wc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return lt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fi extends ME{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new fi(e,t)}matches(e){return UE(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function UE(r){return r.op==="and"}function VE(r){return o3(r)&&UE(r)}function o3(r){for(const e of r.filters)if(e instanceof fi)return!1;return!0}function ag(r){if(r instanceof Vr)return r.field.canonicalString()+r.op.toString()+_c(r.value);if(VE(r))return r.filters.map((e=>ag(e))).join(",");{const e=r.filters.map((t=>ag(t))).join(",");return`${r.op}(${e})`}}function BE(r,e){return r instanceof Vr?(function(n,s){return s instanceof Vr&&n.op===s.op&&n.field.isEqual(s.field)&&Pi(n.value,s.value)})(r,e):r instanceof fi?(function(n,s){return s instanceof fi&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce(((a,l,u)=>a&&BE(l,s.filters[u])),!0):!1})(r,e):void lt(19439)}function zE(r){return r instanceof Vr?(function(t){return`${t.field.canonicalString()} ${t.op} ${_c(t.value)}`})(r):r instanceof fi?(function(t){return t.op.toString()+" {"+t.getFilters().map(zE).join(" ,")+"}"})(r):"Filter"}class l3 extends Vr{constructor(e,t,n){super(e,t,n),this.key=rt.fromName(n.referenceValue)}matches(e){const t=rt.comparator(e.key,this.key);return this.matchesComparison(t)}}class c3 extends Vr{constructor(e,t){super(e,"in",t),this.keys=$E("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class u3 extends Vr{constructor(e,t){super(e,"not-in",t),this.keys=$E("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function $E(r,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((n=>rt.fromName(n.referenceValue)))}class d3 extends Vr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ex(t)&&Hu(t.arrayValue,this.value)}}class h3 extends Vr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Hu(this.value.arrayValue,t)}}class f3 extends Vr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Hu(this.value.arrayValue,t)}}class m3 extends Vr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ex(t)||!t.arrayValue.values)&&t.arrayValue.values.some((n=>Hu(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(e,t=null,n=[],s=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=s,this.limit=a,this.startAt=l,this.endAt=u,this.Te=null}}function Rw(r,e=null,t=[],n=[],s=null,a=null,l=null){return new p3(r,e,t,n,s,a,l)}function tx(r){const e=gt(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((n=>ag(n))).join(","),t+="|ob:",t+=e.orderBy.map((n=>(function(a){return a.field.canonicalString()+a.dir})(n))).join(","),f0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((n=>_c(n))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((n=>_c(n))).join(",")),e.Te=t}return e.Te}function rx(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!a3(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!BE(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!kw(r.startAt,e.startAt)&&kw(r.endAt,e.endAt)}function og(r){return rt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,t=null,n=[],s=[],a=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=s,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function g3(r,e,t,n,s,a,l,u){return new ul(r,e,t,n,s,a,l,u)}function p0(r){return new ul(r)}function Pw(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function WE(r){return r.collectionGroup!==null}function Cu(r){const e=gt(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Yr(nn.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((f=>{f.isInequality()&&(u=u.add(f.field))}))})),u})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Gu(a,n))})),t.has(nn.keyField().canonicalString())||e.Ie.push(new Gu(nn.keyField(),n))}return e.Ie}function ki(r){const e=gt(r);return e.Ee||(e.Ee=x3(e,Cu(r))),e.Ee}function x3(r,e){if(r.limitType==="F")return Rw(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((s=>{const a=s.dir==="desc"?"asc":"desc";return new Gu(s.field,a)}));const t=r.endAt?new Rf(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new Rf(r.startAt.position,r.startAt.inclusive):null;return Rw(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function lg(r,e){const t=r.filters.concat([e]);return new ul(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function cg(r,e,t){return new ul(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function g0(r,e){return rx(ki(r),ki(e))&&r.limitType===e.limitType}function HE(r){return`${tx(ki(r))}|lt:${r.limitType}`}function rc(r){return`Query(target=${(function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map((s=>zE(s))).join(", ")}]`),f0(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>_c(s))).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>_c(s))).join(",")),`Target(${n})`})(ki(r))}; limitType=${r.limitType})`}function x0(r,e){return e.isFoundDocument()&&(function(n,s){const a=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):rt.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)})(r,e)&&(function(n,s){for(const a of Cu(n))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0})(r,e)&&(function(n,s){for(const a of n.filters)if(!a.matches(s))return!1;return!0})(r,e)&&(function(n,s){return!(n.startAt&&!(function(l,u,h){const f=Iw(l,u,h);return l.inclusive?f<=0:f<0})(n.startAt,Cu(n),s)||n.endAt&&!(function(l,u,h){const f=Iw(l,u,h);return l.inclusive?f>=0:f>0})(n.endAt,Cu(n),s))})(r,e)}function v3(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function GE(r){return(e,t)=>{let n=!1;for(const s of Cu(r)){const a=y3(s,e,t);if(a!==0)return a;n=n||s.field.isKeyField()}return 0}}function y3(r,e,t){const n=r.field.isKeyField()?rt.comparator(e.key,t.key):(function(a,l,u){const h=l.data.field(a),f=u.data.field(a);return h!==null&&f!==null?wc(h,f):lt(42886)})(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return lt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[s,a]of n)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return n.length===1?delete this.inner[t]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){wo(this.inner,((t,n)=>{for(const[s,a]of n)e(s,a)}))}isEmpty(){return IE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3=new Sr(rt.comparator);function ga(){return w3}const qE=new Sr(rt.comparator);function _u(...r){let e=qE;for(const t of r)e=e.insert(t.key,t);return e}function KE(r){let e=qE;return r.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function Ko(){return Au()}function YE(){return Au()}function Au(){return new dl((r=>r.toString()),((r,e)=>r.isEqual(e)))}const _3=new Sr(rt.comparator),E3=new Yr(rt.comparator);function Ct(...r){let e=E3;for(const t of r)e=e.add(t);return e}const b3=new Yr(Nt);function T3(){return b3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Af(e)?"-0":e}}function XE(r){return{integerValue:""+r}}function S3(r,e){return JR(e)?XE(e):nx(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(){this._=void 0}}function N3(r,e,t){return r instanceof qu?(function(s,a){const l={fields:{[PE]:{stringValue:RE},[DE]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Zg(a)&&(a=m0(a)),a&&(l.fields[jE]=a),{mapValue:l}})(t,e):r instanceof Ku?JE(r,e):r instanceof Yu?ZE(r,e):(function(s,a){const l=QE(s,a),u=jw(l)+jw(s.Ae);return ig(l)&&ig(s.Ae)?XE(u):nx(s.serializer,u)})(r,e)}function C3(r,e,t){return r instanceof Ku?JE(r,e):r instanceof Yu?ZE(r,e):t}function QE(r,e){return r instanceof Pf?(function(n){return ig(n)||(function(a){return!!a&&"doubleValue"in a})(n)})(e)?e:{integerValue:0}:null}class qu extends v0{}class Ku extends v0{constructor(e){super(),this.elements=e}}function JE(r,e){const t=eb(e);for(const n of r.elements)t.some((s=>Pi(s,n)))||t.push(n);return{arrayValue:{values:t}}}class Yu extends v0{constructor(e){super(),this.elements=e}}function ZE(r,e){let t=eb(e);for(const n of r.elements)t=t.filter((s=>!Pi(s,n)));return{arrayValue:{values:t}}}class Pf extends v0{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function jw(r){return jr(r.integerValue||r.doubleValue)}function eb(r){return ex(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e,t){this.field=e,this.transform=t}}function I3(r,e){return r.field.isEqual(e.field)&&(function(n,s){return n instanceof Ku&&s instanceof Ku||n instanceof Yu&&s instanceof Yu?vc(n.elements,s.elements,Pi):n instanceof Pf&&s instanceof Pf?Pi(n.Ae,s.Ae):n instanceof qu&&s instanceof qu})(r.transform,e.transform)}class k3{constructor(e,t){this.version=e,this.transformResults=t}}class Vs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Vs}static exists(e){return new Vs(void 0,e)}static updateTime(e){return new Vs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mf(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class y0{}function tb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new sx(r.key,Vs.none()):new dd(r.key,r.data,Vs.none());{const t=r.data,n=ns.empty();let s=new Yr(nn.comparator);for(let a of e.fields)if(!s.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?n.delete(a):n.set(a,l),s=s.add(a)}return new _o(r.key,n,new Ts(s.toArray()),Vs.none())}}function R3(r,e,t){r instanceof dd?(function(s,a,l){const u=s.value.clone(),h=Ow(s.fieldTransforms,a,l.transformResults);u.setAll(h),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(r,e,t):r instanceof _o?(function(s,a,l){if(!mf(s.precondition,a))return void a.convertToUnknownDocument(l.version);const u=Ow(s.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(rb(s)),h.setAll(u),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(r,e,t):(function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function Iu(r,e,t,n){return r instanceof dd?(function(a,l,u,h){if(!mf(a.precondition,l))return u;const f=a.value.clone(),g=Fw(a.fieldTransforms,h,l);return f.setAll(g),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(r,e,t,n):r instanceof _o?(function(a,l,u,h){if(!mf(a.precondition,l))return u;const f=Fw(a.fieldTransforms,h,l),g=l.data;return g.setAll(rb(a)),g.setAll(f),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((x=>x.field)))})(r,e,t,n):(function(a,l,u){return mf(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(r,e,t)}function P3(r,e){let t=null;for(const n of r.fieldTransforms){const s=e.data.field(n.field),a=QE(n.transform,s||null);a!=null&&(t===null&&(t=ns.empty()),t.set(n.field,a))}return t||null}function Dw(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&vc(n,s,((a,l)=>I3(a,l)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class dd extends y0{constructor(e,t,n,s=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class _o extends y0{constructor(e,t,n,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function rb(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}})),e}function Ow(r,e,t){const n=new Map;Wt(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let s=0;s<t.length;s++){const a=r[s],l=a.transform,u=e.data.field(a.field);n.set(a.field,C3(l,u,t[s]))}return n}function Fw(r,e,t){const n=new Map;for(const s of r){const a=s.transform,l=t.data.field(s.field);n.set(s.field,N3(a,l,e))}return n}class sx extends y0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class j3 extends y0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e,t,n,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&R3(a,e,n[s])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Iu(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Iu(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=YE();return this.mutations.forEach((s=>{const a=e.get(s.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=t.has(s.key)?null:u;const h=tb(l,u);h!==null&&n.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(ft.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ct())}isEqual(e){return this.batchId===e.batchId&&vc(this.mutations,e.mutations,((t,n)=>Dw(t,n)))&&vc(this.baseMutations,e.baseMutations,((t,n)=>Dw(t,n)))}}class ix{constructor(e,t,n,s){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=s}static from(e,t,n){Wt(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let s=(function(){return _3})();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,n[l].version);return new ix(e,t,n,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ur,Dt;function L3(r){switch(r){case we.OK:return lt(64938);case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0;default:return lt(15467,{code:r})}}function nb(r){if(r===void 0)return pa("GRPC error has no .code"),we.UNKNOWN;switch(r){case Ur.OK:return we.OK;case Ur.CANCELLED:return we.CANCELLED;case Ur.UNKNOWN:return we.UNKNOWN;case Ur.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case Ur.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case Ur.INTERNAL:return we.INTERNAL;case Ur.UNAVAILABLE:return we.UNAVAILABLE;case Ur.UNAUTHENTICATED:return we.UNAUTHENTICATED;case Ur.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case Ur.NOT_FOUND:return we.NOT_FOUND;case Ur.ALREADY_EXISTS:return we.ALREADY_EXISTS;case Ur.PERMISSION_DENIED:return we.PERMISSION_DENIED;case Ur.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case Ur.ABORTED:return we.ABORTED;case Ur.OUT_OF_RANGE:return we.OUT_OF_RANGE;case Ur.UNIMPLEMENTED:return we.UNIMPLEMENTED;case Ur.DATA_LOSS:return we.DATA_LOSS;default:return lt(39323,{code:r})}}(Dt=Ur||(Ur={}))[Dt.OK=0]="OK",Dt[Dt.CANCELLED=1]="CANCELLED",Dt[Dt.UNKNOWN=2]="UNKNOWN",Dt[Dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dt[Dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dt[Dt.NOT_FOUND=5]="NOT_FOUND",Dt[Dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dt[Dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dt[Dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dt[Dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dt[Dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dt[Dt.ABORTED=10]="ABORTED",Dt[Dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dt[Dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dt[Dt.INTERNAL=13]="INTERNAL",Dt[Dt.UNAVAILABLE=14]="UNAVAILABLE",Dt[Dt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3=new io([4294967295,4294967295],0);function Lw(r){const e=M3().encode(r),t=new xE;return t.update(e),new Uint8Array(t.digest())}function Mw(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new io([t,n],0),new io([s,a],0)]}class ax{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Eu(`Invalid padding: ${t}`);if(n<0)throw new Eu(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Eu(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Eu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=io.fromNumber(this.ge)}ye(e,t,n){let s=e.add(t.multiply(io.fromNumber(n)));return s.compare(U3)===1&&(s=new io([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Lw(e),[n,s]=Mw(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(n,s,a);if(!this.we(l))return!1}return!0}static create(e,t,n){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new ax(a,s,t);return n.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const t=Lw(e),[n,s]=Mw(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(n,s,a);this.Se(l)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,t,n,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const s=new Map;return s.set(e,hd.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new w0(ft.min(),s,new Sr(Nt),ga(),Ct())}}class hd{constructor(e,t,n,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new hd(n,t,Ct(),Ct(),Ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,t,n,s){this.be=e,this.removedTargetIds=t,this.key=n,this.De=s}}class sb{constructor(e,t){this.targetId=e,this.Ce=t}}class ib{constructor(e,t,n=ln.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=s}}class Uw{constructor(){this.ve=0,this.Fe=Vw(),this.Me=ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ct(),t=Ct(),n=Ct();return this.Fe.forEach(((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:n=n.add(s);break;default:lt(38017,{changeType:a})}})),new hd(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=Vw()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Wt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class V3{constructor(e){this.Ge=e,this.ze=new Map,this.je=ga(),this.Je=Bh(),this.He=Bh(),this.Ye=new Sr(Nt)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:lt(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((n,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,n=e.Ce.count,s=this.ot(t);if(s){const a=s.target;if(og(a))if(n===0){const l=new rt(a.path);this.et(t,l,kn.newNoDocument(l,ft.min()))}else Wt(n===1,20013,{expectedCount:n});else{const l=this._t(t);if(l!==n){const u=this.ut(e),h=u?this.ct(u,e,l):1;if(h!==0){this.it(t);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,f)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:a=0}=t;let l,u;try{l=ho(n).toUint8Array()}catch(h){if(h instanceof kE)return tl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new ax(l,s,a)}catch(h){return tl(h instanceof Eu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.ge===0?null:u}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let s=0;return n.forEach((a=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.et(t,a,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((a,l)=>{const u=this.ot(l);if(u){if(a.current&&og(u.target)){const h=new rt(u.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,kn.newNoDocument(h,e))}a.Be&&(t.set(l,a.ke()),a.qe())}}));let n=Ct();this.He.forEach(((a,l)=>{let u=!0;l.forEachWhile((h=>{const f=this.ot(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(n=n.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const s=new w0(e,t,this.Ye,this.je,n);return this.je=ga(),this.Je=Bh(),this.He=Bh(),this.Ye=new Sr(Nt),s}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Uw,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Yr(Nt),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Yr(Nt),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Xe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Uw),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Bh(){return new Sr(rt.comparator)}function Vw(){return new Sr(rt.comparator)}const B3={asc:"ASCENDING",desc:"DESCENDING"},z3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$3={and:"AND",or:"OR"};class W3{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ug(r,e){return r.useProto3Json||f0(e)?e:{value:e}}function jf(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ab(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function H3(r,e){return jf(r,e.toTimestamp())}function Ri(r){return Wt(!!r,49232),ft.fromTimestamp((function(t){const n=uo(t);return new lr(n.seconds,n.nanos)})(r))}function ox(r,e){return dg(r,e).canonicalString()}function dg(r,e){const t=(function(s){return new nr(["projects",s.projectId,"databases",s.database])})(r).child("documents");return e===void 0?t:t.child(e)}function ob(r){const e=nr.fromString(r);return Wt(hb(e),10190,{key:e.toString()}),e}function hg(r,e){return ox(r.databaseId,e.path)}function Np(r,e){const t=ob(e);if(t.get(1)!==r.databaseId.projectId)throw new He(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new He(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new rt(cb(t))}function lb(r,e){return ox(r.databaseId,e)}function G3(r){const e=ob(r);return e.length===4?nr.emptyPath():cb(e)}function fg(r){return new nr(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function cb(r){return Wt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Bw(r,e,t){return{name:hg(r,e),fields:t.value.mapValue.fields}}function q3(r,e){let t;if("targetChange"in e){e.targetChange;const n=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:lt(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=(function(f,g){return f.useProto3Json?(Wt(g===void 0||typeof g=="string",58123),ln.fromBase64String(g||"")):(Wt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),ln.fromUint8Array(g||new Uint8Array))})(r,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(f){const g=f.code===void 0?we.UNKNOWN:nb(f.code);return new He(g,f.message||"")})(l);t=new ib(n,s,a,u||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const s=Np(r,n.document.name),a=Ri(n.document.updateTime),l=n.document.createTime?Ri(n.document.createTime):ft.min(),u=new ns({mapValue:{fields:n.document.fields}}),h=kn.newFoundDocument(s,a,l,u),f=n.targetIds||[],g=n.removedTargetIds||[];t=new pf(f,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const s=Np(r,n.document),a=n.readTime?Ri(n.readTime):ft.min(),l=kn.newNoDocument(s,a),u=n.removedTargetIds||[];t=new pf([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const s=Np(r,n.document),a=n.removedTargetIds||[];t=new pf([],a,s,null)}else{if(!("filter"in e))return lt(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:s=0,unchangedNames:a}=n,l=new F3(s,a),u=n.targetId;t=new sb(u,l)}}return t}function K3(r,e){let t;if(e instanceof dd)t={update:Bw(r,e.key,e.value)};else if(e instanceof sx)t={delete:hg(r,e.key)};else if(e instanceof _o)t={update:Bw(r,e.key,e.data),updateMask:nP(e.fieldMask)};else{if(!(e instanceof j3))return lt(16599,{Vt:e.type});t={verify:hg(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((n=>(function(a,l){const u=l.transform;if(u instanceof qu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Ku)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Yu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Pf)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw lt(20930,{transform:l.transform})})(0,n)))),e.precondition.isNone||(t.currentDocument=(function(s,a){return a.updateTime!==void 0?{updateTime:H3(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:lt(27497)})(r,e.precondition)),t}function Y3(r,e){return r&&r.length>0?(Wt(e!==void 0,14353),r.map((t=>(function(s,a){let l=s.updateTime?Ri(s.updateTime):Ri(a);return l.isEqual(ft.min())&&(l=Ri(a)),new k3(l,s.transformResults||[])})(t,e)))):[]}function X3(r,e){return{documents:[lb(r,e.path)]}}function Q3(r,e){const t={structuredQuery:{}},n=e.path;let s;e.collectionGroup!==null?(s=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=lb(r,s);const a=(function(f){if(f.length!==0)return db(fi.create(f,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const l=(function(f){if(f.length!==0)return f.map((g=>(function(v){return{field:nc(v.field),direction:eP(v.dir)}})(g)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=ug(r,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:t,parent:s}}function J3(r){let e=G3(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let s=null;if(n>0){Wt(n===1,65062);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=(function(x){const v=ub(x);return v instanceof fi&&VE(v)?v.getFilters():[v]})(t.where));let l=[];t.orderBy&&(l=(function(x){return x.map((v=>(function(S){return new Gu(sc(S.field),(function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(v)))})(t.orderBy));let u=null;t.limit&&(u=(function(x){let v;return v=typeof x=="object"?x.value:x,f0(v)?null:v})(t.limit));let h=null;t.startAt&&(h=(function(x){const v=!!x.before,_=x.values||[];return new Rf(_,v)})(t.startAt));let f=null;return t.endAt&&(f=(function(x){const v=!x.before,_=x.values||[];return new Rf(_,v)})(t.endAt)),g3(e,s,l,a,u,"F",h,f)}function Z3(r,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return lt(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ub(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=sc(t.unaryFilter.field);return Vr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=sc(t.unaryFilter.field);return Vr.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=sc(t.unaryFilter.field);return Vr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=sc(t.unaryFilter.field);return Vr.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return lt(61313);default:return lt(60726)}})(r):r.fieldFilter!==void 0?(function(t){return Vr.create(sc(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return lt(58110);default:return lt(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return fi.create(t.compositeFilter.filters.map((n=>ub(n))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return lt(1026)}})(t.compositeFilter.op))})(r):lt(30097,{filter:r})}function eP(r){return B3[r]}function tP(r){return z3[r]}function rP(r){return $3[r]}function nc(r){return{fieldPath:r.canonicalString()}}function sc(r){return nn.fromServerFormat(r.fieldPath)}function db(r){return r instanceof Vr?(function(t){if(t.op==="=="){if(Aw(t.value))return{unaryFilter:{field:nc(t.field),op:"IS_NAN"}};if(Cw(t.value))return{unaryFilter:{field:nc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Aw(t.value))return{unaryFilter:{field:nc(t.field),op:"IS_NOT_NAN"}};if(Cw(t.value))return{unaryFilter:{field:nc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nc(t.field),op:tP(t.op),value:t.value}}})(r):r instanceof fi?(function(t){const n=t.getFilters().map((s=>db(s)));return n.length===1?n[0]:{compositeFilter:{op:rP(t.op),filters:n}}})(r):lt(54877,{filter:r})}function nP(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function hb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,t,n,s,a=ft.min(),l=ft.min(),u=ln.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new Za(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e){this.yt=e}}function iP(r){const e=J3({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?cg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(){this.Cn=new oP}addToCollectionParentIndex(e,t){return this.Cn.add(t),_e.resolve()}getCollectionParents(e,t){return _e.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return _e.resolve()}deleteFieldIndex(e,t){return _e.resolve()}deleteAllFieldIndexes(e){return _e.resolve()}createTargetIndexes(e,t){return _e.resolve()}getDocumentsMatchingTarget(e,t){return _e.resolve(null)}getIndexType(e,t){return _e.resolve(0)}getFieldIndexes(e,t){return _e.resolve([])}getNextCollectionGroupToUpdate(e){return _e.resolve(null)}getMinOffset(e,t){return _e.resolve(co.min())}getMinOffsetFromCollectionGroup(e,t){return _e.resolve(co.min())}updateCollectionGroup(e,t,n){return _e.resolve()}updateIndexEntries(e,t){return _e.resolve()}}class oP{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),s=this.index[t]||new Yr(nr.comparator),a=!s.has(n);return this.index[t]=s.add(n),a}has(e){const t=e.lastSegment(),n=e.popLast(),s=this.index[t];return s&&s.has(n)}getEntries(e){return(this.index[e]||new Yr(nr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fb=41943040;class rs{static withCacheSize(e){return new rs(e,rs.DEFAULT_COLLECTION_PERCENTILE,rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rs.DEFAULT_COLLECTION_PERCENTILE=10,rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rs.DEFAULT=new rs(fb,rs.DEFAULT_COLLECTION_PERCENTILE,rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rs.DISABLED=new rs(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ec(0)}static cr(){return new Ec(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="LruGarbageCollector",lP=1048576;function Ww([r,e],[t,n]){const s=Nt(r,t);return s===0?Nt(e,n):s}class cP{constructor(e){this.Ir=e,this.buffer=new Yr(Ww),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();Ww(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class uP{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Xe($w,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Pc(t)?Xe($w,"Ignoring IndexedDB error during garbage collection: ",t):await Rc(t)}await this.Vr(3e5)}))}}class dP{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((n=>Math.floor(t/100*n)))}nthSequenceNumber(e,t){if(t===0)return _e.resolve(h0.ce);const n=new cP(t);return this.mr.forEachTarget(e,(s=>n.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>n.Ar(s))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Xe("LruGarbageCollector","Garbage collection skipped; disabled"),_e.resolve(zw)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zw):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,s,a,l,u,h,f;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(Xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),s=this.params.maximumSequenceNumbersToCollect):s=x,l=Date.now(),this.nthSequenceNumber(e,s)))).next((x=>(n=x,u=Date.now(),this.removeTargets(e,n,t)))).next((x=>(a=x,h=Date.now(),this.removeOrphanedDocuments(e,n)))).next((x=>(f=Date.now(),tc()<=St.DEBUG&&Xe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(u-l)+`ms
	Removed ${a} targets in `+(h-u)+`ms
	Removed ${x} documents in `+(f-h)+`ms
Total Duration: ${f-g}ms`),_e.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:x}))))}}function hP(r,e){return new dP(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(){this.changes=new dl((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,kn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?_e.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e,t,n,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(n=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(n!==null&&Iu(n.mutation,s,Ts.empty(),lr.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.getLocalViewOfDocuments(e,n,Ct()).next((()=>n))))}getLocalViewOfDocuments(e,t,n=Ct()){const s=Ko();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,n).next((a=>{let l=_u();return a.forEach(((u,h)=>{l=l.insert(u,h.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const n=Ko();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Ct())))}populateOverlays(e,t,n){const s=[];return n.forEach((a=>{t.has(a)||s.push(a)})),this.documentOverlayCache.getOverlays(e,s).next((a=>{a.forEach(((l,u)=>{t.set(l,u)}))}))}computeViews(e,t,n,s){let a=ga();const l=Au(),u=(function(){return Au()})();return t.forEach(((h,f)=>{const g=n.get(f.key);s.has(f.key)&&(g===void 0||g.mutation instanceof _o)?a=a.insert(f.key,f):g!==void 0?(l.set(f.key,g.mutation.getFieldMask()),Iu(g.mutation,f,g.mutation.getFieldMask(),lr.now())):l.set(f.key,Ts.empty())})),this.recalculateAndSaveOverlays(e,a).next((h=>(h.forEach(((f,g)=>l.set(f,g))),t.forEach(((f,g)=>u.set(f,new mP(g,l.get(f)??null)))),u)))}recalculateAndSaveOverlays(e,t){const n=Au();let s=new Sr(((l,u)=>l-u)),a=Ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const u of l)u.keys().forEach((h=>{const f=t.get(h);if(f===null)return;let g=n.get(h)||Ts.empty();g=u.applyToLocalView(f,g),n.set(h,g);const x=(s.get(u.batchId)||Ct()).add(h);s=s.insert(u.batchId,x)}))})).next((()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),f=h.key,g=h.value,x=YE();g.forEach((v=>{if(!a.has(v)){const _=tb(t.get(v),n.get(v));_!==null&&x.set(v,_),a=a.add(v)}})),l.push(this.documentOverlayCache.saveOverlays(e,f,x))}return _e.waitFor(l)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,t,n,s){return(function(l){return rt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):WE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,s):this.getDocumentsMatchingCollectionQuery(e,t,n,s)}getNextDocuments(e,t,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,s).next((a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,s-a.size):_e.resolve(Ko());let u=$u,h=a;return l.next((f=>_e.forEach(f,((g,x)=>(u<x.largestBatchId&&(u=x.largestBatchId),a.get(g)?_e.resolve():this.remoteDocumentCache.getEntry(e,g).next((v=>{h=h.insert(g,v)}))))).next((()=>this.populateOverlays(e,f,a))).next((()=>this.computeViews(e,h,f,Ct()))).next((g=>({batchId:u,changes:KE(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new rt(t)).next((n=>{let s=_u();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,s){const a=t.collectionGroup;let l=_u();return this.indexManager.getCollectionParents(e,a).next((u=>_e.forEach(u,(h=>{const f=(function(x,v){return new ul(v,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(t,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,n,s).next((g=>{g.forEach(((x,v)=>{l=l.insert(x,v)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,n,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,a,s)))).next((l=>{a.forEach(((h,f)=>{const g=f.getKey();l.get(g)===null&&(l=l.insert(g,kn.newInvalidDocument(g)))}));let u=_u();return l.forEach(((h,f)=>{const g=a.get(h);g!==void 0&&Iu(g.mutation,f,Ts.empty(),lr.now()),x0(t,f)&&(u=u.insert(h,f))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return _e.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:Ri(s.createTime)}})(t)),_e.resolve()}getNamedQuery(e,t){return _e.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(s){return{name:s.name,query:iP(s.bundledQuery),readTime:Ri(s.readTime)}})(t)),_e.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(){this.overlays=new Sr(rt.comparator),this.qr=new Map}getOverlay(e,t){return _e.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Ko();return _e.forEach(t,(s=>this.getOverlay(e,s).next((a=>{a!==null&&n.set(s,a)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((s,a)=>{this.St(e,t,a)})),_e.resolve()}removeOverlaysForBatchId(e,t,n){const s=this.qr.get(n);return s!==void 0&&(s.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(n)),_e.resolve()}getOverlaysForCollection(e,t,n){const s=Ko(),a=t.length+1,l=new rt(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,f=h.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===a&&h.largestBatchId>n&&s.set(h.getKey(),h)}return _e.resolve(s)}getOverlaysForCollectionGroup(e,t,n,s){let a=new Sr(((f,g)=>f-g));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>n){let g=a.get(f.largestBatchId);g===null&&(g=Ko(),a=a.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const u=Ko(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((f,g)=>u.set(f,g))),!(u.size()>=s)););return _e.resolve(u)}St(e,t,n){const s=this.overlays.get(n.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(n.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(n.key,new O3(t,n));let a=this.qr.get(t);a===void 0&&(a=Ct(),this.qr.set(t,a)),this.qr.set(t,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return _e.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,_e.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(){this.Qr=new Yr(en.$r),this.Ur=new Yr(en.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new en(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach((n=>this.addReference(n,t)))}removeReference(e,t){this.Gr(new en(e,t))}zr(e,t){e.forEach((n=>this.removeReference(n,t)))}jr(e){const t=new rt(new nr([])),n=new en(t,e),s=new en(t,e+1),a=[];return this.Ur.forEachInRange([n,s],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new rt(new nr([])),n=new en(t,e),s=new en(t,e+1);let a=Ct();return this.Ur.forEachInRange([n,s],(l=>{a=a.add(l.key)})),a}containsKey(e){const t=new en(e,0),n=this.Qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class en{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return rt.comparator(e.key,t.key)||Nt(e.Yr,t.Yr)}static Kr(e,t){return Nt(e.Yr,t.Yr)||rt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Yr(en.$r)}checkEmpty(e){return _e.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,s){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new D3(a,t,n,s);this.mutationQueue.push(l);for(const u of s)this.Zr=this.Zr.add(new en(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return _e.resolve(l)}lookupMutationBatch(e,t){return _e.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,s=this.ei(n),a=s<0?0:s;return _e.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return _e.resolve(this.mutationQueue.length===0?Jg:this.tr-1)}getAllMutationBatches(e){return _e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new en(t,0),s=new en(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,s],(l=>{const u=this.Xr(l.Yr);a.push(u)})),_e.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Yr(Nt);return t.forEach((s=>{const a=new en(s,0),l=new en(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(u=>{n=n.add(u.Yr)}))})),_e.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,s=n.length+1;let a=n;rt.isDocumentKey(a)||(a=a.child(""));const l=new en(new rt(a),0);let u=new Yr(Nt);return this.Zr.forEachWhile((h=>{const f=h.key.path;return!!n.isPrefixOf(f)&&(f.length===s&&(u=u.add(h.Yr)),!0)}),l),_e.resolve(this.ti(u))}ti(e){const t=[];return e.forEach((n=>{const s=this.Xr(n);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Wt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return _e.forEach(t.mutations,(s=>{const a=new en(s.key,t.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,t){const n=new en(t,0),s=this.Zr.firstAfterOrEqual(n);return _e.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,_e.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e){this.ri=e,this.docs=(function(){return new Sr(rt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,s=this.docs.get(n),a=s?s.size:0,l=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return _e.resolve(n?n.document.mutableCopy():kn.newInvalidDocument(t))}getEntries(e,t){let n=ga();return t.forEach((s=>{const a=this.docs.get(s);n=n.insert(s,a?a.document.mutableCopy():kn.newInvalidDocument(s))})),_e.resolve(n)}getDocumentsMatchingQuery(e,t,n,s){let a=ga();const l=t.path,u=new rt(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:f,value:{document:g}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||KR(qR(g),n)<=0||(s.has(g.key)||x0(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return _e.resolve(a)}getAllFromCollectionGroup(e,t,n,s){lt(9500)}ii(e,t){return _e.forEach(this.docs,(n=>t(n)))}newChangeBuffer(e){return new _P(this)}getSize(e){return _e.resolve(this.size)}}class _P extends fP{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(n)})),_e.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e){this.persistence=e,this.si=new dl((t=>tx(t)),rx),this.lastRemoteSnapshotVersion=ft.min(),this.highestTargetId=0,this.oi=0,this._i=new lx,this.targetCount=0,this.ai=Ec.ur()}forEachTarget(e,t){return this.si.forEach(((n,s)=>t(s))),_e.resolve()}getLastRemoteSnapshotVersion(e){return _e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _e.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),_e.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),_e.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Ec(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,_e.resolve()}updateTargetData(e,t){return this.Pr(t),_e.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,_e.resolve()}removeTargets(e,t,n){let s=0;const a=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=t&&n.get(u.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),_e.waitFor(a).next((()=>s))}getTargetCount(e){return _e.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return _e.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),_e.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach((l=>{a.push(s.markPotentiallyOrphaned(e,l))})),_e.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),_e.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return _e.resolve(n)}containsKey(e,t){return _e.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e,t){this.ui={},this.overlays={},this.ci=new h0(0),this.li=!1,this.li=!0,this.hi=new vP,this.referenceDelegate=e(this),this.Pi=new EP(this),this.indexManager=new aP,this.remoteDocumentCache=(function(s){return new wP(s)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new sP(t),this.Ii=new gP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new xP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new yP(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){Xe("MemoryPersistence","Starting transaction:",e);const s=new bP(this.ci.next());return this.referenceDelegate.Ei(),n(s).next((a=>this.referenceDelegate.di(s).next((()=>a)))).toPromise().then((a=>(s.raiseOnCommittedEvent(),a)))}Ai(e,t){return _e.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,t))))}}class bP extends XR{constructor(e){super(),this.currentSequenceNumber=e}}class cx{constructor(e){this.persistence=e,this.Ri=new lx,this.Vi=null}static mi(e){return new cx(e)}get fi(){if(this.Vi)return this.Vi;throw lt(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),_e.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),_e.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),_e.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((s=>this.fi.add(s.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((a=>this.fi.add(a.toString())))})).next((()=>n.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _e.forEach(this.fi,(n=>{const s=rt.fromPath(n);return this.gi(e,s).next((a=>{a||t.removeEntry(s,ft.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((n=>{n?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return _e.or([()=>_e.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Df{constructor(e,t){this.persistence=e,this.pi=new dl((n=>ZR(n.path)),((n,s)=>n.isEqual(s))),this.garbageCollector=hP(this,t)}static mi(e,t){return new Df(e,t)}Ei(){}di(e){return _e.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>t.next((s=>n+s))))}wr(e){let t=0;return this.pr(e,(n=>{t++})).next((()=>t))}pr(e,t){return _e.forEach(this.pi,((n,s)=>this.br(e,n,s).next((a=>a?_e.resolve():t(s)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ii(e,(l=>this.br(e,l,t).next((u=>{u||(n++,a.removeEntry(l,ft.min()))})))).next((()=>a.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),_e.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),_e.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),_e.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),_e.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=hf(e.data.value)),t}br(e,t,n){return _e.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return _e.resolve(s!==void 0&&s>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,t,n,s){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=s}static As(e,t){let n=Ct(),s=Ct();for(const a of t.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new ux(e,t.fromCache,n,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ZC()?8:QR(On())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,s){const a={result:null};return this.ys(e,t).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,t,s,n).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new TP;return this.Ss(e,t,l).next((u=>{if(a.result=u,this.Vs)return this.bs(e,t,l,u.size)}))})).next((()=>a.result))}bs(e,t,n,s){return n.documentReadCount<this.fs?(tc()<=St.DEBUG&&Xe("QueryEngine","SDK will not create cache indexes for query:",rc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),_e.resolve()):(tc()<=St.DEBUG&&Xe("QueryEngine","Query:",rc(t),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.gs*s?(tc()<=St.DEBUG&&Xe("QueryEngine","The SDK decides to create cache indexes for query:",rc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ki(t))):_e.resolve())}ys(e,t){if(Pw(t))return _e.resolve(null);let n=ki(t);return this.indexManager.getIndexType(e,n).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=cg(t,null,"F"),n=ki(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((a=>{const l=Ct(...a);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,n).next((h=>{const f=this.Ds(t,u);return this.Cs(t,f,l,h.readTime)?this.ys(e,cg(t,null,"F")):this.vs(e,f,t,h)}))))})))))}ws(e,t,n,s){return Pw(t)||s.isEqual(ft.min())?_e.resolve(null):this.ps.getDocuments(e,n).next((a=>{const l=this.Ds(t,a);return this.Cs(t,l,n,s)?_e.resolve(null):(tc()<=St.DEBUG&&Xe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),rc(t)),this.vs(e,l,t,GR(s,$u)).next((u=>u)))}))}Ds(e,t){let n=new Yr(GE(e));return t.forEach(((s,a)=>{x0(e,a)&&(n=n.add(a))})),n}Cs(e,t,n,s){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(e,t,n){return tc()<=St.DEBUG&&Xe("QueryEngine","Using full collection scan to execute query:",rc(t)),this.ps.getDocumentsMatchingQuery(e,t,co.min(),n)}vs(e,t,n,s){return this.ps.getDocumentsMatchingQuery(e,n,s).next((a=>(t.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx="LocalStore",NP=3e8;class CP{constructor(e,t,n,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new Sr(Nt),this.xs=new dl((a=>tx(a)),rx),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function AP(r,e,t,n){return new CP(r,e,t,n)}async function pb(r,e){const t=gt(r);return await t.persistence.runTransaction("Handle user change","readonly",(n=>{let s;return t.mutationQueue.getAllMutationBatches(n).next((a=>(s=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(n)))).next((a=>{const l=[],u=[];let h=Ct();for(const f of s){l.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}for(const f of a){u.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}return t.localDocuments.getDocuments(n,h).next((f=>({Ls:f,removedBatchIds:l,addedBatchIds:u})))}))}))}function IP(r,e){const t=gt(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const s=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,h,f,g){const x=f.batch,v=x.keys();let _=_e.resolve();return v.forEach((S=>{_=_.next((()=>g.getEntry(h,S))).next((w=>{const T=f.docVersions.get(S);Wt(T!==null,48541),w.version.compareTo(T)<0&&(x.applyToRemoteDocument(w,f),w.isValidDocument()&&(w.setReadTime(f.commitVersion),g.addEntry(w)))}))})),_.next((()=>u.mutationQueue.removeMutationBatch(h,x)))})(t,n,e,a).next((()=>a.apply(n))).next((()=>t.mutationQueue.performConsistencyCheck(n))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(n,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(u){let h=Ct();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(h=h.add(u.batch.mutations[f].key));return h})(e)))).next((()=>t.localDocuments.getDocuments(n,s)))}))}function gb(r){const e=gt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function kP(r,e){const t=gt(r),n=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const u=[];e.targetChanges.forEach(((g,x)=>{const v=s.get(x);if(!v)return;u.push(t.Pi.removeMatchingKeys(a,g.removedDocuments,x).next((()=>t.Pi.addMatchingKeys(a,g.addedDocuments,x))));let _=v.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(x)!==null?_=_.withResumeToken(ln.EMPTY_BYTE_STRING,ft.min()).withLastLimboFreeSnapshotVersion(ft.min()):g.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(g.resumeToken,n)),s=s.insert(x,_),(function(w,T,j){return w.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=NP?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(v,_,g)&&u.push(t.Pi.updateTargetData(a,_))}));let h=ga(),f=Ct();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))})),u.push(RP(a,l,e.documentUpdates).next((g=>{h=g.ks,f=g.qs}))),!n.isEqual(ft.min())){const g=t.Pi.getLastRemoteSnapshotVersion(a).next((x=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,n)));u.push(g)}return _e.waitFor(u).next((()=>l.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,h,f))).next((()=>h))})).then((a=>(t.Ms=s,a)))}function RP(r,e,t){let n=Ct(),s=Ct();return t.forEach((a=>n=n.add(a))),e.getEntries(r,n).next((a=>{let l=ga();return t.forEach(((u,h)=>{const f=a.get(u);h.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(u)),h.isNoDocument()&&h.version.isEqual(ft.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):Xe(dx,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",h.version)})),{ks:l,qs:s}}))}function PP(r,e){const t=gt(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=Jg),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function jP(r,e){const t=gt(r);return t.persistence.runTransaction("Allocate target","readwrite",(n=>{let s;return t.Pi.getTargetData(n,e).next((a=>a?(s=a,_e.resolve(s)):t.Pi.allocateTargetId(n).next((l=>(s=new Za(e,l,"TargetPurposeListen",n.currentSequenceNumber),t.Pi.addTargetData(n,s).next((()=>s)))))))})).then((n=>{const s=t.Ms.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(n.targetId,n),t.xs.set(e,n.targetId)),n}))}async function mg(r,e,t){const n=gt(r),s=n.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",a,(l=>n.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!Pc(l))throw l;Xe(dx,`Failed to update sequence numbers for target ${e}: ${l}`)}n.Ms=n.Ms.remove(e),n.xs.delete(s.target)}function Hw(r,e,t){const n=gt(r);let s=ft.min(),a=Ct();return n.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,f,g){const x=gt(h),v=x.xs.get(g);return v!==void 0?_e.resolve(x.Ms.get(v)):x.Pi.getTargetData(f,g)})(n,l,ki(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(l,u.targetId).next((h=>{a=h}))})).next((()=>n.Fs.getDocumentsMatchingQuery(l,e,t?s:ft.min(),t?a:Ct()))).next((u=>(DP(n,v3(e),u),{documents:u,Qs:a})))))}function DP(r,e,t){let n=r.Os.get(e)||ft.min();t.forEach(((s,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)})),r.Os.set(e,n)}class Gw{constructor(){this.activeTargetIds=T3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OP{constructor(){this.Mo=new Gw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Gw,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="ConnectivityMonitor";class Kw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Xe(qw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Xe(qw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zh=null;function pg(){return zh===null?zh=(function(){return 268435456+Math.round(2147483648*Math.random())})():zh++,"0x"+zh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp="RestConnection",LP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MP{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${s}`,this.Wo=this.databaseId.database===If?`project_id=${n}`:`project_id=${n}&database_id=${s}`}Go(e,t,n,s,a){const l=pg(),u=this.zo(e,t.toUriEncodedString());Xe(Cp,`Sending RPC '${e}' ${l}:`,u,n);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,s,a);const{host:f}=new URL(u),g=Oi(f);return this.Jo(e,u,h,n,g).then((x=>(Xe(Cp,`Received RPC '${e}' ${l}: `,x),x)),(x=>{throw tl(Cp,`RPC '${e}' ${l} failed with error: `,x,"url: ",u,"request:",n),x}))}Ho(e,t,n,s,a,l){return this.Go(e,t,n,s,a)}jo(e,t,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+kc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,a)=>e[a]=s)),n&&n.headers.forEach(((s,a)=>e[a]=s))}zo(e,t){const n=LP[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An="WebChannelConnection";class VP extends MP{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,s,a){const l=pg();return new Promise(((u,h)=>{const f=new vE;f.setWithCredentials(!0),f.listenOnce(yE.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case df.NO_ERROR:const x=f.getResponseJson();Xe(An,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(x)),u(x);break;case df.TIMEOUT:Xe(An,`RPC '${e}' ${l} timed out`),h(new He(we.DEADLINE_EXCEEDED,"Request time out"));break;case df.HTTP_ERROR:const v=f.getStatus();if(Xe(An,`RPC '${e}' ${l} failed with status:`,v,"response text:",f.getResponseText()),v>0){let _=f.getResponseJson();Array.isArray(_)&&(_=_[0]);const S=_==null?void 0:_.error;if(S&&S.status&&S.message){const w=(function(j){const D=j.toLowerCase().replace(/_/g,"-");return Object.values(we).indexOf(D)>=0?D:we.UNKNOWN})(S.status);h(new He(w,S.message))}else h(new He(we.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new He(we.UNAVAILABLE,"Connection failed."));break;default:lt(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Xe(An,`RPC '${e}' ${l} completed.`)}}));const g=JSON.stringify(s);Xe(An,`RPC '${e}' ${l} sending request:`,s),f.send(t,"POST",g,n,15)}))}T_(e,t,n){const s=pg(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=EE(),u=_E(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,t,n),h.encodeInitMessageHeaders=!0;const g=a.join("");Xe(An,`Creating RPC '${e}' stream ${s}: ${g}`,h);const x=l.createWebChannel(g,h);this.I_(x);let v=!1,_=!1;const S=new UP({Yo:T=>{_?Xe(An,`Not sending because RPC '${e}' stream ${s} is closed:`,T):(v||(Xe(An,`Opening RPC '${e}' stream ${s} transport.`),x.open(),v=!0),Xe(An,`RPC '${e}' stream ${s} sending:`,T),x.send(T))},Zo:()=>x.close()}),w=(T,j,D)=>{T.listen(j,(L=>{try{D(L)}catch(M){setTimeout((()=>{throw M}),0)}}))};return w(x,wu.EventType.OPEN,(()=>{_||(Xe(An,`RPC '${e}' stream ${s} transport opened.`),S.o_())})),w(x,wu.EventType.CLOSE,(()=>{_||(_=!0,Xe(An,`RPC '${e}' stream ${s} transport closed`),S.a_(),this.E_(x))})),w(x,wu.EventType.ERROR,(T=>{_||(_=!0,tl(An,`RPC '${e}' stream ${s} transport errored. Name:`,T.name,"Message:",T.message),S.a_(new He(we.UNAVAILABLE,"The operation could not be completed")))})),w(x,wu.EventType.MESSAGE,(T=>{var j;if(!_){const D=T.data[0];Wt(!!D,16349);const L=D,M=(L==null?void 0:L.error)||((j=L[0])==null?void 0:j.error);if(M){Xe(An,`RPC '${e}' stream ${s} received error:`,M);const Z=M.status;let Q=(function(A){const P=Ur[A];if(P!==void 0)return nb(P)})(Z),N=M.message;Q===void 0&&(Q=we.INTERNAL,N="Unknown error status: "+Z+" with message "+M.message),_=!0,S.a_(new He(Q,N)),x.close()}else Xe(An,`RPC '${e}' stream ${s} received:`,D),S.u_(D)}})),w(u,wE.STAT_EVENT,(T=>{T.stat===rg.PROXY?Xe(An,`RPC '${e}' stream ${s} detected buffering proxy`):T.stat===rg.NOPROXY&&Xe(An,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{S.__()}),0),S}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Ap(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(r){return new W3(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,t,n=1e3,s=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=s,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-n);s>0&&Xe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="PersistentStream";class vb{constructor(e,t,n,s,a,l,u,h){this.Mi=e,this.S_=n,this.b_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new xb(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===we.RESOURCE_EXHAUSTED?(pa(t.toString()),pa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===we.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,s])=>{this.D_===t&&this.G_(n,s)}),(n=>{e((()=>{const s=new He(we.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(s)}))}))}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{n((()=>this.z_(s)))})),this.stream.onMessage((s=>{n((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Xe(Yw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(Xe(Yw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class BP extends vb{constructor(e,t,n,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,s,l),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=q3(this.serializer,e),n=(function(a){if(!("targetChange"in a))return ft.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?ft.min():l.readTime?Ri(l.readTime):ft.min()})(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=fg(this.serializer),t.addTarget=(function(a,l){let u;const h=l.target;if(u=og(h)?{documents:X3(a,h)}:{query:Q3(a,h).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=ab(a,l.resumeToken);const f=ug(a,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(ft.min())>0){u.readTime=jf(a,l.snapshotVersion.toTimestamp());const f=ug(a,l.expectedCount);f!==null&&(u.expectedCount=f)}return u})(this.serializer,e);const n=Z3(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=fg(this.serializer),t.removeTarget=e,this.q_(t)}}class zP extends vb{constructor(e,t,n,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,s,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Wt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Wt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Wt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=Y3(e.writeResults,e.commitTime),n=Ri(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=fg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((n=>K3(this.serializer,n)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{}class WP extends $P{constructor(e,t,n,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new He(we.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,dg(t,n),s,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new He(we.UNKNOWN,a.toString())}))}Ho(e,t,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,dg(t,n),s,l,u,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new He(we.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class HP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(pa(t),this.aa=!1):Xe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl="RemoteStore";class GP{constructor(e,t,n,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{n.enqueueAndForget((async()=>{hl(this)&&(Xe(rl,"Restarting streams for network reachability change."),await(async function(h){const f=gt(h);f.Ea.add(4),await fd(f),f.Ra.set("Unknown"),f.Ea.delete(4),await E0(f)})(this))}))})),this.Ra=new HP(n,s)}}async function E0(r){if(hl(r))for(const e of r.da)await e(!0)}async function fd(r){for(const e of r.da)await e(!1)}function yb(r,e){const t=gt(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),px(t)?mx(t):jc(t).O_()&&fx(t,e))}function hx(r,e){const t=gt(r),n=jc(t);t.Ia.delete(e),n.O_()&&wb(t,e),t.Ia.size===0&&(n.O_()?n.L_():hl(t)&&t.Ra.set("Unknown"))}function fx(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ft.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}jc(r).Y_(e)}function wb(r,e){r.Va.Ue(e),jc(r).Z_(e)}function mx(r){r.Va=new V3({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),jc(r).start(),r.Ra.ua()}function px(r){return hl(r)&&!jc(r).x_()&&r.Ia.size>0}function hl(r){return gt(r).Ea.size===0}function _b(r){r.Va=void 0}async function qP(r){r.Ra.set("Online")}async function KP(r){r.Ia.forEach(((e,t)=>{fx(r,e)}))}async function YP(r,e){_b(r),px(r)?(r.Ra.ha(e),mx(r)):r.Ra.set("Unknown")}async function XP(r,e,t){if(r.Ra.set("Online"),e instanceof ib&&e.state===2&&e.cause)try{await(async function(s,a){const l=a.cause;for(const u of a.targetIds)s.Ia.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s.Ia.delete(u),s.Va.removeTarget(u))})(r,e)}catch(n){Xe(rl,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Of(r,n)}else if(e instanceof pf?r.Va.Ze(e):e instanceof sb?r.Va.st(e):r.Va.tt(e),!t.isEqual(ft.min()))try{const n=await gb(r.localStore);t.compareTo(n)>=0&&await(function(a,l){const u=a.Va.Tt(l);return u.targetChanges.forEach(((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const g=a.Ia.get(f);g&&a.Ia.set(f,g.withResumeToken(h.resumeToken,l))}})),u.targetMismatches.forEach(((h,f)=>{const g=a.Ia.get(h);if(!g)return;a.Ia.set(h,g.withResumeToken(ln.EMPTY_BYTE_STRING,g.snapshotVersion)),wb(a,h);const x=new Za(g.target,h,f,g.sequenceNumber);fx(a,x)})),a.remoteSyncer.applyRemoteEvent(u)})(r,t)}catch(n){Xe(rl,"Failed to raise snapshot:",n),await Of(r,n)}}async function Of(r,e,t){if(!Pc(e))throw e;r.Ea.add(1),await fd(r),r.Ra.set("Offline"),t||(t=()=>gb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{Xe(rl,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await E0(r)}))}function Eb(r,e){return e().catch((t=>Of(r,t,e)))}async function b0(r){const e=gt(r),t=mo(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Jg;for(;QP(e);)try{const s=await PP(e.localStore,n);if(s===null){e.Ta.length===0&&t.L_();break}n=s.batchId,JP(e,s)}catch(s){await Of(e,s)}bb(e)&&Tb(e)}function QP(r){return hl(r)&&r.Ta.length<10}function JP(r,e){r.Ta.push(e);const t=mo(r);t.O_()&&t.X_&&t.ea(e.mutations)}function bb(r){return hl(r)&&!mo(r).x_()&&r.Ta.length>0}function Tb(r){mo(r).start()}async function ZP(r){mo(r).ra()}async function ej(r){const e=mo(r);for(const t of r.Ta)e.ea(t.mutations)}async function tj(r,e,t){const n=r.Ta.shift(),s=ix.from(n,e,t);await Eb(r,(()=>r.remoteSyncer.applySuccessfulWrite(s))),await b0(r)}async function rj(r,e){e&&mo(r).X_&&await(async function(n,s){if((function(l){return L3(l)&&l!==we.ABORTED})(s.code)){const a=n.Ta.shift();mo(n).B_(),await Eb(n,(()=>n.remoteSyncer.rejectFailedWrite(a.batchId,s))),await b0(n)}})(r,e),bb(r)&&Tb(r)}async function Xw(r,e){const t=gt(r);t.asyncQueue.verifyOperationInProgress(),Xe(rl,"RemoteStore received new credentials");const n=hl(t);t.Ea.add(3),await fd(t),n&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await E0(t)}async function nj(r,e){const t=gt(r);e?(t.Ea.delete(2),await E0(t)):e||(t.Ea.add(2),await fd(t),t.Ra.set("Unknown"))}function jc(r){return r.ma||(r.ma=(function(t,n,s){const a=gt(t);return a.sa(),new BP(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(r.datastore,r.asyncQueue,{Xo:qP.bind(null,r),t_:KP.bind(null,r),r_:YP.bind(null,r),H_:XP.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),px(r)?mx(r):r.Ra.set("Unknown")):(await r.ma.stop(),_b(r))}))),r.ma}function mo(r){return r.fa||(r.fa=(function(t,n,s){const a=gt(t);return a.sa(),new zP(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:ZP.bind(null,r),r_:rj.bind(null,r),ta:ej.bind(null,r),na:tj.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await b0(r)):(await r.fa.stop(),r.Ta.length>0&&(Xe(rl,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,t,n,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=s,this.removalCallback=a,this.deferred=new oa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,s,a){const l=Date.now()+n,u=new gx(e,t,l,s,a);return u.start(n),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new He(we.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xx(r,e){if(pa("AsyncQueue",`${e}: ${r}`),Pc(r))return new He(we.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{static emptySet(e){return new hc(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||rt.comparator(t.key,n.key):(t,n)=>rt.comparator(t.key,n.key),this.keyedMap=_u(),this.sortedSet=new Sr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof hc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=n.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new hc;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(){this.ga=new Sr(rt.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):lt(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,n)=>{e.push(n)})),e}}class bc{constructor(e,t,n,s,a,l,u,h,f){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,t,n,s,a){const l=[];return t.forEach((u=>{l.push({type:0,doc:u})})),new bc(e,t,hc.emptySet(t),l,n,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&g0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==n[s].type||!t[s].doc.isEqual(n[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class ij{constructor(){this.queries=Jw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,n){const s=gt(t),a=s.queries;s.queries=Jw(),a.forEach(((l,u)=>{for(const h of u.Sa)h.onError(n)}))})(this,new He(we.ABORTED,"Firestore shutting down"))}}function Jw(){return new dl((r=>HE(r)),g0)}async function vx(r,e){const t=gt(r);let n=3;const s=e.query;let a=t.queries.get(s);a?!a.ba()&&e.Da()&&(n=2):(a=new sj,n=e.Da()?0:1);try{switch(n){case 0:a.wa=await t.onListen(s,!0);break;case 1:a.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(l){const u=xx(l,`Initialization of query '${rc(e.query)}' failed`);return void e.onError(u)}t.queries.set(s,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&wx(t)}async function yx(r,e){const t=gt(r),n=e.query;let s=3;const a=t.queries.get(n);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?s=e.Da()?0:1:!a.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function aj(r,e){const t=gt(r);let n=!1;for(const s of e){const a=s.query,l=t.queries.get(a);if(l){for(const u of l.Sa)u.Fa(s)&&(n=!0);l.wa=s}}n&&wx(t)}function oj(r,e,t){const n=gt(r),s=n.queries.get(e);if(s)for(const a of s.Sa)a.onError(t);n.queries.delete(e)}function wx(r){r.Ca.forEach((e=>{e.next()}))}var gg,Zw;(Zw=gg||(gg={})).Ma="default",Zw.Cache="cache";class _x{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const s of e.docChanges)s.type!==3&&n.push(s);e=new bc(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const n=t!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=bc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==gg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e){this.key=e}}class Nb{constructor(e){this.key=e}}class lj{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ct(),this.mutatedKeys=Ct(),this.eu=GE(e),this.tu=new hc(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new Qw,s=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,l=s,u=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,x)=>{const v=s.get(g),_=x0(this.query,x)?x:null,S=!!v&&this.mutatedKeys.has(v.key),w=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let T=!1;v&&_?v.data.isEqual(_.data)?S!==w&&(n.track({type:3,doc:_}),T=!0):this.su(v,_)||(n.track({type:2,doc:_}),T=!0,(h&&this.eu(_,h)>0||f&&this.eu(_,f)<0)&&(u=!0)):!v&&_?(n.track({type:0,doc:_}),T=!0):v&&!_&&(n.track({type:1,doc:v}),T=!0,(h||f)&&(u=!0)),T&&(_?(l=l.add(_),a=w?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),n.track({type:1,doc:g})}return{tu:l,iu:n,Cs:u,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,s){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((g,x)=>(function(_,S){const w=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lt(20277,{Rt:T})}};return w(_)-w(S)})(g.type,x.type)||this.eu(g.doc,x.doc))),this.ou(n),s=s??!1;const u=t&&!s?this._u():[],h=this.Xa.size===0&&this.current&&!s?1:0,f=h!==this.Za;return this.Za=h,l.length!==0||f?{snapshot:new bc(this.query,e.tu,a,l,e.mutatedKeys,h===0,f,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Qw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ct(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const t=[];return e.forEach((n=>{this.Xa.has(n)||t.push(new Nb(n))})),this.Xa.forEach((n=>{e.has(n)||t.push(new Sb(n))})),t}cu(e){this.Ya=e.Qs,this.Xa=Ct();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return bc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ex="SyncEngine";class cj{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class uj{constructor(e){this.key=e,this.hu=!1}}class dj{constructor(e,t,n,s,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new dl((u=>HE(u)),g0),this.Iu=new Map,this.Eu=new Set,this.du=new Sr(rt.comparator),this.Au=new Map,this.Ru=new lx,this.Vu={},this.mu=new Map,this.fu=Ec.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function hj(r,e,t=!0){const n=Pb(r);let s;const a=n.Tu.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await Cb(n,e,t,!0),s}async function fj(r,e){const t=Pb(r);await Cb(t,e,!0,!1)}async function Cb(r,e,t,n){const s=await jP(r.localStore,ki(e)),a=s.targetId,l=r.sharedClientState.addLocalQueryTarget(a,t);let u;return n&&(u=await mj(r,e,a,l==="current",s.resumeToken)),r.isPrimaryClient&&t&&yb(r.remoteStore,s),u}async function mj(r,e,t,n,s){r.pu=(x,v,_)=>(async function(w,T,j,D){let L=T.view.ru(j);L.Cs&&(L=await Hw(w.localStore,T.query,!1).then((({documents:N})=>T.view.ru(N,L))));const M=D&&D.targetChanges.get(T.targetId),Z=D&&D.targetMismatches.get(T.targetId)!=null,Q=T.view.applyChanges(L,w.isPrimaryClient,M,Z);return t_(w,T.targetId,Q.au),Q.snapshot})(r,x,v,_);const a=await Hw(r.localStore,e,!0),l=new lj(e,a.Qs),u=l.ru(a.documents),h=hd.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",s),f=l.applyChanges(u,r.isPrimaryClient,h);t_(r,t,f.au);const g=new cj(e,t,l);return r.Tu.set(e,g),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),f.snapshot}async function pj(r,e,t){const n=gt(r),s=n.Tu.get(e),a=n.Iu.get(s.targetId);if(a.length>1)return n.Iu.set(s.targetId,a.filter((l=>!g0(l,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await mg(n.localStore,s.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(s.targetId),t&&hx(n.remoteStore,s.targetId),xg(n,s.targetId)})).catch(Rc)):(xg(n,s.targetId),await mg(n.localStore,s.targetId,!0))}async function gj(r,e){const t=gt(r),n=t.Tu.get(e),s=t.Iu.get(n.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),hx(t.remoteStore,n.targetId))}async function xj(r,e,t){const n=Tj(r);try{const s=await(function(l,u){const h=gt(l),f=lr.now(),g=u.reduce(((_,S)=>_.add(S.key)),Ct());let x,v;return h.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let S=ga(),w=Ct();return h.Ns.getEntries(_,g).next((T=>{S=T,S.forEach(((j,D)=>{D.isValidDocument()||(w=w.add(j))}))})).next((()=>h.localDocuments.getOverlayedDocuments(_,S))).next((T=>{x=T;const j=[];for(const D of u){const L=P3(D,x.get(D.key).overlayedDocument);L!=null&&j.push(new _o(D.key,L,LE(L.value.mapValue),Vs.exists(!0)))}return h.mutationQueue.addMutationBatch(_,f,j,u)})).next((T=>{v=T;const j=T.applyToLocalDocumentSet(x,w);return h.documentOverlayCache.saveOverlays(_,T.batchId,j)}))})).then((()=>({batchId:v.batchId,changes:KE(x)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(s.batchId),(function(l,u,h){let f=l.Vu[l.currentUser.toKey()];f||(f=new Sr(Nt)),f=f.insert(u,h),l.Vu[l.currentUser.toKey()]=f})(n,s.batchId,t),await md(n,s.changes),await b0(n.remoteStore)}catch(s){const a=xx(s,"Failed to persist write");t.reject(a)}}async function Ab(r,e){const t=gt(r);try{const n=await kP(t.localStore,e);e.targetChanges.forEach(((s,a)=>{const l=t.Au.get(a);l&&(Wt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?Wt(l.hu,14607):s.removedDocuments.size>0&&(Wt(l.hu,42227),l.hu=!1))})),await md(t,n,e)}catch(n){await Rc(n)}}function e_(r,e,t){const n=gt(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const s=[];n.Tu.forEach(((a,l)=>{const u=l.view.va(e);u.snapshot&&s.push(u.snapshot)})),(function(l,u){const h=gt(l);h.onlineState=u;let f=!1;h.queries.forEach(((g,x)=>{for(const v of x.Sa)v.va(u)&&(f=!0)})),f&&wx(h)})(n.eventManager,e),s.length&&n.Pu.H_(s),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function vj(r,e,t){const n=gt(r);n.sharedClientState.updateQueryState(e,"rejected",t);const s=n.Au.get(e),a=s&&s.key;if(a){let l=new Sr(rt.comparator);l=l.insert(a,kn.newNoDocument(a,ft.min()));const u=Ct().add(a),h=new w0(ft.min(),new Map,new Sr(Nt),l,u);await Ab(n,h),n.du=n.du.remove(a),n.Au.delete(e),bx(n)}else await mg(n.localStore,e,!1).then((()=>xg(n,e,t))).catch(Rc)}async function yj(r,e){const t=gt(r),n=e.batch.batchId;try{const s=await IP(t.localStore,e);kb(t,n,null),Ib(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await md(t,s)}catch(s){await Rc(s)}}async function wj(r,e,t){const n=gt(r);try{const s=await(function(l,u){const h=gt(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let g;return h.mutationQueue.lookupMutationBatch(f,u).next((x=>(Wt(x!==null,37113),g=x.keys(),h.mutationQueue.removeMutationBatch(f,x)))).next((()=>h.mutationQueue.performConsistencyCheck(f))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(f,g,u))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g))).next((()=>h.localDocuments.getDocuments(f,g)))}))})(n.localStore,e);kb(n,e,t),Ib(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await md(n,s)}catch(s){await Rc(s)}}function Ib(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function kb(r,e,t){const n=gt(r);let s=n.Vu[n.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),n.Vu[n.currentUser.toKey()]=s}}function xg(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Iu.get(e))r.Tu.delete(n),t&&r.Pu.yu(n,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((n=>{r.Ru.containsKey(n)||Rb(r,n)}))}function Rb(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(hx(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),bx(r))}function t_(r,e,t){for(const n of t)n instanceof Sb?(r.Ru.addReference(n.key,e),_j(r,n)):n instanceof Nb?(Xe(Ex,"Document no longer in limbo: "+n.key),r.Ru.removeReference(n.key,e),r.Ru.containsKey(n.key)||Rb(r,n.key)):lt(19791,{wu:n})}function _j(r,e){const t=e.key,n=t.path.canonicalString();r.du.get(t)||r.Eu.has(n)||(Xe(Ex,"New document in limbo: "+t),r.Eu.add(n),bx(r))}function bx(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new rt(nr.fromString(e)),n=r.fu.next();r.Au.set(n,new uj(t)),r.du=r.du.insert(t,n),yb(r.remoteStore,new Za(ki(p0(t.path)),n,"TargetPurposeLimboResolution",h0.ce))}}async function md(r,e,t){const n=gt(r),s=[],a=[],l=[];n.Tu.isEmpty()||(n.Tu.forEach(((u,h)=>{l.push(n.pu(h,e,t).then((f=>{var g;if((f||t)&&n.isPrimaryClient){const x=f?!f.fromCache:(g=t==null?void 0:t.targetChanges.get(h.targetId))==null?void 0:g.current;n.sharedClientState.updateQueryState(h.targetId,x?"current":"not-current")}if(f){s.push(f);const x=ux.As(h.targetId,f);a.push(x)}})))})),await Promise.all(l),n.Pu.H_(s),await(async function(h,f){const g=gt(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>_e.forEach(f,(v=>_e.forEach(v.Es,(_=>g.persistence.referenceDelegate.addReference(x,v.targetId,_))).next((()=>_e.forEach(v.ds,(_=>g.persistence.referenceDelegate.removeReference(x,v.targetId,_)))))))))}catch(x){if(!Pc(x))throw x;Xe(dx,"Failed to update sequence numbers: "+x)}for(const x of f){const v=x.targetId;if(!x.fromCache){const _=g.Ms.get(v),S=_.snapshotVersion,w=_.withLastLimboFreeSnapshotVersion(S);g.Ms=g.Ms.insert(v,w)}}})(n.localStore,a))}async function Ej(r,e){const t=gt(r);if(!t.currentUser.isEqual(e)){Xe(Ex,"User change. New user:",e.toKey());const n=await pb(t.localStore,e);t.currentUser=e,(function(a,l){a.mu.forEach((u=>{u.forEach((h=>{h.reject(new He(we.CANCELLED,l))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await md(t,n.Ls)}}function bj(r,e){const t=gt(r),n=t.Au.get(e);if(n&&n.hu)return Ct().add(n.key);{let s=Ct();const a=t.Iu.get(e);if(!a)return s;for(const l of a){const u=t.Tu.get(l);s=s.unionWith(u.view.nu)}return s}}function Pb(r){const e=gt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ab.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vj.bind(null,e),e.Pu.H_=aj.bind(null,e.eventManager),e.Pu.yu=oj.bind(null,e.eventManager),e}function Tj(r){const e=gt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wj.bind(null,e),e}class Ff{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_0(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return AP(this.persistence,new SP,e.initialUser,this.serializer)}Cu(e){return new mb(cx.mi,this.serializer)}Du(e){return new OP}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ff.provider={build:()=>new Ff};class Sj extends Ff{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Wt(this.persistence.referenceDelegate instanceof Df,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new uP(n,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?rs.withCacheSize(this.cacheSizeBytes):rs.DEFAULT;return new mb((n=>Df.mi(n,t)),this.serializer)}}class vg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>e_(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ej.bind(null,this.syncEngine),await nj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ij})()}createDatastore(e){const t=_0(e.databaseInfo.databaseId),n=(function(a){return new VP(a)})(e.databaseInfo);return(function(a,l,u,h){return new WP(a,l,u,h)})(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return(function(n,s,a,l,u){return new GP(n,s,a,l,u)})(this.localStore,this.datastore,e.asyncQueue,(t=>e_(this.syncEngine,t,0)),(function(){return Kw.v()?new Kw:new FP})())}createSyncEngine(e,t){return(function(s,a,l,u,h,f,g){const x=new dj(s,a,l,u,h,f);return g&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(s){const a=gt(s);Xe(rl,"RemoteStore shutting down."),a.Ea.add(5),await fd(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}vg.provider={build:()=>new vg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):pa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po="FirestoreClient";class Nj{constructor(e,t,n,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=s,this.user=In.UNAUTHENTICATED,this.clientId=u0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,(async l=>{Xe(po,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(n,(l=>(Xe(po,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new oa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=xx(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Ip(r,e){r.asyncQueue.verifyOperationInProgress(),Xe(po,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener((async s=>{n.isEqual(s)||(await pb(e.localStore,s),n=s)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function r_(r,e){r.asyncQueue.verifyOperationInProgress();const t=await Cj(r);Xe(po,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((n=>Xw(e.remoteStore,n))),r.setAppCheckTokenChangeListener(((n,s)=>Xw(e.remoteStore,s))),r._onlineComponents=e}async function Cj(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Xe(po,"Using user provided OfflineComponentProvider");try{await Ip(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===we.FAILED_PRECONDITION||s.code===we.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;tl("Error using user provided cache. Falling back to memory cache: "+t),await Ip(r,new Ff)}}else Xe(po,"Using default OfflineComponentProvider"),await Ip(r,new Sj(void 0));return r._offlineComponents}async function jb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Xe(po,"Using user provided OnlineComponentProvider"),await r_(r,r._uninitializedComponentsProvider._online)):(Xe(po,"Using default OnlineComponentProvider"),await r_(r,new vg))),r._onlineComponents}function Aj(r){return jb(r).then((e=>e.syncEngine))}async function Lf(r){const e=await jb(r),t=e.eventManager;return t.onListen=hj.bind(null,e.syncEngine),t.onUnlisten=pj.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=fj.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=gj.bind(null,e.syncEngine),t}function Ij(r,e,t={}){const n=new oa;return r.asyncQueue.enqueueAndForget((async()=>(function(a,l,u,h,f){const g=new Tx({next:v=>{g.Nu(),l.enqueueAndForget((()=>yx(a,x)));const _=v.docs.has(u);!_&&v.fromCache?f.reject(new He(we.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&v.fromCache&&h&&h.source==="server"?f.reject(new He(we.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),x=new _x(p0(u.path),g,{includeMetadataChanges:!0,qa:!0});return vx(a,x)})(await Lf(r),r.asyncQueue,e,t,n))),n.promise}function kj(r,e,t={}){const n=new oa;return r.asyncQueue.enqueueAndForget((async()=>(function(a,l,u,h,f){const g=new Tx({next:v=>{g.Nu(),l.enqueueAndForget((()=>yx(a,x))),v.fromCache&&h.source==="server"?f.reject(new He(we.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),x=new _x(u,g,{includeMetadataChanges:!0,qa:!0});return vx(a,x)})(await Lf(r),r.asyncQueue,e,t,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="firestore.googleapis.com",s_=!0;class i_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new He(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ob,this.ssl=s_}else this.host=e.host,this.ssl=e.ssl??s_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lP)throw new He(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NE("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Db(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new He(we.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new He(we.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new He(we.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,s){return n.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pd{constructor(e,t,n,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new i_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new He(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new He(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new i_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new SE;switch(n.type){case"firstParty":return new VR(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new He(we.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const n=n_.get(t);n&&(Xe("ComponentProvider","Removing Datastore"),n_.delete(t),n.terminate())})(this),Promise.resolve()}}function Fb(r,e,t,n={}){var f;r=Rn(r,pd);const s=Oi(e),a=r._getSettings(),l={...a,emulatorOptions:r._getEmulatorOptions()},u=`${e}:${t}`;s&&(s0(`https://${u}`),i0("Firestore",!0)),a.host!==Ob&&a.host!==u&&tl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...a,host:u,ssl:s,emulatorOptions:n};if(!Qo(h,l)&&(r._setSettings(h),n.mockUserToken)){let g,x;if(typeof n.mockUserToken=="string")g=n.mockUserToken,x=In.MOCK_USER;else{g=k2(n.mockUserToken,(f=r._app)==null?void 0:f.options.projectId);const v=n.mockUserToken.sub||n.mockUserToken.user_id;if(!v)throw new He(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new In(v)}r._authCredentials=new LR(new TE(g,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ui(this.firestore,e,this._query)}}class Tr{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new la(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tr(this.firestore,e,this._key)}toJSON(){return{type:Tr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(ud(t,Tr._jsonSchema))return new Tr(e,n||null,new rt(nr.fromString(t.referencePath)))}}Tr._jsonSchemaVersion="firestore/documentReference/1.0",Tr._jsonSchema={type:Br("string",Tr._jsonSchemaVersion),referencePath:Br("string")};class la extends Ui{constructor(e,t,n){super(e,t,p0(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tr(this.firestore,null,new rt(e))}withConverter(e){return new la(this.firestore,e,this._path)}}function ht(r,e,...t){if(r=Zt(r),Qg("collection","path",e),r instanceof pd){const n=nr.fromString(e,...t);return vw(n),new la(r,null,n)}{if(!(r instanceof Tr||r instanceof la))throw new He(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(nr.fromString(e,...t));return vw(n),new la(r.firestore,null,n)}}function Lb(r,e){if(r=Rn(r,pd),Qg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new He(we.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ui(r,null,(function(n){return new ul(nr.emptyPath(),n)})(e))}function bt(r,e,...t){if(r=Zt(r),arguments.length===1&&(e=u0.newId()),Qg("doc","path",e),r instanceof pd){const n=nr.fromString(e,...t);return xw(n),new Tr(r,null,new rt(n))}{if(!(r instanceof Tr||r instanceof la))throw new He(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(nr.fromString(e,...t));return xw(n),new Tr(r.firestore,r instanceof la?r.converter:null,new rt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="AsyncQueue";class o_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new xb(this,"async_queue_retry"),this._c=()=>{const n=Ap();n&&Xe(a_,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const t=Ap();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Ap();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new oa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Pc(e))throw e;Xe(a_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,pa("INTERNAL UNHANDLED ERROR: ",l_(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=gx.createAndSchedule(this,e,t,n,(a=>this.hc(a)));return this.tc.push(s),s}uc(){this.nc&&lt(47125,{Pc:l_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,n)=>t.targetTimeMs-n.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function l_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(r){return(function(t,n){if(typeof t!="object"||t===null)return!1;const s=t;for(const a of n)if(a in s&&typeof s[a]=="function")return!0;return!1})(r,["next","error","complete"])}class ji extends pd{constructor(e,t,n,s){super(e,t,n,s),this.type="firestore",this._queue=new o_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new o_(e),this._firestoreClient=void 0,await e}}}function Mb(r,e){const t=typeof r=="object"?r:a0(),n=typeof r=="string"?r:If,s=id(t,"firestore").getImmediate({identifier:n});if(!s._initialized){const a=Dg("firestore");a&&Fb(s,...a)}return s}function gd(r){if(r._terminated)throw new He(we.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Rj(r),r._firestoreClient}function Rj(r){var n,s,a;const e=r._freezeSettings(),t=(function(u,h,f,g){return new r3(u,h,f,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,Db(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,((n=r._app)==null?void 0:n.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new Nj(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Es(ln.fromBase64String(e))}catch(t){throw new He(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Es(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Es._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ud(e,Es._jsonSchema))return Es.fromBase64String(e.bytes)}}Es._jsonSchemaVersion="firestore/bytes/1.0",Es._jsonSchema={type:Br("string",Es._jsonSchemaVersion),bytes:Br("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new He(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new He(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new He(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Nt(this._lat,e._lat)||Nt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ui._jsonSchemaVersion}}static fromJSON(e){if(ud(e,ui._jsonSchema))return new ui(e.latitude,e.longitude)}}ui._jsonSchemaVersion="firestore/geoPoint/1.0",ui._jsonSchema={type:Br("string",ui._jsonSchemaVersion),latitude:Br("number"),longitude:Br("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,s){if(n.length!==s.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==s[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ud(e,di._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new di(e.vectorValues);throw new He(we.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}di._jsonSchemaVersion="firestore/vectorValue/1.0",di._jsonSchema={type:Br("string",di._jsonSchemaVersion),vectorValues:Br("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj=/^__.*__$/;class jj{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new _o(e,this.data,this.fieldMask,t,this.fieldTransforms):new dd(e,this.data,t,this.fieldTransforms)}}class Ub{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new _o(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Vb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lt(40011,{Ac:r})}}class Sx{constructor(e,t,n,s,a,l){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=s,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Sx({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const t=(s=this.path)==null?void 0:s.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){var s;const t=(s=this.path)==null?void 0:s.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Mf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Vb(this.Ac)&&Pj.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Dj{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||_0(e)}Cc(e,t,n,s=!1){return new Sx({Ac:e,methodName:t,Dc:n,path:nn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function T0(r){const e=r._freezeSettings(),t=_0(r._databaseId);return new Dj(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Bb(r,e,t,n,s,a={}){const l=r.Cc(a.merge||a.mergeFields?2:0,e,t,s);Cx("Data must be an object, but it was:",l,n);const u=zb(n,l);let h,f;if(a.merge)h=new Ts(l.fieldMask),f=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const x of a.mergeFields){const v=yg(e,x,t);if(!l.contains(v))throw new He(we.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);Wb(g,v)||g.push(v)}h=new Ts(g),f=l.fieldTransforms.filter((x=>h.covers(x.field)))}else h=null,f=l.fieldTransforms;return new jj(new ns(u),h,f)}class S0 extends vd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof S0}}class Nx extends vd{_toFieldTransform(e){return new A3(e.path,new qu)}isEqual(e){return e instanceof Nx}}function Oj(r,e,t,n){const s=r.Cc(1,e,t);Cx("Data must be an object, but it was:",s,n);const a=[],l=ns.empty();wo(n,((h,f)=>{const g=Ax(e,h,t);f=Zt(f);const x=s.yc(g);if(f instanceof S0)a.push(g);else{const v=yd(f,x);v!=null&&(a.push(g),l.set(g,v))}}));const u=new Ts(a);return new Ub(l,u,s.fieldTransforms)}function Fj(r,e,t,n,s,a){const l=r.Cc(1,e,t),u=[yg(e,n,t)],h=[s];if(a.length%2!=0)throw new He(we.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<a.length;v+=2)u.push(yg(e,a[v])),h.push(a[v+1]);const f=[],g=ns.empty();for(let v=u.length-1;v>=0;--v)if(!Wb(f,u[v])){const _=u[v];let S=h[v];S=Zt(S);const w=l.yc(_);if(S instanceof S0)f.push(_);else{const T=yd(S,w);T!=null&&(f.push(_),g.set(_,T))}}const x=new Ts(f);return new Ub(g,x,l.fieldTransforms)}function Lj(r,e,t,n=!1){return yd(t,r.Cc(n?4:3,e))}function yd(r,e){if($b(r=Zt(r)))return Cx("Unsupported field value:",e,r),zb(r,e);if(r instanceof vd)return(function(n,s){if(!Vb(s.Ac))throw s.Sc(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(s);a&&s.fieldTransforms.push(a)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,s){const a=[];let l=0;for(const u of n){let h=yd(u,s.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}})(r,e)}return(function(n,s){if((n=Zt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return S3(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=lr.fromDate(n);return{timestampValue:jf(s.serializer,a)}}if(n instanceof lr){const a=new lr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:jf(s.serializer,a)}}if(n instanceof ui)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Es)return{bytesValue:ab(s.serializer,n._byteString)};if(n instanceof Tr){const a=s.databaseId,l=n.firestore._databaseId;if(!l.isEqual(a))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:ox(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof di)return(function(l,u){return{mapValue:{fields:{[OE]:{stringValue:FE},[kf]:{arrayValue:{values:l.toArray().map((f=>{if(typeof f!="number")throw u.Sc("VectorValues must only contain numeric values.");return nx(u.serializer,f)}))}}}}}})(n,s);throw s.Sc(`Unsupported field value: ${d0(n)}`)})(r,e)}function zb(r,e){const t={};return IE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wo(r,((n,s)=>{const a=yd(s,e.mc(n));a!=null&&(t[n]=a)})),{mapValue:{fields:t}}}function $b(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof lr||r instanceof ui||r instanceof Es||r instanceof Tr||r instanceof vd||r instanceof di)}function Cx(r,e,t){if(!$b(t)||!CE(t)){const n=d0(t);throw n==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+n)}}function yg(r,e,t){if((e=Zt(e))instanceof xd)return e._internalPath;if(typeof e=="string")return Ax(r,e);throw Mf("Field path arguments must be of type string or ",r,!1,void 0,t)}const Mj=new RegExp("[~\\*/\\[\\]]");function Ax(r,e,t){if(e.search(Mj)>=0)throw Mf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new xd(...e.split("."))._internalPath}catch{throw Mf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Mf(r,e,t,n,s){const a=n&&!n.isEmpty(),l=s!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${n}`),l&&(h+=` in document ${s}`),h+=")"),new He(we.INVALID_ARGUMENT,u+r+h)}function Wb(r,e){return r.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,t,n,s,a){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Tr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Uj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(N0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Uj extends Hb{data(){return super.data()}}function N0(r,e){return typeof e=="string"?Ax(r,e):e instanceof xd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new He(we.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ix{}class kx extends Ix{}function _r(r,e,...t){let n=[];e instanceof Ix&&n.push(e),n=n.concat(t),(function(a){const l=a.filter((h=>h instanceof C0)).length,u=a.filter((h=>h instanceof wd)).length;if(l>1||l>0&&u>0)throw new He(we.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const s of n)r=s._apply(r);return r}class wd extends kx{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new wd(e,t,n)}_apply(e){const t=this._parse(e);return qb(e._query,t),new Ui(e.firestore,e.converter,lg(e._query,t))}_parse(e){const t=T0(e.firestore);return(function(a,l,u,h,f,g,x){let v;if(f.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new He(we.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){d_(x,g);const S=[];for(const w of x)S.push(u_(h,a,w));v={arrayValue:{values:S}}}else v=u_(h,a,x)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||d_(x,g),v=Lj(u,l,x,g==="in"||g==="not-in");return Vr.create(f,g,v)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Er(r,e,t){const n=e,s=N0("where",r);return wd._create(s,n,t)}class C0 extends Ix{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new C0(e,t)}_parse(e){const t=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return t.length===1?t[0]:fi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,a){let l=s;const u=a.getFlattenedFilters();for(const h of u)qb(l,h),l=lg(l,h)})(e._query,t),new Ui(e.firestore,e.converter,lg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class A0 extends kx{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new A0(e,t)}_apply(e){const t=(function(s,a,l){if(s.startAt!==null)throw new He(we.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new He(we.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gu(a,l)})(e._query,this._field,this._direction);return new Ui(e.firestore,e.converter,(function(s,a){const l=s.explicitOrderBy.concat([a]);return new ul(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,t))}}function si(r,e="asc"){const t=e,n=N0("orderBy",r);return A0._create(n,t)}function u_(r,e,t){if(typeof(t=Zt(t))=="string"){if(t==="")throw new He(we.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WE(e)&&t.indexOf("/")!==-1)throw new He(we.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(nr.fromString(t));if(!rt.isDocumentKey(n))throw new He(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Nw(r,new rt(n))}if(t instanceof Tr)return Nw(r,t._key);throw new He(we.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${d0(t)}.`)}function d_(r,e){if(!Array.isArray(r)||r.length===0)throw new He(we.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qb(r,e){const t=(function(s,a){for(const l of s)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null})(r.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new He(we.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new He(we.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Kb{convertValue(e,t="none"){switch(fo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ho(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw lt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return wo(e,((s,a)=>{n[s]=this.convertValue(a,t)})),n}convertVectorValue(e){var n,s,a;const t=(a=(s=(n=e.fields)==null?void 0:n[kf].arrayValue)==null?void 0:s.values)==null?void 0:a.map((l=>jr(l.doubleValue)));return new di(t)}convertGeoPoint(e){return new ui(jr(e.latitude),jr(e.longitude))}convertArray(e,t){return(e.values||[]).map((n=>this.convertValue(n,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=m0(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Wu(e));default:return null}}convertTimestamp(e){const t=uo(e);return new lr(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=nr.fromString(e);Wt(hb(n),9688,{name:e});const s=new yc(n.get(1),n.get(3)),a=new rt(n.popFirst(5));return s.isEqual(t)||pa(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(r,e,t){let n;return n=r?r.toFirestore(e):e,n}class ac{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ao extends Hb{constructor(e,t,n,s,a,l){super(e,t,n,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ku(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(N0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new He(we.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ao._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ao._jsonSchemaVersion="firestore/documentSnapshot/1.0",ao._jsonSchema={type:Br("string",ao._jsonSchemaVersion),bundleSource:Br("string","DocumentSnapshot"),bundleName:Br("string"),bundle:Br("string")};class ku extends ao{data(e={}){return super.data(e)}}class oo{constructor(e,t,n,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new ac(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new ku(this._firestore,this._userDataWriter,n.key,n,new ac(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new He(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((u=>{const h=new ku(s._firestore,s._userDataWriter,u.doc.key,u.doc,new ac(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((u=>a||u.type!==3)).map((u=>{const h=new ku(s._firestore,s._userDataWriter,u.doc.key,u.doc,new ac(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,g=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),g=l.indexOf(u.doc.key)),{type:Vj(u.type),doc:h,oldIndex:f,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new He(we.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=oo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=u0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],s=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Vj(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lt(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(r){r=Rn(r,Tr);const e=Rn(r.firestore,ji);return Ij(gd(e),r._key).then((t=>Xb(e,r,t)))}oo._jsonSchemaVersion="firestore/querySnapshot/1.0",oo._jsonSchema={type:Br("string",oo._jsonSchemaVersion),bundleSource:Br("string","QuerySnapshot"),bundleName:Br("string"),bundle:Br("string")};class Rx extends Kb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Es(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tr(this.firestore,null,t)}}function or(r){r=Rn(r,Ui);const e=Rn(r.firestore,ji),t=gd(e),n=new Rx(e);return Gb(r._query),kj(t,r._query).then((s=>new oo(e,n,r,s)))}function Tc(r,e,t){r=Rn(r,Tr);const n=Rn(r.firestore,ji),s=Yb(r.converter,e);return _d(n,[Bb(T0(n),"setDoc",r._key,s,r.converter!==null,t).toMutation(r._key,Vs.none())])}function Kr(r,e,t,...n){r=Rn(r,Tr);const s=Rn(r.firestore,ji),a=T0(s);let l;return l=typeof(e=Zt(e))=="string"||e instanceof xd?Fj(a,"updateDoc",r._key,e,t,n):Oj(a,"updateDoc",r._key,e),_d(s,[l.toMutation(r._key,Vs.exists(!0))])}function Px(r){return _d(Rn(r.firestore,ji),[new sx(r._key,Vs.none())])}function bs(r,e){const t=Rn(r.firestore,ji),n=bt(r),s=Yb(r.converter,e);return _d(t,[Bb(T0(r.firestore),"addDoc",n._key,s,r.converter!==null,{}).toMutation(n._key,Vs.exists(!1))]).then((()=>n))}function ii(r,...e){var h,f,g;r=Zt(r);let t={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||c_(e[n])||(t=e[n++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(c_(e[n])){const x=e[n];e[n]=(h=x.next)==null?void 0:h.bind(x),e[n+1]=(f=x.error)==null?void 0:f.bind(x),e[n+2]=(g=x.complete)==null?void 0:g.bind(x)}let a,l,u;if(r instanceof Tr)l=Rn(r.firestore,ji),u=p0(r._key.path),a={next:x=>{e[n]&&e[n](Xb(l,r,x))},error:e[n+1],complete:e[n+2]};else{const x=Rn(r,Ui);l=Rn(x.firestore,ji),u=x._query;const v=new Rx(l);a={next:_=>{e[n]&&e[n](new oo(l,v,x,_))},error:e[n+1],complete:e[n+2]},Gb(r._query)}return(function(v,_,S,w){const T=new Tx(w),j=new _x(_,T,S);return v.asyncQueue.enqueueAndForget((async()=>vx(await Lf(v),j))),()=>{T.Nu(),v.asyncQueue.enqueueAndForget((async()=>yx(await Lf(v),j)))}})(gd(l),u,s,a)}function _d(r,e){return(function(n,s){const a=new oa;return n.asyncQueue.enqueueAndForget((async()=>xj(await Aj(n),s,a))),a.promise})(gd(r),e)}function Xb(r,e,t){const n=t.docs.get(e._key),s=new Rx(r);return new ao(r,s,e._key,n,new ac(t.hasPendingWrites,t.fromCache),e.converter)}function tn(){return new Nx("serverTimestamp")}(function(e,t=!0){(function(s){kc=s})(cl),lo(new ha("firestore",((n,{instanceIdentifier:s,options:a})=>{const l=n.getProvider("app").getImmediate(),u=new ji(new MR(n.getProvider("auth-internal")),new BR(l,n.getProvider("app-check-internal")),(function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new He(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yc(f.options.projectId,g)})(l,s),l);return a={useFetchStreams:t,...a},u._setSettings(a),u}),"PUBLIC").setMultipleInstances(!0)),Us(fw,mw,e),Us(fw,mw,"esm2020")})();const Bj=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:Kb,Bytes:Es,CollectionReference:la,DocumentReference:Tr,DocumentSnapshot:ao,FieldPath:xd,FieldValue:vd,Firestore:ji,FirestoreError:He,GeoPoint:ui,Query:Ui,QueryCompositeFilterConstraint:C0,QueryConstraint:kx,QueryDocumentSnapshot:ku,QueryFieldFilterConstraint:wd,QueryOrderByConstraint:A0,QuerySnapshot:oo,SnapshotMetadata:ac,Timestamp:lr,VectorValue:di,_AutoId:u0,_ByteString:ln,_DatabaseId:yc,_DocumentKey:rt,_EmptyAuthCredentialsProvider:SE,_FieldPath:nn,_cast:Rn,_logWarn:tl,_validateIsNotUsedTogether:NE,addDoc:bs,collection:ht,collectionGroup:Lb,connectFirestoreEmulator:Fb,deleteDoc:Px,doc:bt,ensureFirestoreConfigured:gd,executeWrite:_d,getDoc:is,getDocs:or,getFirestore:Mb,onSnapshot:ii,orderBy:si,query:_r,serverTimestamp:tn,setDoc:Tc,updateDoc:Kr,where:Er},Symbol.toStringTag,{value:"Module"}));var zj="firebase",$j="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Us(zj,$j,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb="firebasestorage.googleapis.com",Jb="storageBucket",Wj=120*1e3,Hj=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends mi{constructor(e,t,n=0){super(kp(e),`Firebase Storage: ${t} (${kp(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,kr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return kp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ir;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ir||(Ir={}));function kp(r){return"storage/"+r}function jx(){const r="An unknown error occurred, please check the error payload for server response.";return new kr(Ir.UNKNOWN,r)}function Gj(r){return new kr(Ir.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function qj(r){return new kr(Ir.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Kj(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new kr(Ir.UNAUTHENTICATED,r)}function Yj(){return new kr(Ir.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Xj(r){return new kr(Ir.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function Qj(){return new kr(Ir.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Jj(){return new kr(Ir.CANCELED,"User canceled the upload/download.")}function Zj(r){return new kr(Ir.INVALID_URL,"Invalid URL '"+r+"'.")}function e6(r){return new kr(Ir.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function t6(){return new kr(Ir.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Jb+"' property when initializing the app?")}function r6(){return new kr(Ir.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function n6(){return new kr(Ir.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function s6(r){return new kr(Ir.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function wg(r){return new kr(Ir.INVALID_ARGUMENT,r)}function Zb(){return new kr(Ir.APP_DELETED,"The Firebase app was deleted.")}function i6(r){return new kr(Ir.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ru(r,e){return new kr(Ir.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function gu(r){throw new kr(Ir.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Ss.makeFromUrl(e,t)}catch{return new Ss(e,"")}if(n.path==="")return n;throw e6(e)}static makeFromUrl(e,t){let n=null;const s="([A-Za-z0-9.\\-_]+)";function a(M){M.path.charAt(M.path.length-1)==="/"&&(M.path_=M.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+s+l,"i"),h={bucket:1,path:3};function f(M){M.path_=decodeURIComponent(M.path)}const g="v[A-Za-z0-9_]+",x=t.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",_=new RegExp(`^https?://${x}/${g}/b/${s}/o${v}`,"i"),S={bucket:1,path:3},w=t===Qb?"(?:storage.googleapis.com|storage.cloud.google.com)":t,T="([^?#]*)",j=new RegExp(`^https?://${w}/${s}/${T}`,"i"),L=[{regex:u,indices:h,postModify:a},{regex:_,indices:S,postModify:f},{regex:j,indices:{bucket:1,path:2},postModify:f}];for(let M=0;M<L.length;M++){const Z=L[M],Q=Z.regex.exec(e);if(Q){const N=Q[Z.indices.bucket];let I=Q[Z.indices.path];I||(I=""),n=new Ss(N,I),Z.postModify(n);break}}if(n==null)throw Zj(e);return n}}class a6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o6(r,e,t){let n=1,s=null,a=null,l=!1,u=0;function h(){return u===2}let f=!1;function g(...T){f||(f=!0,e.apply(null,T))}function x(T){s=setTimeout(()=>{s=null,r(_,h())},T)}function v(){a&&clearTimeout(a)}function _(T,...j){if(f){v();return}if(T){v(),g.call(null,T,...j);return}if(h()||l){v(),g.call(null,T,...j);return}n<64&&(n*=2);let L;u===1?(u=2,L=0):L=(n+Math.random())*1e3,x(L)}let S=!1;function w(T){S||(S=!0,v(),!f&&(s!==null?(T||(u=2),clearTimeout(s),x(0)):T||(u=1)))}return x(0),a=setTimeout(()=>{l=!0,w(!0)},t),w}function l6(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c6(r){return r!==void 0}function u6(r){return typeof r=="object"&&!Array.isArray(r)}function Dx(r){return typeof r=="string"||r instanceof String}function h_(r){return Ox()&&r instanceof Blob}function Ox(){return typeof Blob<"u"}function f_(r,e,t,n){if(n<e)throw wg(`Invalid value for '${r}'. Expected ${e} or greater.`);if(n>t)throw wg(`Invalid value for '${r}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(r,e,t){let n=e;return t==null&&(n=`https://${e}`),`${t}://${n}/v0${r}`}function eT(r){const e=encodeURIComponent;let t="?";for(const n in r)if(r.hasOwnProperty(n)){const s=e(n)+"="+e(r[n]);t=t+s+"&"}return t=t.slice(0,-1),t}var Yo;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Yo||(Yo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d6(r,e){const t=r>=500&&r<600,s=[408,429].indexOf(r)!==-1,a=e.indexOf(r)!==-1;return t||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e,t,n,s,a,l,u,h,f,g,x,v=!0,_=!1){this.url_=e,this.method_=t,this.headers_=n,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=g,this.connectionFactory_=x,this.retry=v,this.isUsingEmulator=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,w)=>{this.resolve_=S,this.reject_=w,this.start_()})}start_(){const e=(n,s)=>{if(s){n(!1,new $h(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=u=>{const h=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const u=a.getErrorCode()===Yo.NO_ERROR,h=a.getStatus();if(!u||d6(h,this.additionalRetryCodes_)&&this.retry){const g=a.getErrorCode()===Yo.ABORT;n(!1,new $h(!1,null,g));return}const f=this.successCodes_.indexOf(h)!==-1;n(!0,new $h(f,a))})},t=(n,s)=>{const a=this.resolve_,l=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const h=this.callback_(u,u.getResponse());c6(h)?a(h):a()}catch(h){l(h)}else if(u!==null){const h=jx();h.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,h)):l(h)}else if(s.canceled){const h=this.appDelete_?Zb():Jj();l(h)}else{const h=Qj();l(h)}};this.canceled_?t(!1,new $h(!1,null,!0)):this.backoffId_=o6(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&l6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class $h{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function f6(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function m6(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function p6(r,e){e&&(r["X-Firebase-GMPID"]=e)}function g6(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function x6(r,e,t,n,s,a,l=!0,u=!1){const h=eT(r.urlParams),f=r.url+h,g=Object.assign({},r.headers);return p6(g,e),f6(g,t),m6(g,a),g6(g,n),new h6(f,r.method,g,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,s,l,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function y6(...r){const e=v6();if(e!==void 0){const t=new e;for(let n=0;n<r.length;n++)t.append(r[n]);return t.getBlob()}else{if(Ox())return new Blob(r);throw new kr(Ir.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function w6(r,e,t){return r.webkitSlice?r.webkitSlice(e,t):r.mozSlice?r.mozSlice(e,t):r.slice?r.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _6(r){if(typeof atob>"u")throw s6("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Rp{constructor(e,t){this.data=e,this.contentType=t||null}}function E6(r,e){switch(r){case Ai.RAW:return new Rp(tT(e));case Ai.BASE64:case Ai.BASE64URL:return new Rp(rT(r,e));case Ai.DATA_URL:return new Rp(T6(e),S6(e))}throw jx()}function tT(r){const e=[];for(let t=0;t<r.length;t++){let n=r.charCodeAt(t);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(t<r.length-1&&(r.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=n,l=r.charCodeAt(++t);n=65536|(a&1023)<<10|l&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function b6(r){let e;try{e=decodeURIComponent(r)}catch{throw Ru(Ai.DATA_URL,"Malformed data URL.")}return tT(e)}function rT(r,e){switch(r){case Ai.BASE64:{const s=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(s||a)throw Ru(r,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Ai.BASE64URL:{const s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a)throw Ru(r,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=_6(e)}catch(s){throw s.message.includes("polyfill")?s:Ru(r,"Invalid character found")}const n=new Uint8Array(t.length);for(let s=0;s<t.length;s++)n[s]=t.charCodeAt(s);return n}class nT{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Ru(Ai.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;n!=null&&(this.base64=N6(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function T6(r){const e=new nT(r);return e.base64?rT(Ai.BASE64,e.rest):b6(e.rest)}function S6(r){return new nT(r).contentType}function N6(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,t){let n=0,s="";h_(e)?(this.data_=e,n=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(h_(this.data_)){const n=this.data_,s=w6(n,e,t);return s===null?null:new Qa(s)}else{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Qa(n,!0)}}static getBlob(...e){if(Ox()){const t=e.map(n=>n instanceof Qa?n.data_:n);return new Qa(y6.apply(null,t))}else{const t=e.map(l=>Dx(l)?E6(Ai.RAW,l).data:l.data_);let n=0;t.forEach(l=>{n+=l.byteLength});const s=new Uint8Array(n);let a=0;return t.forEach(l=>{for(let u=0;u<l.length;u++)s[a++]=l[u]}),new Qa(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(r){let e;try{e=JSON.parse(r)}catch{return null}return u6(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C6(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function A6(r,e){const t=e.split("/").filter(n=>n.length>0).join("/");return r.length===0?t:r+"/"+t}function iT(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I6(r,e){return e}class Vn{constructor(e,t,n,s){this.server=e,this.local=t||e,this.writable=!!n,this.xform=s||I6}}let Wh=null;function k6(r){return!Dx(r)||r.length<2?r:iT(r)}function aT(){if(Wh)return Wh;const r=[];r.push(new Vn("bucket")),r.push(new Vn("generation")),r.push(new Vn("metageneration")),r.push(new Vn("name","fullPath",!0));function e(a,l){return k6(l)}const t=new Vn("name");t.xform=e,r.push(t);function n(a,l){return l!==void 0?Number(l):l}const s=new Vn("size");return s.xform=n,r.push(s),r.push(new Vn("timeCreated")),r.push(new Vn("updated")),r.push(new Vn("md5Hash",null,!0)),r.push(new Vn("cacheControl",null,!0)),r.push(new Vn("contentDisposition",null,!0)),r.push(new Vn("contentEncoding",null,!0)),r.push(new Vn("contentLanguage",null,!0)),r.push(new Vn("contentType",null,!0)),r.push(new Vn("metadata","customMetadata",!0)),Wh=r,Wh}function R6(r,e){function t(){const n=r.bucket,s=r.fullPath,a=new Ss(n,s);return e._makeStorageReference(a)}Object.defineProperty(r,"ref",{get:t})}function P6(r,e,t){const n={};n.type="file";const s=t.length;for(let a=0;a<s;a++){const l=t[a];n[l.local]=l.xform(n,e[l.server])}return R6(n,r),n}function oT(r,e,t){const n=sT(e);return n===null?null:P6(r,n,t)}function j6(r,e,t,n){const s=sT(e);if(s===null||!Dx(s.downloadTokens))return null;const a=s.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(f=>{const g=r.bucket,x=r.fullPath,v="/b/"+l(g)+"/o/"+l(x),_=Fx(v,t,n),S=eT({alt:"media",token:f});return _+S})[0]}function D6(r,e){const t={},n=e.length;for(let s=0;s<n;s++){const a=e[s];a.writable&&(t[a.server]=r[a.local])}return JSON.stringify(t)}class lT{constructor(e,t,n,s){this.url=e,this.method=t,this.handler=n,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(r){if(!r)throw jx()}function O6(r,e){function t(n,s){const a=oT(r,s,e);return cT(a!==null),a}return t}function F6(r,e){function t(n,s){const a=oT(r,s,e);return cT(a!==null),j6(a,s,r.host,r._protocol)}return t}function uT(r){function e(t,n){let s;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?s=Yj():s=Kj():t.getStatus()===402?s=qj(r.bucket):t.getStatus()===403?s=Xj(r.path):s=n,s.status=t.getStatus(),s.serverResponse=n.serverResponse,s}return e}function L6(r){const e=uT(r);function t(n,s){let a=e(n,s);return n.getStatus()===404&&(a=Gj(r.path)),a.serverResponse=s.serverResponse,a}return t}function M6(r,e,t){const n=e.fullServerUrl(),s=Fx(n,r.host,r._protocol),a="GET",l=r.maxOperationRetryTime,u=new lT(s,a,F6(r,t),l);return u.errorHandler=L6(e),u}function U6(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function V6(r,e,t){const n=Object.assign({},t);return n.fullPath=r.path,n.size=e.size(),n.contentType||(n.contentType=U6(null,e)),n}function B6(r,e,t,n,s){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function u(){let L="";for(let M=0;M<2;M++)L=L+Math.random().toString().slice(2);return L}const h=u();l["Content-Type"]="multipart/related; boundary="+h;const f=V6(e,n,s),g=D6(f,t),x="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+h+`\r
Content-Type: `+f.contentType+`\r
\r
`,v=`\r
--`+h+"--",_=Qa.getBlob(x,n,v);if(_===null)throw r6();const S={name:f.fullPath},w=Fx(a,r.host,r._protocol),T="POST",j=r.maxUploadRetryTime,D=new lT(w,T,O6(r,t),j);return D.urlParams=S,D.headers=l,D.body=_.uploadData(),D.errorHandler=uT(e),D}class z6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Yo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Yo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Yo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,s,a){if(this.sent_)throw gu("cannot .send() more than once");if(Oi(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw gu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw gu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw gu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw gu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class $6 extends z6{initXhr(){this.xhr_.responseType="text"}}function dT(){return new $6}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,t){this._service=e,t instanceof Ss?this._location=t:this._location=Ss.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new nl(e,t)}get root(){const e=new Ss(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return iT(this._location.path)}get storage(){return this._service}get parent(){const e=C6(this._location.path);if(e===null)return null;const t=new Ss(this._location.bucket,e);return new nl(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw i6(e)}}function W6(r,e,t){r._throwIfRoot("uploadBytes");const n=B6(r.storage,r._location,aT(),new Qa(e,!0),t);return r.storage.makeRequestWithTokens(n,dT).then(s=>({metadata:s,ref:r}))}function H6(r){r._throwIfRoot("getDownloadURL");const e=M6(r.storage,r._location,aT());return r.storage.makeRequestWithTokens(e,dT).then(t=>{if(t===null)throw n6();return t})}function G6(r,e){const t=A6(r._location.path,e),n=new Ss(r._location.bucket,t);return new nl(r.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6(r){return/^[A-Za-z]+:\/\//.test(r)}function K6(r,e){return new nl(r,e)}function hT(r,e){if(r instanceof Lx){const t=r;if(t._bucket==null)throw t6();const n=new nl(t,t._bucket);return e!=null?hT(n,e):n}else return e!==void 0?G6(r,e):r}function Y6(r,e){if(e&&q6(e)){if(r instanceof Lx)return K6(r,e);throw wg("To use ref(service, url), the first argument must be a Storage instance.")}else return hT(r,e)}function m_(r,e){const t=e==null?void 0:e[Jb];return t==null?null:Ss.makeFromBucketSpec(t,r)}function X6(r,e,t,n={}){r.host=`${e}:${t}`;const s=Oi(e);s&&(s0(`https://${r.host}/b`),i0("Storage",!0)),r._isUsingEmulator=!0,r._protocol=s?"https":"http";const{mockUserToken:a}=n;a&&(r._overrideAuthToken=typeof a=="string"?a:k2(a,r.app.options.projectId))}class Lx{constructor(e,t,n,s,a,l=!1){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=s,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=Qb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Wj,this._maxUploadRetryTime=Hj,this._requests=new Set,s!=null?this._bucket=Ss.makeFromBucketSpec(s,this._host):this._bucket=m_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ss.makeFromBucketSpec(this._url,e):this._bucket=m_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){f_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){f_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new nl(this,e)}_makeRequest(e,t,n,s,a=!0){if(this._deleted)return new a6(Zb());{const l=x6(e,this._appId,n,s,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[n,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,s).getPromise()}}const p_="@firebase/storage",g_="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="storage";function Mx(r,e,t){return r=Zt(r),W6(r,e,t)}function Ux(r){return r=Zt(r),H6(r)}function Vx(r,e){return r=Zt(r),Y6(r,e)}function I0(r=a0(),e){r=Zt(r);const n=id(r,fT).getImmediate({identifier:e}),s=Dg("storage");return s&&Q6(n,...s),n}function Q6(r,e,t,n={}){X6(r,e,t,n)}function J6(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),n=r.getProvider("auth-internal"),s=r.getProvider("app-check-internal");return new Lx(t,n,s,e,cl)}function Z6(){lo(new ha(fT,J6,"PUBLIC").setMultipleInstances(!0)),Us(p_,g_,""),Us(p_,g_,"esm2020")}Z6();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD="type.googleapis.com/google.protobuf.Int64Value",tD="type.googleapis.com/google.protobuf.UInt64Value";function mT(r,e){const t={};for(const n in r)r.hasOwnProperty(n)&&(t[n]=e(r[n]));return t}function Uf(r){if(r==null)return null;if(r instanceof Number&&(r=r.valueOf()),typeof r=="number"&&isFinite(r)||r===!0||r===!1||Object.prototype.toString.call(r)==="[object String]")return r;if(r instanceof Date)return r.toISOString();if(Array.isArray(r))return r.map(e=>Uf(e));if(typeof r=="function"||typeof r=="object")return mT(r,e=>Uf(e));throw new Error("Data cannot be encoded in JSON: "+r)}function Sc(r){if(r==null)return r;if(r["@type"])switch(r["@type"]){case eD:case tD:{const e=Number(r.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+r);return e}default:throw new Error("Data cannot be decoded from JSON: "+r)}return Array.isArray(r)?r.map(e=>Sc(e)):typeof r=="function"||typeof r=="object"?mT(r,e=>Sc(e)):r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ss extends mi{constructor(e,t,n){super(`${Bx}/${e}`,t||""),this.details=n,Object.setPrototypeOf(this,ss.prototype)}}function rD(r){if(r>=200&&r<300)return"ok";switch(r){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Vf(r,e){let t=rD(r),n=t,s;try{const a=e&&e.error;if(a){const l=a.status;if(typeof l=="string"){if(!x_[l])return new ss("internal","internal");t=x_[l],n=l}const u=a.message;typeof u=="string"&&(n=u),s=a.details,s!==void 0&&(s=Sc(s))}}catch{}return t==="ok"?null:new ss(t,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,t,n,s){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Wn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(a=>this.auth=a,()=>{}),this.messaging||n.get().then(a=>this.messaging=a,()=>{}),this.appCheck||s==null||s.get().then(a=>this.appCheck=a,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),n=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:t,messagingToken:n,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g="us-central1",sD=/^data: (.*?)(?:\n|$)/;function iD(r){let e=null;return{promise:new Promise((t,n)=>{e=setTimeout(()=>{n(new ss("deadline-exceeded","deadline-exceeded"))},r)}),cancel:()=>{e&&clearTimeout(e)}}}class aD{constructor(e,t,n,s,a=_g,l=(...u)=>fetch(...u)){this.app=e,this.fetchImpl=l,this.emulatorOrigin=null,this.contextProvider=new nD(e,t,n,s),this.cancelAllRequests=new Promise(u=>{this.deleteService=()=>Promise.resolve(u())});try{const u=new URL(a);this.customDomain=u.origin+(u.pathname==="/"?"":u.pathname),this.region=_g}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function oD(r,e,t){const n=Oi(e);r.emulatorOrigin=`http${n?"s":""}://${e}:${t}`,n&&(s0(r.emulatorOrigin+"/backends"),i0("Functions",!0))}function lD(r,e,t){const n=s=>uD(r,e,s,{});return n.stream=(s,a)=>hD(r,e,s,a),n}function pT(r){return r.emulatorOrigin&&Oi(r.emulatorOrigin)?"include":void 0}async function cD(r,e,t,n,s){t["Content-Type"]="application/json";let a;try{a=await n(r,{method:"POST",body:JSON.stringify(e),headers:t,credentials:pT(s)})}catch{return{status:0,json:null}}let l=null;try{l=await a.json()}catch{}return{status:a.status,json:l}}async function gT(r,e){const t={},n=await r.contextProvider.getContext(e.limitedUseAppCheckTokens);return n.authToken&&(t.Authorization="Bearer "+n.authToken),n.messagingToken&&(t["Firebase-Instance-ID-Token"]=n.messagingToken),n.appCheckToken!==null&&(t["X-Firebase-AppCheck"]=n.appCheckToken),t}function uD(r,e,t,n){const s=r._url(e);return dD(r,s,t,n)}async function dD(r,e,t,n){t=Uf(t);const s={data:t},a=await gT(r,n),l=n.timeout||7e4,u=iD(l),h=await Promise.race([cD(e,s,a,r.fetchImpl,r),u.promise,r.cancelAllRequests]);if(u.cancel(),!h)throw new ss("cancelled","Firebase Functions instance was deleted.");const f=Vf(h.status,h.json);if(f)throw f;if(!h.json)throw new ss("internal","Response is not valid JSON object.");let g=h.json.data;if(typeof g>"u"&&(g=h.json.result),typeof g>"u")throw new ss("internal","Response is missing data field.");return{data:Sc(g)}}function hD(r,e,t,n){const s=r._url(e);return fD(r,s,t,n||{})}async function fD(r,e,t,n){var v;t=Uf(t);const s={data:t},a=await gT(r,n);a["Content-Type"]="application/json",a.Accept="text/event-stream";let l;try{l=await r.fetchImpl(e,{method:"POST",body:JSON.stringify(s),headers:a,signal:n==null?void 0:n.signal,credentials:pT(r)})}catch(_){if(_ instanceof Error&&_.name==="AbortError"){const w=new ss("cancelled","Request was cancelled.");return{data:Promise.reject(w),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(w)}}}}}}const S=Vf(0,null);return{data:Promise.reject(S),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(S)}}}}}}let u,h;const f=new Promise((_,S)=>{u=_,h=S});(v=n==null?void 0:n.signal)==null||v.addEventListener("abort",()=>{const _=new ss("cancelled","Request was cancelled.");h(_)});const g=l.body.getReader(),x=mD(g,u,h,n==null?void 0:n.signal);return{stream:{[Symbol.asyncIterator](){const _=x.getReader();return{async next(){const{value:S,done:w}=await _.read();return{value:S,done:w}},async return(){return await _.cancel(),{done:!0,value:void 0}}}}},data:f}}function mD(r,e,t,n){const s=(l,u)=>{const h=l.match(sD);if(!h)return;const f=h[1];try{const g=JSON.parse(f);if("result"in g){e(Sc(g.result));return}if("message"in g){u.enqueue(Sc(g.message));return}if("error"in g){const x=Vf(0,g);u.error(x),t(x);return}}catch(g){if(g instanceof ss){u.error(g),t(g);return}}},a=new TextDecoder;return new ReadableStream({start(l){let u="";return h();async function h(){if(n!=null&&n.aborted){const f=new ss("cancelled","Request was cancelled");return l.error(f),t(f),Promise.resolve()}try{const{value:f,done:g}=await r.read();if(g){u.trim()&&s(u.trim(),l),l.close();return}if(n!=null&&n.aborted){const v=new ss("cancelled","Request was cancelled");l.error(v),t(v),await r.cancel();return}u+=a.decode(f,{stream:!0});const x=u.split(`
`);u=x.pop()||"";for(const v of x)v.trim()&&s(v.trim(),l);return h()}catch(f){const g=f instanceof ss?f:Vf(0,null);l.error(g),t(g)}}},cancel(){return r.cancel()}})}const v_="@firebase/functions",y_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD="auth-internal",gD="app-check-internal",xD="messaging-internal";function vD(r){const e=(t,{instanceIdentifier:n})=>{const s=t.getProvider("app").getImmediate(),a=t.getProvider(pD),l=t.getProvider(xD),u=t.getProvider(gD);return new aD(s,a,l,u,n)};lo(new ha(Bx,e,"PUBLIC").setMultipleInstances(!0)),Us(v_,y_,r),Us(v_,y_,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(r=a0(),e=_g){const n=id(Zt(r),Bx).getImmediate({identifier:e}),s=Dg("functions");return s&&wD(n,...s),n}function wD(r,e,t){oD(Zt(r),e,t)}function Pp(r,e,t){return lD(Zt(r),e)}vD();const _D={apiKey:"AIzaSyAXI-FScHr5vfyO-sou19DdbsGUA8T_LfI",authDomain:"evnty-124fb.firebaseapp.com",projectId:"evnty-124fb",storageBucket:"evnty-124fb.firebasestorage.app",messagingSenderId:"239918583479",appId:"1:239918583479:web:39dd6cf16cac6d0f134732",measurementId:"G-KKH3K46WB8"},k0=j2(_D),$n=OR(k0),We=Mb(k0);I0(k0);const jp=yD(k0),Nc=r=>{const e={};return Object.keys(r).forEach(t=>{const n=r[t];if(n!==void 0)if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const s=Nc(n);Object.keys(s).length>0&&(e[t]=s)}else e[t]=n}),e},ED=new na,Hh={signIn:async(r,e)=>{try{return{user:(await wk($n,r,e)).user}}catch(t){throw new Error(t.message||"Failed to sign in")}},signUp:async(r,e)=>{try{return{user:(await iE($n,r,e)).user}}catch(t){throw new Error(t.message||"Failed to create account")}},signInWithGoogle:async()=>{try{return{user:(await Wk($n,ED)).user}}catch(r){throw new Error(r.message||"Failed to sign in with Google")}},signOut:async()=>{try{await Tk($n)}catch(r){throw new Error(r.message||"Failed to sign out")}},getCurrentUser:()=>$n.currentUser,getUserDocument:async r=>{try{const e=await is(bt(We,"users",r));return e.exists()?e.data():null}catch(e){return console.error("Error getting user document:",e),null}},onAuthStateChanged:r=>bk($n,r)},yn={getUserProfile:async r=>{try{const e=await is(bt(We,"users",r));if(e.exists()){const t=e.data();return{id:r,name:t.name||"User",email:t.email||"",role:t.role||"student",rollNumber:t.rollNumber||void 0,year:t.year||void 0,branch:t.branch||void 0,mobile:t.mobile||void 0,isGuest:t.isGuest||!1,managedClubIds:t.managedClubIds||[]}}return null}catch(e){return console.error("Error getting user profile:",e),null}},createUserProfile:async(r,e)=>{try{const t={id:r.uid,name:e.name||r.displayName||"User",email:r.email||"",role:e.role||"student",isGuest:!1,managedClubIds:e.managedClubIds||[]};e.rollNumber!==void 0&&(t.rollNumber=e.rollNumber),e.year!==void 0&&(t.year=e.year),e.branch!==void 0&&(t.branch=e.branch),e.mobile!==void 0&&(t.mobile=e.mobile);const n=Nc(t);return await Tc(bt(We,"users",r.uid),n),{id:r.uid,name:t.name,email:t.email,role:t.role,rollNumber:t.rollNumber,year:t.year,branch:t.branch,mobile:t.mobile,isGuest:!1,managedClubIds:t.managedClubIds}}catch(t){throw console.error("Error creating user profile:",t),t}},updateUserProfile:async(r,e)=>{try{const t=Nc(e);Object.keys(t).length>0&&await Kr(bt(We,"users",r),t)}catch(t){throw console.error("Error updating user profile:",t),t}}},w_=async r=>{try{let e=await yn.getUserProfile(r.uid);return e||(e=await yn.createUserProfile(r,{name:r.displayName||"User",email:r.email||"",role:"student"})),e}catch(e){return console.error("Error getting user with profile:",e),null}},ts={EVENTS:"events",CLUBS:"clubs",USERS:"users",LEADERSHIP:"leadership",ANNUAL_EVENTS:"annualEvents",NEWS:"news",EXTERNAL_EVENTS:"externalEvents",NOTIFICATIONS:"notifications",APPLICATIONS:"applications"},rr={getEvents:async()=>{try{const r=Lb(We,"clubEvents");return(await or(r)).docs.map(n=>{var a;const s=n.data();return{id:n.id,...s,organizerClubId:s.organizerClubId||((a=n.ref.parent.parent)==null?void 0:a.id)}})}catch(r){return console.error("Error getting events:",r),[]}},getClubEvents:async r=>{try{const e=bt(We,ts.CLUBS,r),t=ht(e,"clubEvents");return(await or(t)).docs.map(s=>({id:s.id,...s.data()}))}catch(e){return console.error("Error getting club events:",e),[]}},getClubs:async()=>{try{const r=ht(We,ts.CLUBS);return(await or(r)).docs.map(t=>({id:t.id,...t.data()}))}catch(r){return console.error("Error getting clubs:",r),[]}},getUsers:async()=>{try{const r=ht(We,ts.USERS);return(await or(r)).docs.map(t=>({id:t.id,...t.data()}))}catch(r){return console.error("Error getting users:",r),[]}},getStudentByRollNumber:async r=>(await rr.getUsers()).find(n=>{var s;return((s=n.rollNumber)==null?void 0:s.toLowerCase())===r.toLowerCase()})||null,getLeadership:async()=>{try{const r=ht(We,ts.LEADERSHIP);return(await or(r)).docs.map(t=>({id:t.id,...t.data()}))}catch(r){return console.error("Error getting leadership:",r),[]}},getAnnualEvents:async()=>{try{const r=ht(We,ts.ANNUAL_EVENTS);return(await or(r)).docs.map(t=>({id:t.id,...t.data()}))}catch(r){return console.error("Error getting annual events:",r),[]}},getNews:async()=>{try{const r=ht(We,ts.NEWS);return(await or(r)).docs.map(t=>({id:t.id,...t.data()}))}catch(r){return console.error("Error getting news:",r),[]}},getExternalEvents:async()=>{try{const r=ht(We,ts.EXTERNAL_EVENTS);return(await or(r)).docs.map(t=>({id:t.id,...t.data()}))}catch(r){return console.error("Error getting external events:",r),[]}},getNotifications:async()=>{try{const r=ht(We,ts.NOTIFICATIONS);return(await or(r)).docs.map(t=>({id:t.id,...t.data()}))}catch(r){return console.error("Error getting notifications:",r),[]}},getApplications:async()=>{try{const r=ht(We,ts.APPLICATIONS);return(await or(r)).docs.map(t=>({id:t.id,...t.data()}))}catch(r){return console.error("Error getting applications:",r),[]}},createApplication:async r=>{try{const e=ht(We,ts.APPLICATIONS);return{id:(await bs(e,r)).id,...r}}catch(e){throw console.error("Error creating application:",e),e}},createClubApplication:async(r,e)=>{try{const t=bt(We,ts.CLUBS,r),n=ht(t,"applications"),s={...e,clubId:r};return{id:(await bs(n,s)).id,...s}}catch(t){throw console.error("Error creating club application:",t),t}},getClubApplications:async r=>{try{const e=bt(We,ts.CLUBS,r),t=ht(e,"applications"),n=await or(t);if(n.size>0)return console.log(`Fetched ${n.size} applications for club ${r} (subcollection)`),n.docs.map(u=>({id:u.id,...u.data()}));const s=ht(We,ts.APPLICATIONS),a=await or(s),l=a.docs.map(u=>({id:u.id,...u.data()})).filter(u=>String(u.clubId)===String(r));if(console.log(`Fetched ${l.length} applications for club ${r} (top-level fallback)`),l.length===0){const u=a.docs.map(h=>h.data().clubId);console.log("All clubIds in top-level applications:",u)}return l}catch(e){return console.error("Error getting club applications:",e),[]}},updateClub:async(r,e)=>{const t=bt(We,"clubs",r);console.log("hitted"),console.log(e);let n=e.team;if(!n){const a=await is(t);a.exists()?n=a.data().team||[]:n=[]}const s=Nc(e);if(s.team=Array.isArray(n)?n.filter(a=>!!a&&typeof a=="object").map(a=>{const l={};for(const u in a){const h=a[u];h!=null&&!(typeof h=="string"&&h.trim()==="")&&(l[u]=h)}return l}).filter(a=>Object.keys(a).length>0):[],Object.keys(s).forEach(a=>{s[a]===void 0&&delete s[a]}),"team"in s&&!Array.isArray(s.team)&&(s.team=[]),s.team=s.team.map(a=>{const l={};for(const u in a){const h=a[u];h!=null&&!(typeof h=="string"&&h.trim()==="")&&(l[u]=h)}if(!l.id||!l.name||!l.position)throw new Error("Each team member must have id, name, and position");return l}),await Kr(t,s),s.team&&Array.isArray(s.team)){for(const a of s.team)if(a.id)try{const l=bt(We,"users",a.id),u=await is(l);if(u.exists()){const h=u.data(),f=Array.isArray(h.managedClubIds)?Array.from(new Set([...h.managedClubIds||[],r])):[r],g=h.role==="admin"?"admin":"contributor",x={managedClubIds:f,role:g,name:a.name};"position"in x&&delete x.position,await Kr(l,x)}}catch{}}},updateClubMemberProfile:async(r,e)=>{const t=bt(We,"users",r);e.managedClubIds&&(e.managedClubIds=e.managedClubIds.filter(n=>typeof n=="string"&&n.trim()!=="")),Array.isArray(e.managedClubIds)&&e.managedClubIds.length===0&&(e.role="student"),"position"in e&&delete e.position,await Kr(t,e)},createClubEvent:async(r,e)=>{const t=bD(e.date),n={...e,status:t,organizerClubId:r},s=bt(We,"clubs",r),a=ht(s,"clubEvents");return{id:(await bs(a,n)).id,...n}},getClubById:async r=>{try{const e=bt(We,ts.CLUBS,r),t=await is(e);return t.exists()?{id:t.id,...t.data()}:(console.warn(`Club with ID ${r} not found.`),null)}catch(e){return console.error("Error getting club by ID:",e),null}},updateClubEvent:async(r,e,t)=>{const n=bt(We,"events",r,"clubEvents",e),s={...t};t.markAsPast&&(s.status=xt.Past),t.winnerDetails&&(s.winnerDetails=t.winnerDetails),t.eventImages&&(s.eventImages=t.eventImages),delete s.markAsPast,await Kr(n,s)}},Eg={updateStatus:async(r,e,t)=>{const n=bt(We,"clubs",r,"applications",e),s=Gh({status:t});console.log("Updating application status:",n.path,s),await Kr(n,s)},acceptAndPromote:async(r,e)=>{const t=bt(We,"clubs",r,"applications",e),n=await is(t);if(!n.exists())throw new Error("Application not found");const s=n.data(),a=s.userId,l=s.userName,u=Gh({status:"accepted"});console.log("Accepting application:",t.path,u),await Kr(t,u);const h=bt(We,"clubs",r),f=await is(h);if(f.exists()){const g=f.data();console.log("Club data before team update:",g);const x=Array.isArray(g.team)?g.team:[];if(!x.some(_=>_.id===a)){const _={id:a||l,name:l,position:"Coordinator"},S=[...x,_];if(S.length>0){const w=Gh({team:S});console.log("Promoting user to club team:",h.path,w),await Kr(h,w)}else console.warn("Skipped team update: team array would be empty")}}if(a){const g=await yn.getUserProfile(a);if(g){const x=Array.from(new Set([...g.managedClubIds||[],r])),v=Gh({role:g.role==="admin"?"admin":"contributor",managedClubIds:x});console.log("Promoting user profile:",a,v),await yn.updateUserProfile(a,v)}}}};function Gh(r){const e={};for(const t in r)r[t]!==void 0&&r[t]!==null&&(e[t]=r[t]);return e}function bD(r){const e=new Date,t=new Date(r);return t>e?xt.Upcoming:t.toDateString()===e.toDateString()?xt.Ongoing:xt.Past}const TD=Object.freeze(Object.defineProperty({__proto__:null,clubApplicationsService:Eg,firestoreDataService:rr},Symbol.toStringTag,{value:"Module"}));class SD{constructor(){this.unsubscribers=new Map}cleanup(){this.unsubscribers.forEach(e=>e()),this.unsubscribers.clear()}listenToEvents(e){const t=ht(We,"events"),n=_r(t,si("date","asc")),s=ii(n,a=>{const l=a.docs.map(u=>({id:u.id,...u.data()}));e(l)},a=>{console.error("Error listening to events:",a)});return this.unsubscribers.set("events",s),s}listenToClubs(e){const t=ht(We,"clubs"),n=_r(t,si("name","asc")),s=ii(n,a=>{const l=a.docs.map(u=>({id:u.id,...u.data()}));e(l)},a=>{console.error("Error listening to clubs:",a)});return this.unsubscribers.set("clubs",s),s}listenToLeadership(e){const t=ht(We,"leadership"),n=_r(t,si("id","asc")),s=ii(n,a=>{const l=a.docs.map(u=>({id:u.id,...u.data()}));e(l)},a=>{console.error("Error listening to leadership:",a)});return this.unsubscribers.set("leadership",s),s}listenToAnnualEvents(e){const t=ht(We,"annualEvents"),n=_r(t,si("name","asc")),s=ii(n,a=>{const l=a.docs.map(u=>({id:u.id,...u.data()}));e(l)},a=>{console.error("Error listening to annual events:",a)});return this.unsubscribers.set("annualEvents",s),s}listenToNews(e){const t=ht(We,"news"),n=_r(t,si("date","desc")),s=ii(n,a=>{const l=a.docs.map(u=>({id:u.id,...u.data()}));e(l)},a=>{console.error("Error listening to news:",a)});return this.unsubscribers.set("news",s),s}listenToExternalEvents(e){const t=ht(We,"externalEvents"),n=_r(t,si("name","asc")),s=ii(n,a=>{const l=a.docs.map(u=>({id:u.id,...u.data()}));e(l)},a=>{console.error("Error listening to external events:",a)});return this.unsubscribers.set("externalEvents",s),s}listenToUserNotifications(e,t){const n=ht(We,"notifications"),s=_r(n,Er("userId","==",e),si("timestamp","desc")),a=ii(s,l=>{const u=l.docs.map(h=>({id:h.id,...h.data()}));t(u)},l=>{console.error("Error listening to user notifications:",l)});return this.unsubscribers.set(`notifications_${e}`,a),a}listenToUserApplications(e,t){const n=ht(We,"applications"),s=_r(n,Er("userId","==",e),si("status","asc")),a=ii(s,l=>{const u=l.docs.map(h=>({id:h.id,...h.data()}));t(u)},l=>{console.error("Error listening to user applications:",l)});return this.unsubscribers.set(`applications_${e}`,a),a}listenToAllApplications(e){const t=ht(We,"applications"),n=_r(t,si("status","asc")),s=ii(n,a=>{const l=a.docs.map(u=>({id:u.id,...u.data()}));e(l)},a=>{console.error("Error listening to all applications:",a)});return this.unsubscribers.set("allApplications",s),s}listenToAllUsers(e){const t=ht(We,"users"),n=_r(t,si("name","asc")),s=ii(n,a=>{const l=a.docs.map(u=>({id:u.id,...u.data()}));e(l)},a=>{console.error("Error listening to all users:",a)});return this.unsubscribers.set("allUsers",s),s}}const ta=new SD,ND=(r,e,t=!1)=>{const n=[];return r.onEventsUpdate&&n.push(ta.listenToEvents(r.onEventsUpdate)),r.onClubsUpdate&&n.push(ta.listenToClubs(r.onClubsUpdate)),r.onLeadershipUpdate&&n.push(ta.listenToLeadership(r.onLeadershipUpdate)),r.onAnnualEventsUpdate&&n.push(ta.listenToAnnualEvents(r.onAnnualEventsUpdate)),r.onNewsUpdate&&n.push(ta.listenToNews(r.onNewsUpdate)),r.onExternalEventsUpdate&&n.push(ta.listenToExternalEvents(r.onExternalEventsUpdate)),r.onNotificationsUpdate&&e&&n.push(ta.listenToUserNotifications(e,r.onNotificationsUpdate)),r.onApplicationsUpdate&&e&&n.push(ta.listenToUserApplications(e,r.onApplicationsUpdate)),r.onUsersUpdate&&t&&n.push(ta.listenToAllUsers(r.onUsersUpdate)),()=>{n.forEach(s=>s())}},br={registerForEvent:async(r,e,t,n)=>{const s=t.organizerClubId;if(t.registrationFee&&t.registrationFee>0)throw new Error("Registration for paid events should be created after payment is successful.");const l={eventId:r,clubId:s,userId:e.id??"",userName:e.name,userEmail:e.email??"",userPhone:e.mobile,status:"confirmed",additionalInfo:n||"",registrationDate:tn(),eventName:t.name,eventDate:t.date,eventLocation:t.location,registrationFee:t.registrationFee||0,checkInStatus:"not_checked_in"},u=ht(We,"events",s,"clubEvents",r,"registrations");return(await bs(u,l)).id},registerForPaidEvent:async(r,e,t,n,s)=>{var f,g;const a=t.organizerClubId;if(!e.id)throw new Error("User ID is required for registration");if(!$n.currentUser)throw new Error("User must be authenticated to register for events");const l={eventId:r,clubId:a,userId:$n.currentUser.uid,userName:e.name,userEmail:e.email??"",userPhone:e.mobile,status:"confirmed",additionalInfo:s||"",registrationDate:tn(),eventName:t.name,eventDate:t.date,eventLocation:t.location,registrationFee:t.registrationFee||0,paymentStatus:"paid",paymentId:n,checkInStatus:"not_checked_in"};console.log("Creating registration with data:",l),console.log("User ID (from auth):",l.userId),console.log("Auth UID:",(f=$n.currentUser)==null?void 0:f.uid),console.log("User object:",e),console.log("Are UIDs matching?",l.userId===((g=$n.currentUser)==null?void 0:g.uid));const u=ht(We,"events",a,"clubEvents",r,"registrations");return(await bs(u,l)).id},isUserRegistered:async(r,e,t)=>{if(!t||!r||!e)return!1;try{const n=_r(ht(We,"events",t,"clubEvents",r,"registrations"),Er("userId","==",e));return(await or(n)).docs.filter(l=>l.data().status!=="cancelled").length>0}catch(n){return console.error("Error checking user registration:",n,{eventId:r,userId:e,clubId:t}),!1}},getUserRegistrations:async(r,e,t)=>{if(!r||!e||!t)return console.warn("getUserRegistrations called with missing params:",{userId:r,clubId:e,eventId:t}),[];const n=[];try{if(r.startsWith("guest_")){const a=await or(_r(ht(We,"events",e,"clubEvents",t,"guestRegistrations"),Er("userId","==",r)));for(const l of a.docs){const u=l.data();n.push({id:l.id,...u})}}else{const a=await or(_r(ht(We,"events",e,"clubEvents",t,"registrations"),Er("userId","==",r)));for(const l of a.docs){const u=l.data();n.push({id:l.id,...u})}}return n.sort((a,l)=>a.registrationDate&&l.registrationDate?(l.registrationDate.seconds||0)-(a.registrationDate.seconds||0):0),n}catch(s){return console.error("Error getting user registrations:",s,{userId:r,clubId:e,eventId:t}),[]}},getEventRegistrations:async(r,e)=>{const t=ht(We,"events",e,"clubEvents",r,"registrations");return(await or(t)).docs.map(s=>s.data())},getEventRegistrationStats:async(r,e)=>{const t=await br.getEventRegistrations(r,e);return{totalRegistrations:t.length,confirmedRegistrations:t.filter(s=>s.status==="confirmed").length,pendingRegistrations:t.filter(s=>s.status==="pending").length,cancelledRegistrations:t.filter(s=>s.status==="cancelled").length,checkedInCount:t.filter(s=>s.checkInStatus==="checked_in").length}},getEventRegistrationCount:(r,e)=>br.getEventRegistrations(r,e).then(t=>t.length),updateRegistrationStatus:async(r,e,t,n)=>{const s=bt(We,"events",t,"clubEvents",n,"registrations",r);await Kr(s,{status:e})},cancelRegistration:async(r,e,t)=>{try{await br.updateRegistrationStatus(r,"cancelled",e,t)}catch(n){throw console.error("Error cancelling registration:",n),n}},checkInUser:async(r,e,t)=>{try{const n=bt(We,"events",e,"clubEvents",t,"registrations",r);await Kr(n,{checkInStatus:"checked_in",checkInTime:tn()}),console.log("User checked in successfully")}catch(n){throw console.error("Error checking in user:",n),n}},updatePaymentStatus:async(r,e,t,n,s)=>{const a=bt(We,"events",n,"clubEvents",s,"registrations",r),l={paymentStatus:e,paymentId:t};e==="paid"&&(l.status="confirmed"),await Kr(a,l)},getRegistrationById:async(r,e,t)=>{try{const n=bt(We,"events",e,"clubEvents",t,"registrations",r),s=await is(n);return s.exists()?{id:s.id,...s.data()}:null}catch(n){return console.error("Error getting registration by ID:",n),null}},deleteRegistration:async(r,e,t)=>{try{const n=bt(We,"events",e,"clubEvents",t,"registrations",r);await Px(n),console.log("Registration deleted successfully")}catch(n){throw console.error("Error deleting registration:",n),n}},storeEventPayment:async r=>{if(!r.eventId||!r.clubId||!r.registrationId)return;const e={...r,paymentStatus:"paid",timestamp:tn()},t=bt(We,"events",r.clubId,"clubEvents",r.eventId,"payments",r.paymentId);console.log(t),await Tc(t,e)},createTeam:async(r,e,t,n)=>{const s=ht(We,"events",e,"clubEvents",r,"teams"),a={name:t,eventId:r,clubId:e,members:[n],createdBy:n.userId,createdAt:tn()};return(await bs(s,a)).id},joinTeam:async(r,e,t,n)=>{const s=bt(We,"events",e,"clubEvents",r,"teams",t),a=await is(s);if(!a.exists())throw new Error("Team not found");const l=a.data();l.members.some(u=>u.userId===n.userId)||await Kr(s,{members:[...l.members,n]})},searchTeams:async(r,e,t)=>{const n=ht(We,"events",e,"clubEvents",r,"teams"),s=_r(n,Er("name",">=",t),Er("name","<=",t+""));return(await or(s)).docs.map(l=>({id:l.id,...l.data()}))},registerForTeamEvent:async(r,e,t,n,s)=>{const a=t.organizerClubId,l={eventId:r,clubId:a,userId:e.id??"",userName:e.name,userEmail:e.email??"",userPhone:e.mobile,status:"confirmed",additionalInfo:s||"",registrationDate:tn(),eventName:t.name,eventDate:t.date,eventLocation:t.location,registrationFee:t.registrationFee||0,checkInStatus:"not_checked_in",teamId:n},u=ht(We,"events",a,"clubEvents",r,"registrations");return(await bs(u,l)).id},registerGuestForEvent:async(r,e,t,n,s)=>{const a={eventId:r,clubId:e,userId:`guest_${Date.now()}`,userName:t.name,userEmail:t.email,userPhone:t.phone,userYear:t.year,userBranch:t.department,status:"confirmed",additionalInfo:s||"",registrationDate:tn(),eventName:n.name,eventDate:n.date,eventLocation:n.location,registrationFee:n.registrationFee||0,checkInStatus:"not_checked_in",isGuest:!0,guestCollege:t.college},l=ht(We,"events",e,"clubEvents",r,"guestRegistrations");return(await bs(l,a)).id}},xT=Object.freeze(Object.defineProperty({__proto__:null,eventRegistrationService:br},Symbol.toStringTag,{value:"Module"})),CD=async(r,e,t)=>{try{const n=await yn.getUserProfile(r);if(!n)throw new Error("User not found");return await yn.updateUserProfile(r,{role:"contributor",managedClubIds:e}),console.log(`User ${n.name} has been assigned contributor role for clubs: ${e.join(", ")}`),!0}catch(n){return console.error("Error assigning contributor role:",n),!1}},zx=async(r,e,t)=>{var n;try{const s=await yn.getUserProfile(r);if(!s)throw new Error("User not found");const a=((n=s.managedClubIds)==null?void 0:n.filter(u=>u!==e))||[],l=a.length===0?"student":"contributor";return await yn.updateUserProfile(r,{role:l,managedClubIds:a}),console.log(`User ${s.name} has been revoked from club: ${e}`),!0}catch(s){return console.error("Error revoking contributor from club:",s),!1}},$x=async(r,e)=>{try{const t=await yn.getUserProfile(r);if(!t)throw new Error("User not found");return await yn.updateUserProfile(r,{role:"student",managedClubIds:[]}),console.log(`User ${t.name} has been revoked from all contributor roles`),!0}catch(t){return console.error("Error revoking all contributor access:",t),!1}},Wx=async(r,e)=>{var t;try{const n=await yn.getUserProfile(r);return n?n.role==="admin"?!0:n.role==="contributor"&&((t=n.managedClubIds)==null?void 0:t.includes(e))||!1:!1}catch(n){return console.error("Error checking club management permission:",n),!1}},AD=async(r,e,t)=>{try{if(!await Wx(t,r))throw new Error("Insufficient permissions to manage this club");const s=bt(We,"clubs",r),a=await is(s);if(!a.exists())throw console.warn(`Club ${r} not found in Firebase. Data may not be migrated yet.`),new Error("Club not found in database. Please migrate data first using the Data Migration tool.");const l=a.data(),u={id:`t_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,name:e.name,position:e.position,imageUrl:e.imageUrl||void 0},h=Nc(u);Object.keys(h).forEach(g=>{typeof h[g]=="string"&&h[g].trim()===""&&delete h[g]});const f=[...l.team||[],h];return await Kr(s,{team:f}),console.log(`Member ${e.name} added to club ${r}`),!0}catch(n){throw console.error("Error adding club member:",n),n}},ID=async(r,e,t)=>{try{if(!await Wx(t,r))throw new Error("Insufficient permissions to manage this club");const s=bt(We,"clubs",r),a=await is(s);if(!a.exists())throw console.warn(`Club ${r} not found in Firebase. Data may not be migrated yet.`),new Error("Club not found in database. Please migrate data first using the Data Migration tool.");const u=(a.data().team||[]).filter(h=>h.id!==e).map(h=>{const f=Nc(h);return Object.keys(f).forEach(g=>{typeof f[g]=="string"&&f[g].trim()===""&&delete f[g]}),f});return await Kr(s,{team:u}),console.log(`Member ${e} removed from club ${r}`),!0}catch(n){throw console.error("Error removing club member:",n),n}},kD=async(r,e,t)=>{const n=await yn.getUserProfile(t);if(!n||n.role!=="admin")throw new Error("Only admins can create clubs");const s={name:r.name,tagline:r.tagline,description:r.description??"",logoUrl:r.logoUrl??"https://placehold.co/128x128?text=Club",bannerUrl:r.bannerUrl??"https://placehold.co/1200x300?text=Club+Banner",eventIds:[],achievements:r.achievements??[],team:r.team??[],recruitmentOpen:r.recruitmentOpen,recruitmentQuestions:r.recruitmentQuestions},l={id:(await bs(ht(We,"clubs"),s)).id,...s},u=await yn.getUserProfile(e);if(!u)throw new Error("Assigned user not found");const h=Array.from(new Set([...u.managedClubIds||[],l.id]));return await yn.updateUserProfile(e,{role:u.role==="admin"?"admin":"contributor",managedClubIds:h}),l},RD=r=>{const e=new Date(r),t=Math.floor((new Date().getTime()-e.getTime())/1e3);let n=t/31536e3;return n>1?Math.floor(n)+" years ago":(n=t/2592e3,n>1?Math.floor(n)+" months ago":(n=t/86400,n>1?Math.floor(n)+" days ago":(n=t/3600,n>1?Math.floor(n)+" hours ago":(n=t/60,n>1?Math.floor(n)+" minutes ago":Math.floor(t)+" seconds ago"))))},PD=({type:r})=>{const e="w-6 h-6";switch(r){case"application-accepted":case"event-winner":case"access-granted":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`${e} text-green-400`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})});case"application-rejected":case"access-revoked":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`${e} text-red-400`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})});case"info":default:return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`${e} text-indigo-400`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}},jD=({notifications:r,onMarkAsRead:e,onMarkAllAsRead:t,onClose:n})=>{const s=r.filter(h=>!h.isRead).length,a=Bs(),l=h=>{h.isRead||e(h.id),h.link&&a(h.link),n()},u=[...r].sort((h,f)=>new Date(f.timestamp).getTime()-new Date(h.timestamp).getTime());return c.jsxs("div",{className:"absolute right-0 mt-2 w-80 origin-top-right bg-slate-800 rounded-md shadow-lg ring-1 ring-black ring-opacity-5 border border-slate-700 focus:outline-none animate-slide-down-fade flex flex-col max-h-[70vh]",children:[c.jsxs("div",{className:"p-3 border-b border-slate-700 flex justify-between items-center flex-shrink-0",children:[c.jsx("h3",{className:"text-sm font-bold text-white",children:"Notifications"}),s>0&&c.jsx("button",{onClick:t,className:"text-xs text-indigo-400 hover:text-indigo-300 font-semibold",children:"Mark all as read"})]}),c.jsx("div",{className:"overflow-y-auto flex-1",children:u.length>0?u.map(h=>c.jsx("button",{onClick:()=>l(h),className:"w-full text-left p-3 hover:bg-slate-700/80 transition-colors border-b border-slate-700/50 last:border-b-0",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"flex-shrink-0 mt-1",children:c.jsx(PD,{type:h.type})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm text-gray-300",children:h.message}),c.jsx("p",{className:`mt-1 text-xs font-bold ${h.isRead?"text-gray-500":"text-indigo-400"}`,children:RD(h.timestamp)})]}),!h.isRead&&c.jsx("div",{className:"flex-shrink-0 mt-1",children:c.jsx("span",{className:"w-2.5 h-2.5 bg-indigo-500 rounded-full block"})})]})},h.id)):c.jsx("div",{className:"p-8 text-center",children:c.jsx("p",{className:"text-sm text-gray-400",children:"You have no new notifications."})})}),c.jsx("div",{className:"p-2 border-t border-slate-700 flex-shrink-0",children:c.jsx(rn,{to:"/notifications",onClick:n,className:"block w-full text-center py-2 text-xs font-bold text-gray-300 hover:bg-slate-700/80 rounded",children:"View All Notifications"})})]})},qh=({to:r,children:e,onClick:t})=>c.jsx(rn,{to:r,onClick:t,className:"text-gray-300 hover:text-white relative after:content-[''] after:absolute after:left-0 after:bottom-[-2px] after:w-0 after:h-[2px] after:bg-white after:transition-all after:duration-300 hover:after:w-full px-1 py-2 text-sm font-semibold",children:e}),Wo=({to:r,children:e,onClick:t})=>c.jsx(rn,{to:r,onClick:t,className:"block text-gray-300 hover:bg-slate-800 hover:text-white px-3 py-2 rounded-md text-base font-medium transition-colors w-full text-left",children:e}),DD=({user:r,onLogout:e,applications:t,notifications:n,onMarkAsRead:s,onMarkAllAsRead:a})=>{const[l,u]=U.useState(!1),[h,f]=U.useState(!1),[g,x]=U.useState(!1),[v,_]=U.useState(!1);Bs();const S=U.useRef(null),w=U.useRef(null),T=U.useRef(null),j=()=>{u(!1),f(!1),x(!1),_(!1)},D=()=>{e(),j()};U.useEffect(()=>{const Q=N=>{S.current&&!S.current.contains(N.target)&&f(!1),w.current&&!w.current.contains(N.target)&&x(!1),T.current&&!T.current.contains(N.target)&&_(!1)};return document.addEventListener("mousedown",Q),()=>{document.removeEventListener("mousedown",Q)}},[]);const L=U.useMemo(()=>!r||!r.managedClubIds?!1:t.some(Q=>r.managedClubIds.includes(Q.clubId)&&Q.status==="pending"),[r,t]),M=U.useMemo(()=>n.filter(Q=>!Q.isRead).length,[n]),Z=Q=>{const N=Q.split(" ");return N.length>1?`${N[0][0]}${N[N.length-1][0]}`.toUpperCase():Q.substring(0,2).toUpperCase()};return c.jsxs("header",{className:"bg-gray-950/80 backdrop-blur-md shadow-sm sticky top-0 z-50",children:[c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex items-center justify-between h-20",children:[c.jsx("div",{className:"flex items-center",children:c.jsx(rn,{to:"/",onClick:j,className:"flex-shrink-0 flex items-center space-x-2 group",children:c.jsx("span",{className:"text-white text-2xl font-extrabold tracking-tighter",children:"GCET"})})}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"hidden md:block",children:c.jsxs("nav",{className:"ml-10 flex items-baseline space-x-4",children:[c.jsx(qh,{to:"/",onClick:j,children:"Home"}),c.jsxs("div",{className:"relative",ref:w,children:[c.jsxs("button",{onClick:()=>x(Q=>!Q),className:"text-gray-300 hover:text-white relative after:content-[''] after:absolute after:left-0 after:bottom-[-2px] after:w-0 after:h-[2px] after:bg-white after:transition-all after:duration-300 hover:after:w-full px-1 py-2 text-sm font-semibold flex items-center gap-1",children:["Events",c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 transition-transform ${g?"rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),g&&c.jsxs("div",{className:"absolute left-0 mt-2 w-48 origin-top-left bg-slate-800 rounded-md shadow-lg py-1 ring-1 ring-black ring-opacity-5 border border-slate-700 focus:outline-none animate-slide-down-fade",children:[c.jsx(rn,{to:"/events",onClick:j,className:"w-full text-left block px-4 py-2 text-sm text-gray-300 hover:bg-slate-700/80 transition-colors",children:"All Events"}),c.jsx(rn,{to:"/annual-events",onClick:j,className:"w-full text-left block px-4 py-2 text-sm text-gray-300 hover:bg-slate-700/80 transition-colors",children:"Annual Events"})]})]}),!(r!=null&&r.isGuest)&&c.jsx(qh,{to:"/clubs",onClick:j,children:"Clubs"}),c.jsx(qh,{to:"/news",onClick:j,children:"News"}),c.jsx(qh,{to:"/opportunities",onClick:j,children:"Opportunities"})]})}),r&&c.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4 md:ml-8",children:[c.jsxs("div",{className:"relative",ref:T,children:[c.jsxs("button",{onClick:()=>_(Q=>!Q),className:"relative p-2 rounded-full text-gray-400 hover:text-white hover:bg-slate-800 transition-colors focus:outline-none","aria-label":"View notifications",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),M>0&&c.jsx("span",{className:"absolute top-1 right-1 block h-2.5 w-2.5 rounded-full bg-red-500 ring-2 ring-slate-900"})]}),v&&c.jsx(jD,{notifications:n,onMarkAsRead:s,onMarkAllAsRead:a,onClose:()=>_(!1)})]}),c.jsxs("div",{className:"hidden md:block relative",ref:S,children:[c.jsx("button",{onClick:()=>f(Q=>!Q),className:"flex items-center space-x-2 p-1 rounded-full hover:bg-slate-800 transition-colors",children:c.jsxs("div",{className:"relative w-9 h-9 rounded-full bg-indigo-600 flex items-center justify-center font-bold text-white",children:[Z(r.name),L&&c.jsx("span",{className:"absolute top-0 right-0 block h-2.5 w-2.5 rounded-full bg-red-500 ring-2 ring-slate-900"})]})}),h&&c.jsxs("div",{className:"absolute right-0 mt-2 w-48 origin-top-right bg-slate-800 rounded-md shadow-lg py-1 ring-1 ring-black ring-opacity-5 border border-slate-700 focus:outline-none animate-slide-down-fade",children:[c.jsxs(rn,{to:"/profile",onClick:j,className:"flex items-center gap-2 w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-slate-700/80 transition-colors",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),"My Profile"]}),c.jsxs("button",{onClick:D,className:"flex items-center gap-2 w-full text-left px-4 py-2 text-sm text-red-400 hover:bg-slate-700/80 transition-colors",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z",clipRule:"evenodd"})}),"Logout"]})]})]})]}),c.jsx("div",{className:"-mr-2 flex md:hidden",children:c.jsxs("button",{onClick:()=>u(!l),type:"button",className:"bg-gray-900 inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white","aria-controls":"mobile-menu","aria-expanded":l,children:[c.jsx("span",{className:"sr-only",children:"Open main menu"}),l?c.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}):c.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})]})})]})]})}),l&&c.jsx("div",{className:"md:hidden",id:"mobile-menu",children:c.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[c.jsx(Wo,{to:"/",onClick:j,children:"Home"}),c.jsx(Wo,{to:"/events",onClick:j,children:"All Events"}),c.jsx(Wo,{to:"/annual-events",onClick:j,children:"Annual Events"}),!(r!=null&&r.isGuest)&&c.jsx(Wo,{to:"/clubs",onClick:j,children:"Clubs"}),c.jsx(Wo,{to:"/news",onClick:j,children:"News"}),c.jsx(Wo,{to:"/opportunities",onClick:j,children:"Opportunities"}),r&&c.jsx(Wo,{to:"/profile",onClick:j,children:"My Profile"}),r&&c.jsx("button",{onClick:D,className:"block text-red-400 hover:bg-slate-800 hover:text-red-300 px-3 py-2 rounded-md text-base font-medium transition-colors w-full text-left",children:"Logout"})]})})]})},OD=()=>c.jsx("footer",{className:"bg-[#1D2434] text-white pt-8 pb-4",children:c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-8 text-center md:text-left",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("h3",{className:"text-2xl font-extrabold tracking-tighter inline-block md:inline",children:"GCET"}),c.jsx("p",{className:"mt-4 text-gray-400 max-w-xs mx-auto md:mx-0",children:"The official hub for clubs, events, and campus life at the University of Excellence."})]}),c.jsxs("div",{className:"hidden md:block",children:[c.jsx("h3",{className:"text-sm font-semibold tracking-wider uppercase text-gray-400",children:"Navigation"}),c.jsxs("ul",{className:"mt-4 space-y-3",children:[c.jsx("li",{children:c.jsx(rn,{to:"/",className:"text-gray-300 hover:text-white transition-colors",children:"Home"})}),c.jsx("li",{children:c.jsx(rn,{to:"/clubs",className:"text-gray-300 hover:text-white transition-colors",children:"Clubs"})}),c.jsx("li",{children:c.jsx(rn,{to:"/events",className:"text-gray-300 hover:text-white transition-colors",children:"Events"})}),c.jsx("li",{children:c.jsx(rn,{to:"/news",className:"text-gray-300 hover:text-white transition-colors",children:"News"})})]})]}),c.jsxs("div",{className:"hidden md:block",children:[c.jsx("h3",{className:"text-sm font-semibold tracking-wider uppercase text-gray-400",children:"Resources"}),c.jsxs("ul",{className:"mt-4 space-y-3",children:[c.jsx("li",{children:c.jsx(rn,{to:"/opportunities",className:"text-gray-300 hover:text-white transition-colors",children:"Opportunities"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:"Contact Us"})})]})]}),c.jsxs("div",{className:"hidden md:block",children:[c.jsx("h3",{className:"text-sm font-semibold tracking-wider uppercase text-gray-400",children:"Social"}),c.jsxs("ul",{className:"mt-4 space-y-3",children:[c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:"Twitter"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:"Youtube"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:"Instagram"})})]})]})]}),c.jsxs("div",{className:"mt-8 border-t border-gray-800 pt-4 text-center text-sm text-gray-500",children:[c.jsxs("p",{children:[" ",new Date().getFullYear()," GCET. All Rights Reserved."]}),c.jsx("p",{className:"mt-2",children:"Developed & Maintained by Pavan & Paramesh"})]})]})}),FD=()=>c.jsx("div",{className:"relative w-full h-full flex items-center justify-center",children:c.jsxs("svg",{viewBox:"0 0 400 400",className:"w-full h-full",children:[c.jsxs("defs",{children:[c.jsxs("filter",{id:"glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[c.jsx("feGaussianBlur",{stdDeviation:"15",result:"coloredBlur"}),c.jsxs("feMerge",{children:[c.jsx("feMergeNode",{in:"coloredBlur"}),c.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),c.jsxs("linearGradient",{id:"grad1",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[c.jsx("stop",{offset:"0%",style:{stopColor:"rgb(99, 102, 241)",stopOpacity:1}}),c.jsx("stop",{offset:"100%",style:{stopColor:"rgb(168, 85, 247)",stopOpacity:1}})]}),c.jsxs("linearGradient",{id:"grad2",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[c.jsx("stop",{offset:"0%",style:{stopColor:"rgb(236, 72, 153)",stopOpacity:1}}),c.jsx("stop",{offset:"100%",style:{stopColor:"rgb(239, 68, 68)",stopOpacity:1}})]})]}),c.jsx("circle",{cx:"200",cy:"200",r:"100",fill:"url(#grad1)",className:"animate-subtle-pulse",style:{animationDelay:"0s"},filter:"url(#glow)"}),c.jsx("path",{d:"M 100 100 Q 200 50 300 100 T 100 100",fill:"none",stroke:"url(#grad2)",strokeWidth:"8",className:"animate-subtle-float",style:{animationDelay:"1s"}}),c.jsx("circle",{cx:"120",cy:"280",r:"40",fill:"url(#grad2)",className:"animate-subtle-pulse",style:{animationDelay:"2s"}}),c.jsx("circle",{cx:"280",cy:"120",r:"30",fill:"white",className:"animate-subtle-float opacity-20",style:{animationDelay:"0.5s"}})]})}),Dp=({icon:r,title:e,description:t,color:n})=>{const a=(l=>{switch(l){case"indigo":return{border:"hover:border-indigo-500/50",bg:"bg-indigo-500/10",text:"text-indigo-400"};case"purple":return{border:"hover:border-purple-500/50",bg:"bg-purple-500/10",text:"text-purple-400"};case"pink":return{border:"hover:border-pink-500/50",bg:"bg-pink-500/10",text:"text-pink-400"};default:return{border:"hover:border-indigo-500/50",bg:"bg-indigo-500/10",text:"text-indigo-400"}}})(n);return c.jsxs("div",{className:`bg-slate-900 p-6 rounded-2xl border border-slate-800 shadow-lg ${a.border} hover:-translate-y-1 transition-all duration-300`,children:[c.jsx("div",{className:`w-12 h-12 rounded-full ${a.bg} flex items-center justify-center mb-4`,children:c.jsx("div",{className:a.text,children:r})}),c.jsx("h3",{className:"text-lg font-bold text-white",children:e}),c.jsx("p",{className:"mt-1 text-sm text-gray-400",children:t})]})},LD=({onNavigate:r})=>c.jsx("section",{className:"relative bg-slate-950 text-gray-300 overflow-hidden font-sans",children:c.jsx("div",{className:"container mx-auto px-6 py-20 min-h-[90vh]",children:c.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[c.jsxs("div",{className:"relative z-10 text-center lg:text-left animate-fade-in-content",children:[c.jsx("div",{className:"absolute -top-1/4 -left-1/4 w-96 h-96 bg-indigo-600/10 rounded-full filter blur-3xl -z-10"}),c.jsxs("h1",{className:"text-5xl lg:text-6xl font-extrabold text-white leading-tight tracking-tighter",children:["Innovate & Connect:",c.jsx("br",{}),c.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-indigo-400 to-purple-400",children:"Your Campus Hub."})]}),c.jsx("p",{className:"mt-6 text-lg text-gray-400 max-w-lg mx-auto lg:mx-0",children:"Discover events, join clubs, and shape your college experience. All in one place."}),c.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row items-center justify-center lg:justify-start gap-4",children:[c.jsx("button",{onClick:()=>r({type:"all-events"}),className:"w-full sm:w-auto px-8 py-3 bg-indigo-600 text-white font-semibold rounded-xl hover:bg-indigo-700 transition-colors transform hover:scale-105 shadow-lg",children:"Explore Events"}),c.jsx("button",{onClick:()=>r({type:"all-clubs"}),className:"w-full sm:w-auto px-8 py-3 bg-slate-800/80 backdrop-blur-sm border border-slate-700 text-white font-semibold rounded-xl hover:bg-slate-700 transition-colors",children:"Find Clubs"})]}),c.jsxs("div",{className:"mt-12 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[c.jsx(Dp,{title:"Discover Events",description:"Browse workshops, competitions, and fests.",color:"indigo",icon:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),c.jsx(Dp,{title:"Join Clubs",description:"Find your community and get involved on campus.",color:"purple",icon:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),c.jsx(Dp,{title:"Stay Updated",description:"Get the latest news on recruitments and results.",color:"pink",icon:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3h2m-4 3H9m-7 4h15M3 15h15"})})})]})]}),c.jsx("div",{className:"relative h-[400px] lg:h-[500px] hidden md:block",children:c.jsx(FD,{})})]})})}),Pn=({title:r,subtitle:e,align:t="center",colorScheme:n="dark"})=>{const s=t==="left"?"text-left":"text-center",a=t==="center"?"mx-auto":"",l=n==="dark"?"text-white":"text-gray-900",u=n==="dark"?"text-gray-400":"text-gray-600";return c.jsxs("div",{className:`${s} mb-12`,children:[c.jsx("h2",{className:`text-4xl md:text-5xl font-extrabold ${l} tracking-tighter`,children:r}),e&&c.jsx("p",{className:`mt-4 max-w-2xl ${a} text-lg ${u}`,children:e})]})},MD={Technical:"bg-indigo-500/80 text-white",Cultural:"bg-pink-500/80 text-white",Workshop:"bg-yellow-500/80 text-gray-900",Sports:"bg-purple-500/80 text-white"},UD=({events:r})=>{const[e,t]=U.useState(0),n=Bs(),s=r.filter(f=>f.isFeatured&&f.status!==xt.Past),a=()=>{const g=e===0?s.length-1:e-1;t(g)},l=U.useCallback(()=>{if(s.length===0)return;const g=e===s.length-1?0:e+1;t(g)},[e,s.length]),u=f=>{t(f)};if(U.useEffect(()=>{const f=setInterval(l,7e3);return()=>clearInterval(f)},[l]),!s.length)return null;const h=s[e];return c.jsx("section",{className:"py-24 bg-[#1D2434]",children:c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsx(Pn,{title:"Don't Miss Out",subtitle:"Check out the major upcoming and ongoing events on campus.",colorScheme:"dark"}),c.jsxs("div",{className:"relative w-full max-w-6xl mx-auto h-[550px] rounded-2xl overflow-hidden shadow-2xl group bg-gray-900",children:[c.jsx("div",{className:"w-full h-full",children:s.map((f,g)=>c.jsx("div",{className:`absolute inset-0 w-full h-full transition-opacity duration-1000 ease-in-out ${g===e?"opacity-100":"opacity-0"}`,children:c.jsx("img",{src:f.imageUrl,alt:f.name,className:`w-full h-full object-cover ${g===e?"kenburns-active":""}`})},f.id))}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"}),c.jsx("div",{className:"absolute bottom-0 left-0 w-full p-8 md:p-12 text-white",children:c.jsxs("div",{className:"animate-fade-in-content",children:[c.jsx("span",{className:`inline-block px-3 py-1 text-sm font-semibold rounded-full ${MD[h.category]}`,children:h.category}),c.jsx("h3",{className:"text-3xl md:text-5xl font-extrabold mt-3 leading-tight tracking-tighter max-w-3xl",children:h.name}),c.jsxs("div",{className:"mt-4 flex items-center space-x-6 text-gray-300",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),c.jsx("span",{children:h.date})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsx("span",{children:h.time})]})]}),c.jsxs("button",{onClick:()=>n(`/events/${h.id}`),className:"mt-8 bg-white text-gray-900 font-bold py-3 px-6 rounded-lg hover:bg-gray-300 transition-all duration-300 flex items-center transform hover:scale-105",children:[c.jsx("span",{children:"View Details"}),c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-2",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]})},h.id),c.jsx("button",{onClick:a,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-black/30 text-white p-3 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300 hover:bg-black/50 focus:outline-none",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),c.jsx("button",{onClick:l,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-black/30 text-white p-3 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300 hover:bg-black/50 focus:outline-none",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),c.jsx("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 flex space-x-3",children:s.map((f,g)=>c.jsx("button",{onClick:()=>u(g),className:`h-2.5 w-2.5 rounded-full transition-all duration-300 ${e===g?"bg-white w-6":"bg-white/50 hover:bg-white"}`,"aria-label":`Go to slide ${g+1}`},g))})]})]})})},VD=({member:r,index:e})=>{const t=U.useRef(null),n=a=>{if(!t.current)return;const{left:l,top:u,width:h,height:f}=t.current.getBoundingClientRect(),g=a.clientX-l,x=a.clientY-u;t.current.style.setProperty("--mouse-x",`${g}px`),t.current.style.setProperty("--mouse-y",`${x}px`);const v=(x/f-.5)*-25,_=(g/h-.5)*25;t.current.style.transform=`rotateX(${v}deg) rotateY(${_}deg) scale3d(1.03, 1.03, 1.03)`},s=()=>{t.current&&(t.current.style.transform="rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)")};return c.jsx("div",{className:"perspective-container animate-card-enter group/container",style:{animationDelay:`${e*150}ms`},onMouseMove:n,onMouseLeave:s,children:c.jsx("div",{ref:t,className:"tilt-card w-full h-full",children:c.jsx("div",{className:`spotlight-card relative rounded-xl p-[2px] h-full transition-all duration-400 
                                bg-gray-800 group-hover/container:bg-gradient-to-br from-pink-500 via-indigo-500 to-cyan-400
                                group-hover/container:shadow-[0_0_5px_rgba(236,72,153,0.5),_0_0_5px_rgba(99,102,241,0.5)]`,children:c.jsx("div",{className:"relative bg-gray-900/80 backdrop-blur-lg rounded-[10px] p-8 h-full flex flex-col items-center text-center",children:c.jsxs("div",{className:"tilt-card-inner relative z-10 flex flex-col items-center",children:[c.jsx("div",{className:`relative rounded-full p-1 transition-all duration-400 
                                           bg-gray-700 group-hover/container:bg-gradient-to-br from-pink-500 via-indigo-500 to-cyan-400
                                           group-hover/container:scale-105 `,style:{transform:"translateZ(40px)"},children:c.jsx("img",{className:"w-32 h-32 object-cover rounded-full shadow-lg border-2 border-gray-900",src:r.imageUrl,alt:r.name})}),c.jsx("h3",{className:"text-2xl font-extrabold text-white mt-6",style:{transform:"translateZ(30px)"},children:r.name}),c.jsx("p",{className:"text-lg font-bold text-indigo-400 mt-1",style:{transform:"translateZ(20px)"},children:r.title}),c.jsx("blockquote",{className:"mt-6",style:{transform:"translateZ(10px)"},children:c.jsx("div",{children:c.jsxs("p",{className:"text-md text-gray-400 italic",children:['"',r.quote,'"']})})})]})})})})})},BD=({leadership:r})=>c.jsx("section",{className:"py-24 bg-gradient-to-b from-slate-950 to-slate-900",children:c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsx(Pn,{title:"Meet Our Leadership",subtitle:"Guiding the vision of tomorrow's innovators and creators."}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-10",children:r.map((e,t)=>c.jsx(VD,{member:e,index:t},e.id))})]})}),zD=[{question:"How can I become a club admin?",answer:"Club admin roles (Contributors) are assigned by the college administration. If you are a student leader or faculty coordinator, please contact the student affairs office to request contributor access for managing your club on the platform."},{question:"Where can I find photos or highlights from past events?",answer:"Yes! Navigate to any past event on the 'Events' page. If the organizers have uploaded highlights, you'll find a dedicated section with photo galleries, guest details, and winner announcements."},{question:"What is the difference between Events and Opportunities?",answer:"The 'Events' section lists all activities happening on our campus, organized by our own student clubs. The 'Opportunities' section features external events like national hackathons, internships, and workshops hosted by other top companies and institutions."},{question:"How do I apply to join a club?",answer:"Go to the club's detail page and look for the 'Join Us' section. If recruitment is open, you can click 'Apply Now' to fill out their application form. If it's closed, you can still send a joining request for the admins to consider later."}],$D=({faq:r,isOpen:e,onClick:t})=>c.jsxs("div",{className:"border-b border-slate-700 py-6",children:[c.jsxs("button",{onClick:t,className:"w-full flex justify-between items-center text-left",children:[c.jsx("h3",{className:"text-xl font-bold text-white",children:r.question}),c.jsx("span",{className:`transform transition-transform duration-300 ${e?"rotate-45":"rotate-0"}`,children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]}),c.jsx("div",{className:`overflow-hidden transition-all duration-500 ease-in-out ${e?"max-h-96 mt-4":"max-h-0"}`,children:c.jsx("p",{className:"text-gray-400 max-w-3xl",children:r.answer})})]}),WD=()=>{const[r,e]=U.useState(0),t=n=>{e(r===n?null:n)};return c.jsx("section",{className:"py-16 bg-slate-900",children:c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsx(Pn,{title:"Frequently Asked Questions",align:"left"}),c.jsx("div",{children:zD.map((n,s)=>c.jsx($D,{faq:n,isOpen:r===s,onClick:()=>t(s)},s))})]})})},HD=({club:r,index:e})=>c.jsxs(rn,{to:`/clubs/${r.id}`,className:"group relative bg-[#1D2434] rounded-2xl overflow-hidden shadow-lg border border-transparent hover:border-indigo-500/50 transition-all duration-300 transform hover:-translate-y-2 animate-card-enter block",style:{animationDelay:`${e*150}ms`},children:[c.jsx("div",{className:"absolute top-0 right-0 w-2/3 h-2/3 bg-indigo-600/10 rounded-full filter blur-3xl opacity-50 group-hover:opacity-100 transition-opacity"}),c.jsxs("div",{className:"relative p-8 text-center",children:[c.jsx("img",{src:r.logoUrl,alt:`${r.name} logo`,className:"w-24 h-24 rounded-full mx-auto mb-5 border-4 border-slate-700 shadow-md transition-transform duration-300 group-hover:scale-110"}),c.jsx("h3",{className:"text-2xl font-extrabold text-white",children:r.name}),c.jsx("p",{className:"mt-2 text-gray-400 text-sm h-10 line-clamp-2",children:r.tagline}),c.jsx("div",{className:"mt-6",children:c.jsxs("span",{className:"text-indigo-400 font-semibold group-hover:text-indigo-300 transition-colors flex items-center justify-center",children:["Learn More",c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 ml-1.5 transform group-hover:translate-x-1 transition-transform",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]})]}),GD=({clubs:r})=>{const e=r.slice(0,4),t=Bs();return c.jsx("section",{className:"py-24 bg-slate-900",children:c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsx(Pn,{title:"Find Your Community",subtitle:"From coding to culture, there's a club for everyone. Explore our diverse student organizations and get involved."}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map((n,s)=>c.jsx(HD,{club:n,index:s},n.id))}),c.jsx("div",{className:"text-center mt-12",children:c.jsx("button",{onClick:()=>t("/clubs"),className:"bg-indigo-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-indigo-700 transition-colors shadow-lg hover:shadow-indigo-500/30",children:"Explore All Clubs"})})]})})},qD=[{id:1,name:"K. Parameshwara Rao",title:"Full Stack Developer & System Architect",imageUrl:"https://i.postimg.cc/h4k83b79/passport-size-pic.jpg"},{id:2,name:"Pavan Bejawada",title:"Frontend Developer & UI/UX Direction",imageUrl:"https://picsum.photos/seed/pavanbejawada/200/200"}],KD=({developer:r,index:e})=>{const t=U.useRef(null),n=a=>{if(!t.current)return;const{left:l,top:u,width:h,height:f}=t.current.getBoundingClientRect(),g=a.clientX-l,v=((a.clientY-u)/f-.5)*-20,_=(g/h-.5)*20;t.current.style.transform=`rotateX(${v}deg) rotateY(${_}deg)`},s=()=>{t.current&&(t.current.style.transform="rotateX(0deg) rotateY(0deg)")};return c.jsx("div",{className:"perspective-container group animate-card-enter",style:{animationDelay:`${e*150}ms`},onMouseMove:n,onMouseLeave:s,children:c.jsxs("div",{ref:t,className:"tilt-card bg-slate-900/50 p-8 rounded-2xl border border-slate-800 shadow-lg text-center transition-transform duration-300 ease-out",children:[c.jsx("img",{className:"w-40 h-40 object-cover rounded-full mb-4 shadow-lg mx-auto border-4 border-slate-800 group-hover:border-indigo-500 transition-colors",src:r.imageUrl,alt:r.name,style:{transform:"translateZ(40px)"}}),c.jsx("h3",{className:"text-xl font-extrabold text-white tracking-tight",style:{transform:"translateZ(30px)"},children:r.name}),c.jsx("p",{className:"text-base text-indigo-400 font-semibold",style:{transform:"translateZ(20px)"},children:r.title})]})})},YD=()=>c.jsx("section",{className:"py-16 bg-slate-950",children:c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsx(Pn,{title:"Meet the Developers",subtitle:"The minds behind the code, crafting a seamless campus experience for you."}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-8 max-w-2xl mx-auto",children:qD.map((r,e)=>c.jsx(KD,{developer:r,index:e},r.id))})]})}),XD=({clubs:r,index:e})=>{const t=Math.ceil(r.length/2),n=r.slice(0,t),s=r.slice(t),a=180,l=100,u=2*Math.PI/n.length,h=2*Math.PI/n.length;return c.jsxs("section",{className:"relative py-12 bg-gradient-to-br from-gray-900 via-slate-900 to-black overflow-hidden",children:[c.jsx("div",{className:"absolute top-1/4 left-1/4 w-72 h-72 bg-indigo-600 rounded-full mix-blend-screen filter blur-3xl opacity-20 animate-float-subtle"}),c.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-72 h-72 bg-purple-600 rounded-full mix-blend-screen filter blur-3xl opacity-20 animate-float-subtle",style:{animationDelay:"5s"}}),c.jsx("div",{className:"absolute top-1/2 right-1/3 w-60 h-60 bg-pink-500 rounded-full mix-blend-screen filter blur-3xl opacity-10 animate-float-subtle",style:{animationDelay:"10s"}}),c.jsxs("div",{className:"relative container mx-auto px-4 sm:px-6 lg:px-8 flex flex-col items-center z-10",children:[c.jsx(Pn,{title:"Join Our Vibrant Community",subtitle:"Discover your passion, meet new people, and be part of something bigger. Dive into a world of innovation, creativity, and friendship.",colorScheme:"dark"}),c.jsxs("div",{className:"relative w-[400px] h-[400px] flex items-center justify-center my-2 group",children:[c.jsx("div",{className:"absolute w-full h-full animate-spin-medium-reverse",children:n&&n.map((f,g)=>{const x=g*u,v=a*Math.cos(x),_=a*Math.sin(x);return c.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 transition-transform duration-500 group-hover:scale-110",style:{transform:`translate(${v}px, ${_}px)`},children:c.jsx("img",{src:f.logoUrl,alt:`${f.name} logo`,className:"w-16 h-16 object-cover rounded-full bg-white/10 p-1 shadow-lg backdrop-blur-sm border-2 border-white/20 transition-all duration-300 hover:!scale-125 hover:border-indigo-400"})},`${f.id}-outer`)})}),c.jsx("div",{className:"absolute w-full h-full animate-spin-medium",children:s&&s.map((f,g)=>{const x=g*h,v=l*Math.cos(x),_=l*Math.sin(x);return c.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 transition-transform duration-500 group-hover:scale-110",style:{transform:`translate(${v}px, ${_}px)`},children:c.jsx("img",{src:f.logoUrl,alt:`${f.name} logo`,className:"w-14 h-14 object-cover rounded-full bg-white/10 p-1 shadow-md backdrop-blur-sm border-2 border-white/20 transition-all duration-300 hover:!scale-125 hover:border-pink-400"})},`${f.id}-inner`)})}),c.jsx("div",{className:"relative w-40 h-40 rounded-full bg-gray-900/50 backdrop-blur-md flex items-center justify-center text-center z-10 border border-white/10 shadow-2xl",children:c.jsx("h2",{className:"text-5xl font-extrabold tracking-tighter bg-clip-text text-transparent bg-gradient-to-br from-white to-gray-400",children:"Clubs"})})]}),c.jsxs(rn,{to:"/clubs",className:"button-glow-effect mt-6 bg-indigo-600 text-white font-bold py-4 px-8 rounded-full hover:bg-indigo-700 transition-all duration-300 flex items-center group shadow-lg transform hover:scale-105",children:[c.jsx("span",{children:"Explore All Clubs"}),c.jsx("div",{className:"ml-3 h-8 w-8 rounded-full bg-white/20 text-white flex items-center justify-center transform group-hover:translate-x-1 transition-transform",children:""})]})]})]})},QD=({events:r,clubs:e,leadership:t})=>c.jsxs("div",{className:"space-y-0",children:[c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:c.jsx(LD,{})}),c.jsx(UD,{events:r}),c.jsx(GD,{clubs:e}),c.jsx(BD,{leadership:t}),c.jsx(XD,{clubs:e}),c.jsx(YD,{}),c.jsx(WD,{})]}),vT=r=>r.name||r.title||"Untitled Event",JD=r=>r.description||"No description available",ZD=r=>r.date||"TBD",e5=r=>r.time||"TBD",t5=r=>r.location||"TBD",r5={[xt.Upcoming]:"bg-green-500/10 text-green-400",[xt.Ongoing]:"bg-blue-500/10 text-blue-400 animate-pulse",[xt.Past]:"bg-gray-500/10 text-gray-400"},n5={Technical:"bg-indigo-500/10 text-indigo-400",Cultural:"bg-pink-500/10 text-pink-400",Workshop:"bg-yellow-500/10 text-yellow-400",Sports:"bg-purple-500/10 text-purple-400"},yT=({event:r,registrations:e=0})=>{const t=Bs(),n=vT(r),s=JD(r),a=ZD(r),l=e5(r),u=t5(r),h=new Date,[f,g]=xf.useState({totalRegistrations:0,confirmedRegistrations:0,pendingRegistrations:0,cancelledRegistrations:0,checkedInCount:0}),[x,v]=xf.useState(!1);U.useEffect(()=>{_()},[r.id]);const _=async()=>{try{v(!0);const[S,w]=await Promise.all([br.getEventRegistrationStats(r.id,r.organizerClubId),br.getEventRegistrations(r.id,r.organizerClubId)]);g(S)}catch(S){console.error("Error loading registration data:",S)}finally{v(!1)}};return new Date(a)>h?xt.Upcoming:new Date(a)===h?(console.log("Ongoing"),xt.Ongoing):xt.Past,c.jsxs("div",{className:"bg-[#1D2434] rounded-xl shadow-lg overflow-hidden flex flex-col md:flex-row transition-all duration-300 hover:shadow-indigo-500/20 hover:scale-[1.02]",children:[c.jsx("img",{className:"h-56 w-full object-cover md:h-auto md:w-48",src:r.imageUrl,alt:n}),c.jsxs("div",{className:"p-6 flex flex-col justify-between flex-1",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-start flex-wrap gap-2",children:[c.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium ${n5[r.category]} flex-shrink-0`,children:r.category}),c.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-semibold ${r5[r.status]} flex-shrink-0`,children:r.status})]}),c.jsx("h3",{className:"text-xl font-bold text-white leading-tight mt-3",children:n}),c.jsx("p",{className:"mt-2 text-gray-400 text-sm line-clamp-2",children:s})]}),c.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row sm:items-center justify-between",children:[c.jsxs("div",{className:"space-y-2 text-sm text-gray-400",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),c.jsxs("span",{children:[a," at ",l]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),c.jsx("span",{children:u})]})]}),c.jsxs("button",{onClick:()=>t(`/events/${r.id}`),className:"mt-4 sm:mt-0 bg-indigo-600 text-white font-bold py-2 px-4 rounded-full hover:bg-indigo-700 transition-colors duration-300 flex items-center group",children:["Learn More",c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 ml-2 transform group-hover:translate-x-1 transition-transform",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]}),c.jsx("div",{className:"mt-6",children:c.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:c.jsxs("div",{className:"bg-slate-800 rounded-lg px-4 py-2 text-sm text-indigo-400 font-semibold flex items-center justify-center w-full sm:w-auto",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2 text-indigo-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a4 4 0 00-4-4H6a4 4 0 00-4 4v2h5m6 0v-6a4 4 0 00-4-4V4a4 4 0 018 0v6a4 4 0 00-4 4v6z"})}),f.totalRegistrations," Registration",f.totalRegistrations===1?"":"s"]})})})]})]})},s5=({events:r,clubs:e,registrations:t={}})=>{const[n,s]=U.useState(""),[a,l]=U.useState("all"),[u,h]=U.useState("all"),f=["Technical","Cultural","Workshop","Sports"],g=U.useMemo(()=>r.filter(x=>{const _=vT(x).toLowerCase().includes(n.toLowerCase()),S=a==="all"||x.organizerClubId===a,w=u==="all"||x.category===u;return _&&S&&w}),[n,a,u,r]);return c.jsxs("div",{className:"container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-16",children:[c.jsx(Pn,{title:"All College Events",subtitle:"Your central hub for every workshop, seminar, and competition on campus."}),c.jsx("div",{className:"bg-slate-900/60 backdrop-blur-sm p-4 rounded-lg shadow-lg mb-8 sticky top-24 z-40 border border-slate-700",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsx("input",{type:"text",placeholder:"Search by event name...",className:"md:col-span-2 w-full px-4 py-3 bg-slate-800 text-gray-200 border border-slate-600 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",value:n,onChange:x=>s(x.target.value)}),c.jsxs("select",{className:"w-full px-4 py-3 bg-slate-800 text-gray-200 border border-slate-600 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",value:a,onChange:x=>l(x.target.value),children:[c.jsx("option",{value:"all",children:"All Clubs"}),e.map(x=>c.jsx("option",{value:x.id,children:x.name},x.id))]}),c.jsxs("select",{className:"w-full px-4 py-3 bg-slate-800 text-gray-200 border border-slate-600 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",value:u,onChange:x=>h(x.target.value),children:[c.jsx("option",{value:"all",children:"All Categories"}),f.map(x=>c.jsx("option",{value:x,children:x},x))]})]})}),c.jsx("div",{className:"space-y-8",children:g.length>0?g.map(x=>c.jsx(yT,{event:x,registrations:t[x.id]||0},x.id)):c.jsx("div",{className:"text-center bg-slate-900 p-8 rounded-lg",children:c.jsx("p",{className:"text-gray-400",children:"No events match your criteria. Try adjusting your filters."})})})]})},i5="modulepreload",a5=function(r){return"/"+r},__={},R0=function(e,t,n){let s=Promise.resolve();if(t&&t.length>0){let l=function(f){return Promise.all(f.map(g=>Promise.resolve(g).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=l(t.map(f=>{if(f=a5(f),f in __)return;__[f]=!0;const g=f.endsWith(".css"),x=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${x}`))return;const v=document.createElement("link");if(v.rel=g?"stylesheet":i5,g||(v.as="script"),v.crossOrigin="",v.href=f,h&&v.setAttribute("nonce",h),document.head.appendChild(v),g)return new Promise((_,S)=>{v.addEventListener("load",_),v.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return s.then(l=>{for(const u of l||[])u.status==="rejected"&&a(u.reason);return e().catch(a)})},E_=({title:r,subtitle:e,events:t,noEventsMessage:n="No events to display."})=>t.length===0?c.jsxs("div",{className:"py-8",children:[c.jsx(Pn,{title:r,subtitle:e}),c.jsx("div",{className:"text-center bg-[#10141D] p-8 rounded-lg shadow-md",children:c.jsx("p",{className:"text-gray-400",children:n})})]}):c.jsxs("section",{className:"py-8",children:[r&&c.jsx(Pn,{title:r,subtitle:e}),c.jsx("div",{className:"space-y-8",children:t.map(s=>c.jsx(yT,{event:s},s.id))})]}),ra=({label:r,id:e,...t})=>c.jsxs("div",{children:[c.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-gray-300 mb-1",children:r}),c.jsx("input",{id:e,...t,className:"block w-full px-3 py-2 bg-slate-800 border border-slate-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),Kh=({label:r,id:e,...t})=>c.jsxs("div",{children:[c.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-gray-300 mb-1",children:r}),c.jsx("textarea",{id:e,...t,className:"block w-full px-3 py-2 bg-slate-800 border border-slate-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),b_=({label:r,id:e,children:t,...n})=>c.jsxs("div",{children:[c.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-gray-300 mb-1",children:r}),c.jsx("select",{id:e,...n,className:"block w-full px-3 py-2 bg-slate-800 border border-slate-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:t})]}),bg=({clubId:r,onClose:e,onCreateEvent:t,onUpdateEvent:n,eventToEdit:s})=>{var Ft,$t,er,As,En;const a=!!s,[l,u]=U.useState(!1),[h,f]=U.useState(!1),[g,x]=U.useState(""),[v,_]=U.useState([]),[S,w]=U.useState((s==null?void 0:s.name)||""),[T,j]=U.useState((s==null?void 0:s.date)||""),[D,L]=U.useState((s==null?void 0:s.time)||""),[M,Z]=U.useState((s==null?void 0:s.location)||""),[Q,N]=U.useState((s==null?void 0:s.description)||""),[I,A]=U.useState(((Ft=s==null?void 0:s.rules)==null?void 0:Ft.join(`
`))||""),[P,F]=U.useState((s==null?void 0:s.category)||"Technical"),[V,O]=U.useState((($t=s==null?void 0:s.capacity)==null?void 0:$t.toString())||""),[$e,je]=U.useState(((er=s==null?void 0:s.specialGuests)==null?void 0:er.join(`
`))||""),[Te,Ge]=U.useState(s!=null&&s.registrationFee&&s.registrationFee>0?"paid":"free"),[Se,pe]=U.useState(((As=s==null?void 0:s.registrationFee)==null?void 0:As.toString())||""),[Y,se]=U.useState((s==null?void 0:s.customSections)||[]),[W,ee]=U.useState(null),[J,te]=U.useState(!1),[ce,be]=U.useState(!1),[Pe,Me]=U.useState(!1),[Fe,mt]=U.useState((s==null?void 0:s.whatsappLink)||""),[ot,zt]=U.useState((s==null?void 0:s.mediaHouseAssist)||!1),[ct,xr]=U.useState((s==null?void 0:s.registrationType)||"individual"),[Tt,he]=U.useState(((En=s==null?void 0:s.maxTeamSize)==null?void 0:En.toString())||""),Ne=(qe,At,Pt)=>{const Or=[...Y];Or[qe]={...Or[qe],[At]:Pt},se(Or)},Be=(qe,At)=>{if(!At)return;const Pt=[...Y];Pt[qe]={...Pt[qe],files:Array.from(At)},se(Pt)},nt=()=>{se([...Y,{title:"",content:""}])},pt=qe=>{se(Y.filter((At,Pt)=>Pt!==qe))},yt=qe=>{qe.target.files&&qe.target.files[0]&&ee(qe.target.files[0])},sr=qe=>{if(qe.target.files){const At=Array.from(qe.target.files);_(At)}},Ht=async qe=>{qe.preventDefault(),be(!0);let At=(s==null?void 0:s.imageUrl)||"";if(W){te(!0);try{const cr=I0(),ve=Vx(cr,`eventImages/${r}/${Date.now()}_${W.name}`);await Mx(ve,W),At=await Ux(ve)}catch(cr){console.error("Error uploading image:",cr),alert("Image upload failed. Please try again."),te(!1),be(!1);return}te(!1)}const Pt=a?s.id:`ev${Date.now()}`;let Or=xt.Upcoming;const cs=new Date().toISOString().slice(0,10);T===cs&&(Or=xt.Ongoing);const bn={id:Pt,name:S,date:T,time:D,location:M,description:Q,rules:I.split(`
`).filter(cr=>cr.trim()!==""),category:P,registrationFee:Te==="paid"?Number(Se):0,capacity:V?parseInt(V):void 0,specialGuests:$e.split(`
`).filter(cr=>cr.trim()!==""),customSections:Y.filter(cr=>cr.title.trim()!==""&&cr.content.trim()!==""),imageUrl:At,status:Or,whatsappLink:Fe,mediaHouseAssist:ot,registrationType:ct,...ct==="team"&&Tt?{maxTeamSize:parseInt(Tt)}:{}};if(a&&n){const cr={...s,...bn};n(cr);try{const ve=bt(We,"events",r,"clubEvents",Pt);await Tc(ve,{...bn,organizerClubId:r,createdAt:s.createdAt||new Date().toISOString()}),console.log("Event updated:",{...bn,organizerClubId:r})}catch(ve){console.error("Error updating event:",ve)}be(!1)}else if(t){const cr={id:Pt,imageUrl:At||`https://picsum.photos/seed/${Date.now()}/800/400`,status:xt.Upcoming,organizerClubId:r,coordinators:[],whatsappLink:Fe,mediaHouseAssist:ot,...bn};t(cr);try{const ve=bt(We,"events",r,"clubEvents",Pt);await Tc(ve,{...bn,organizerClubId:r,createdAt:new Date().toISOString()}),console.log("Event created:",{...bn,organizerClubId:r})}catch(ve){console.error("Error creating event:",ve)}be(!1)}},cn=async()=>{be(!0);try{await rr.updateClubEvent(r,s.id,{status:xt.Past}),Me(!0),alert("Event marked as completed and moved to past events."),e()}catch(qe){console.log(qe),alert("Failed to mark event as completed.")}be(!1)};return c.jsxs("div",{className:"flex flex-col flex-1 min-h-0 relative",children:[ce&&c.jsx("div",{className:"absolute inset-0 bg-black/60 z-50 flex items-center justify-center",children:c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsxs("svg",{className:"animate-spin h-10 w-10 text-indigo-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),c.jsx("p",{className:"mt-4 text-lg text-white",children:"Submitting event..."})]})}),c.jsx("div",{className:"p-6 border-b border-slate-700 flex-shrink-0",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-white",children:a?"Edit Event Details":"Host a New Event"}),c.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white text-2xl",children:""})]})}),c.jsx("div",{className:"overflow-y-auto flex-1",children:c.jsxs("form",{id:"create-event-form",onSubmit:Ht,children:[c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsx(ra,{label:"Event Title",id:"name",value:S,onChange:qe=>w(qe.target.value),type:"text",required:!0}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsx(ra,{label:"Date",id:"date",value:T,onChange:qe=>j(qe.target.value),type:"date",required:!0}),c.jsx(ra,{label:"Time",id:"time",value:D,onChange:qe=>L(qe.target.value),type:"time",required:!0})]}),c.jsx(ra,{label:"Venue / Location",id:"location",value:M,onChange:qe=>Z(qe.target.value),type:"text",required:!0,placeholder:"e.g., Main Auditorium or Virtual"}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Event Banner (Image Upload)"}),c.jsx("input",{type:"file",accept:"image/*",onChange:yt,className:"block w-full text-sm text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-indigo-500 file:text-white hover:file:bg-indigo-600"}),J&&c.jsx("p",{className:"text-indigo-400 mt-2",children:"Uploading image..."})]}),c.jsx(Kh,{label:"Description",id:"description",value:Q,onChange:qe=>N(qe.target.value),rows:4,required:!0}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs(b_,{label:"Category",id:"category",value:P,onChange:qe=>F(qe.target.value),required:!0,children:[c.jsx("option",{value:"Technical",children:"Technical"}),c.jsx("option",{value:"Cultural",children:"Cultural"}),c.jsx("option",{value:"Workshop",children:"Workshop"}),c.jsx("option",{value:"Sports",children:"Sports"})]}),c.jsx(ra,{label:"Event Capacity",id:"capacity",value:V,onChange:qe=>O(qe.target.value),type:"number",min:"1",placeholder:"e.g., 100"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Registration Fee"}),c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-gray-300",children:[c.jsx("input",{type:"radio",name:"feeType",value:"free",checked:Te==="free",onChange:()=>Ge("free"),className:"h-4 w-4 bg-slate-700 border-slate-500 text-indigo-600 focus:ring-indigo-500 focus:ring-offset-slate-900"}),c.jsx("span",{children:"Free"})]}),c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-gray-300",children:[c.jsx("input",{type:"radio",name:"feeType",value:"paid",checked:Te==="paid",onChange:()=>Ge("paid"),className:"h-4 w-4 bg-slate-700 border-slate-500 text-indigo-600 focus:ring-indigo-500 focus:ring-offset-slate-900"}),c.jsx("span",{children:"Paid"})]})]})]}),Te==="paid"&&c.jsx("div",{className:"animate-tab-content-enter",children:c.jsx(ra,{label:"Fee Amount ($)",id:"registrationFee",type:"number",min:"0.01",step:"0.01",placeholder:"e.g., 10",required:!0,value:Se,onChange:qe=>pe(qe.target.value)})}),c.jsx(Kh,{label:"Special Guests/Speakers (Optional)",id:"specialGuests",value:$e,onChange:qe=>je(qe.target.value),rows:2,placeholder:"Enter one guest per line."}),c.jsx(Kh,{label:"Rules & Guidelines (Optional)",id:"rules",value:I,onChange:qe=>A(qe.target.value),rows:3,placeholder:"Enter one rule per line."}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-2",children:"Custom Sections"}),c.jsx("div",{className:"space-y-4",children:Y.map((qe,At)=>c.jsxs("div",{className:"p-3 bg-slate-800/50 rounded-lg space-y-2 relative",children:[c.jsx("button",{type:"button",onClick:()=>pt(At),className:"absolute top-2 right-2 p-1 bg-red-600/20 text-red-400 hover:bg-red-600/50 rounded-full text-sm font-bold",children:""}),c.jsx(ra,{label:"Section Title",id:`custom-title-${At}`,value:qe.title,onChange:Pt=>Ne(At,"title",Pt.target.value),placeholder:"e.g., Prizes"}),c.jsxs(b_,{label:"Section Type",id:`custom-type-${At}`,value:qe.type||"text",onChange:Pt=>Ne(At,"type",Pt.target.value),required:!0,children:[c.jsx("option",{value:"text",children:"Text"}),c.jsx("option",{value:"image",children:"Image"}),c.jsx("option",{value:"video",children:"Video"})]}),(!qe.type||qe.type==="text")&&c.jsx(Kh,{label:"Section Content",id:`custom-content-${At}`,value:qe.content||"",onChange:Pt=>Ne(At,"content",Pt.target.value),rows:3,placeholder:"Describe the section content..."}),(qe.type==="image"||qe.type==="video")&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:qe.type==="image"?"Upload Images":"Upload Videos"}),c.jsx("input",{type:"file",accept:qe.type==="image"?"image/*":"video/*",multiple:!0,onChange:Pt=>Be(At,Pt.target.files),className:"block"}),qe.files&&qe.files.length>0&&c.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:qe.files.map((Pt,Or)=>c.jsx("span",{className:"text-xs text-gray-400 bg-slate-700 px-2 py-1 rounded",children:Pt.name},Or))})]})]},At))}),c.jsx("button",{type:"button",onClick:nt,className:"mt-3 px-4 py-2 text-sm bg-slate-700 hover:bg-slate-600 rounded-md font-semibold",children:"+ Add Custom Section"})]}),l&&c.jsxs("div",{className:"mt-4",children:[c.jsx("button",{type:"button",className:"bg-gray-700 text-white px-4 py-2 rounded-lg",onClick:()=>f(!0),children:"Mark as Past Event"}),h&&c.jsxs("div",{className:"mt-2 space-y-2",children:[c.jsx("input",{type:"text",placeholder:"Winner Details",value:g,onChange:qe=>x(qe.target.value),className:"block w-full px-3 py-2 bg-slate-800 border border-slate-600 rounded-md"}),c.jsx("input",{type:"file",multiple:!0,onChange:sr,className:"block"})]})]}),c.jsx("div",{children:c.jsx(ra,{label:"WhatsApp Group Link (for students to join)",id:"whatsappLink",type:"url",value:Fe,onChange:qe=>mt(qe.target.value),placeholder:"https://chat.whatsapp.com/...",required:!1})}),c.jsxs("div",{className:"flex items-center mt-4",children:[c.jsx("label",{htmlFor:"mediaHouseAssist",className:"text-sm font-medium text-gray-300 mr-3",children:"Do you want any assist from media house for promotions?"}),c.jsx("input",{id:"mediaHouseAssist",type:"checkbox",checked:ot,onChange:qe=>zt(qe.target.checked),className:"h-5 w-5 text-indigo-600 bg-slate-800 border-slate-600 rounded focus:ring-indigo-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Registration Type"}),c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-gray-300",children:[c.jsx("input",{type:"radio",name:"registrationType",value:"individual",checked:ct==="individual",onChange:()=>xr("individual"),className:"h-4 w-4 bg-slate-700 border-slate-500 text-indigo-600 focus:ring-indigo-500"}),c.jsx("span",{children:"Individual"})]}),c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-gray-300",children:[c.jsx("input",{type:"radio",name:"registrationType",value:"team",checked:ct==="team",onChange:()=>xr("team"),className:"h-4 w-4 bg-slate-700 border-slate-500 text-indigo-600 focus:ring-indigo-500"}),c.jsx("span",{children:"Team"})]})]})]}),ct==="team"&&c.jsx("div",{children:c.jsx(ra,{label:"Maximum Team Size",id:"maxTeamSize",type:"number",min:"2",max:"20",required:!0,value:Tt,onChange:qe=>he(qe.target.value),placeholder:"e.g., 4"})})]}),c.jsx("div",{className:"p-6 border-t border-slate-700",children:c.jsxs("div",{className:"flex justify-end gap-4",children:[c.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 bg-slate-700 text-white rounded-lg hover:bg-slate-800 transition-colors",children:"Cancel"}),c.jsx("button",{type:"submit",form:"create-event-form",className:"px-6 py-2 bg-indigo-600 text-white font-bold rounded-lg hover:bg-indigo-700 transition-colors",children:a?"Save Changes":"Create Event"}),a&&(s==null?void 0:s.status)!==xt.Past&&c.jsx("button",{type:"button",onClick:cn,className:"px-6 py-2 bg-green-600 text-white font-bold rounded-lg hover:bg-green-700 transition-colors",disabled:ce,children:"Mark Event as Completed"})]})})]})})]})},o5=({currentUser:r,club:e,contributors:t,onContributorUpdate:n})=>{const[s,a]=U.useState(!1),[l,u]=U.useState(!1),[h,f]=U.useState(null);U.useEffect(()=>{(async()=>{if(r!=null&&r.id){const S=await Wx(r.id,e.id);a(S)}})()},[r,e.id]);const g=t.filter(_=>{var S;return(S=_.managedClubIds)==null?void 0:S.includes(e.id)}),x=async(_,S)=>{if(r!=null&&r.id){u(!0),f(null);try{await zx(_,e.id,r.id)?(f({text:`${S} has been revoked from ${e.name}`,type:"success"}),n()):f({text:"Failed to revoke contributor access",type:"error"})}catch{f({text:"Error revoking contributor access",type:"error"})}finally{u(!1)}}},v=async(_,S)=>{if(r!=null&&r.id){u(!0),f(null);try{await $x(_,r.id)?(f({text:`${S} has been revoked from all clubs`,type:"success"}),n()):f({text:"Failed to revoke all contributor access",type:"error"})}catch{f({text:"Error revoking all contributor access",type:"error"})}finally{u(!1)}}};return s?c.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-lg p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-bold text-white",children:"Club Contributors"}),c.jsxs("span",{className:"text-sm text-gray-400",children:[g.length," contributor(s)"]})]}),h&&c.jsx("div",{className:`mb-4 p-3 rounded-md ${h.type==="success"?"bg-green-500/10 text-green-400 border border-green-500/20":"bg-red-500/10 text-red-400 border border-red-500/20"}`,children:h.text}),g.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-slate-800 rounded-full flex items-center justify-center",children:c.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),c.jsx("p",{className:"text-gray-400",children:"No contributors assigned to this club"})]}):c.jsx("div",{className:"space-y-3",children:g.map(_=>{var S,w,T;return c.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 bg-indigo-500/20 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-indigo-400 font-bold text-sm",children:(w=(S=_.name)==null?void 0:S.charAt(0))==null?void 0:w.toUpperCase()})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-white",children:_.name}),c.jsx("p",{className:"text-sm text-gray-400",children:_.rollNumber})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"text-xs text-gray-400",children:[((T=_.managedClubIds)==null?void 0:T.length)||0," club(s)"]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:()=>x(_.id,_.name),disabled:l,className:"px-3 py-1 text-xs bg-orange-600/50 text-orange-300 hover:bg-orange-600/80 rounded-md disabled:opacity-50",children:["Revoke from ",e.name]}),_.managedClubIds&&_.managedClubIds.length>1&&c.jsx("button",{onClick:()=>v(_.id,_.name),disabled:l,className:"px-3 py-1 text-xs bg-red-600/50 text-red-300 hover:bg-red-600/80 rounded-md disabled:opacity-50",children:"Revoke All"})]})]})]},_.id)})}),c.jsx("div",{className:"mt-4 p-3 bg-slate-800/30 rounded-md",children:c.jsxs("p",{className:"text-xs text-gray-400",children:[c.jsx("strong",{children:"Note:"})," As a contributor to this club, you can revoke other contributors' access to this club. Admins can revoke access to any club."]})})]}):null},l5=({clubId:r,clubName:e,isAdmin:t})=>{const[n,s]=U.useState({name:"",email:"",phone:"",type:"route",business_type:"individual",bank_account:{name:"",ifsc:"",account_number:""}}),[a,l]=U.useState(!1),[u,h]=U.useState(!1),[f,g]=U.useState(null),[x,v]=U.useState(null),[_,S]=U.useState(!1);U.useEffect(()=>{t&&r&&w()},[t,r]);const w=async()=>{try{l(!0);const M=bt(We,"clubs",r,"paymentDetails","razorpay"),Z=await is(M);if(Z.exists()){const Q=Z.data();s(Q),S(!0)}}catch(M){console.error("Error loading payment details:",M),g("Failed to load payment details")}finally{l(!1)}},T=(M,Z)=>{if(M.includes(".")){const[Q,N]=M.split(".");s(I=>({...I,[Q]:{...I[Q],[N]:Z}}))}else s(Q=>({...Q,[M]:Z}))},j=()=>n.name.trim()?n.email.trim()?/^[a-z0-9._%+-]+@gcet\.edu\.in$/i.test(n.email)?n.phone.trim()?n.bank_account.name.trim()?n.bank_account.ifsc.trim()?n.bank_account.account_number.trim()?!0:(g("Account number is required"),!1):(g("IFSC code is required"),!1):(g("Bank account holder name is required"),!1):(g("Phone number is required"),!1):(g("Only GCET college email addresses are allowed"),!1):(g("Email is required"),!1):(g("Vendor name is required"),!1),D=async()=>{const M=await fetch("https://us-central1-evnty-124fb.cloudfunctions.net/createRazorpaySubMerchant",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!M.ok){const Q=await M.json();throw new Error(Q.error||"Failed to create sub-merchant")}return(await M.json()).linked_account_id},L=async M=>{if(M.preventDefault(),g(null),v(null),!!j())try{h(!0);let Z=n.linked_account_id;Z||(Z=await D());const Q={...n,linked_account_id:Z,status:"active",updated_at:new Date,created_at:_?n.created_at:new Date},N=bt(We,"clubs",r,"paymentDetails","razorpay");await Tc(N,Q),s(Q),S(!0),v("Payment details saved successfully! Sub-merchant account created.")}catch(Z){console.error("Error saving payment details:",Z),g(Z.message||"Failed to save payment details")}finally{h(!1)}};return t?a?c.jsxs("div",{className:"flex items-center justify-center p-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"}),c.jsx("span",{className:"ml-2",children:"Loading payment details..."})]}):c.jsxs("div",{className:"bg-slate-800 rounded-lg shadow-lg p-6 border border-slate-700",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Payment Details Management"}),c.jsxs("p",{className:"text-gray-300",children:["Configure payment details for ",e," to enable direct payments to your account."]})]}),f&&c.jsx("div",{className:"bg-red-500/20 border border-red-500/50 text-red-400 px-4 py-3 rounded mb-4",children:f}),x&&c.jsx("div",{className:"bg-green-500/20 border border-green-500/50 text-green-400 px-4 py-3 rounded mb-4",children:x}),c.jsxs("form",{onSubmit:L,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Vendor Name *"}),c.jsx("input",{type:"text",value:n.name,onChange:M=>T("name",M.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter vendor name",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email *"}),c.jsx("input",{type:"email",value:n.email,onChange:M=>T("email",M.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter email address",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Phone Number *"}),c.jsx("input",{type:"tel",value:n.phone,onChange:M=>T("phone",M.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter phone number",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Account Type *"}),c.jsxs("select",{value:n.type,onChange:M=>T("type",M.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[c.jsx("option",{value:"route",children:"Route"}),c.jsx("option",{value:"marketplace",children:"Marketplace"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Business Type *"}),c.jsxs("select",{value:n.business_type,onChange:M=>T("business_type",M.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[c.jsx("option",{value:"individual",children:"Individual"}),c.jsx("option",{value:"company",children:"Company"}),c.jsx("option",{value:"partnership",children:"Partnership"}),c.jsx("option",{value:"llp",children:"LLP"}),c.jsx("option",{value:"trust",children:"Trust"}),c.jsx("option",{value:"ngo",children:"NGO"})]})]})]}),c.jsxs("div",{className:"border-t border-slate-600 pt-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Bank Account Details"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Account Holder Name *"}),c.jsx("input",{type:"text",value:n.bank_account.name,onChange:M=>T("bank_account.name",M.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter account holder name",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"IFSC Code *"}),c.jsx("input",{type:"text",value:n.bank_account.ifsc,onChange:M=>T("bank_account.ifsc",M.target.value.toUpperCase()),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter IFSC code",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Account Number *"}),c.jsx("input",{type:"text",value:n.bank_account.account_number,onChange:M=>T("bank_account.account_number",M.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter account number",required:!0})]})]})]}),n.linked_account_id&&c.jsxs("div",{className:"bg-blue-500/20 border border-blue-500/50 rounded-lg p-4",children:[c.jsx("h4",{className:"font-semibold text-blue-400 mb-2",children:"Sub-Merchant Account Status"}),c.jsxs("p",{className:"text-blue-300",children:[c.jsx("strong",{children:"Linked Account ID:"})," ",n.linked_account_id]}),c.jsxs("p",{className:"text-blue-300",children:[c.jsx("strong",{children:"Status:"})," ",n.status||"Pending Verification"]}),c.jsxs("div",{className:"mt-3 p-3 bg-yellow-500/20 border border-yellow-500/50 rounded",children:[c.jsxs("p",{className:"text-yellow-300 text-sm",children:[c.jsx("strong",{children:"Note:"})," This is a mock sub-merchant account. To create real Razorpay sub-merchants:"]}),c.jsxs("ul",{className:"text-yellow-300 text-sm mt-2 ml-4 list-disc",children:[c.jsx("li",{children:"Set up a Razorpay Partner account"}),c.jsx("li",{children:"Use Razorpay Partners API for sub-merchant creation"}),c.jsx("li",{children:"Complete KYC process for each sub-merchant"}),c.jsx("li",{children:"Contact Razorpay support for Partner API access"})]})]})]}),c.jsxs("div",{className:"flex justify-end space-x-4",children:[c.jsx("button",{type:"button",onClick:w,className:"px-4 py-2 border border-slate-600 rounded-md text-gray-300 hover:bg-slate-700",children:"Cancel"}),c.jsx("button",{type:"submit",disabled:u,className:"px-6 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Saving...":_?"Update Details":"Create Sub-Merchant"})]})]})]}):c.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:c.jsx("p",{className:"text-yellow-800",children:"Only club admins can manage payment details."})})};async function c5(r,e,t){const n=I0(),s=r.name.split(".").pop()||"jpg",a=Vx(n,`clubs/${e}/${t}.${s}`);return await Mx(a,r),await Ux(a)}async function u5(r,e,t){const n=I0(),s=r.name.split(".").pop()||"jpg",a=`${Date.now()}_${Math.floor(Math.random()*1e5)}`,l=Vx(n,`events/${e}/${t}/highlights/${a}.${s}`);return await Mx(l,r),await Ux(l)}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Bf={};Bf.version="0.18.5";var wT=1252,d5=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],_T=function(r){d5.indexOf(r)!=-1&&(wT=r)};function h5(){_T(1252)}var Xu=function(r){_T(r)};function f5(){Xu(1200),h5()}var Yh=function(e){return String.fromCharCode(e)},T_=function(e){return String.fromCharCode(e)},zf,eo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Qu(r){for(var e="",t=0,n=0,s=0,a=0,l=0,u=0,h=0,f=0;f<r.length;)t=r.charCodeAt(f++),a=t>>2,n=r.charCodeAt(f++),l=(t&3)<<4|n>>4,s=r.charCodeAt(f++),u=(n&15)<<2|s>>6,h=s&63,isNaN(n)?u=h=64:isNaN(s)&&(h=64),e+=eo.charAt(a)+eo.charAt(l)+eo.charAt(u)+eo.charAt(h);return e}function xa(r){var e="",t=0,n=0,s=0,a=0,l=0,u=0,h=0;r=r.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<r.length;)a=eo.indexOf(r.charAt(f++)),l=eo.indexOf(r.charAt(f++)),t=a<<2|l>>4,e+=String.fromCharCode(t),u=eo.indexOf(r.charAt(f++)),n=(l&15)<<4|u>>2,u!==64&&(e+=String.fromCharCode(n)),h=eo.indexOf(r.charAt(f++)),s=(u&3)<<6|h,h!==64&&(e+=String.fromCharCode(s));return e}var Bt=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),wa=(function(){if(typeof Buffer<"u"){var r=!Buffer.from;if(!r)try{Buffer.from("foo","utf8")}catch{r=!0}return r?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function sl(r){return Bt?Buffer.alloc?Buffer.alloc(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}function S_(r){return Bt?Buffer.allocUnsafe?Buffer.allocUnsafe(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}var ai=function(e){return Bt?wa(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function P0(r){if(typeof ArrayBuffer>"u")return ai(r);for(var e=new ArrayBuffer(r.length),t=new Uint8Array(e),n=0;n!=r.length;++n)t[n]=r.charCodeAt(n)&255;return e}function Ed(r){if(Array.isArray(r))return r.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],t=0;t<r.length;++t)e[t]=String.fromCharCode(r[t]);return e.join("")}function m5(r){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(r)}var xn=Bt?function(r){return Buffer.concat(r.map(function(e){return Buffer.isBuffer(e)?e:wa(e)}))}:function(r){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<r.length;++e)t+=r[e].length;var n=new Uint8Array(t),s=0;for(e=0,t=0;e<r.length;t+=s,++e)if(s=r[e].length,r[e]instanceof Uint8Array)n.set(r[e],t);else{if(typeof r[e]=="string")throw"wtf";n.set(new Uint8Array(r[e]),t)}return n}return[].concat.apply([],r.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function p5(r){for(var e=[],t=0,n=r.length+250,s=sl(r.length+255),a=0;a<r.length;++a){var l=r.charCodeAt(a);if(l<128)s[t++]=l;else if(l<2048)s[t++]=192|l>>6&31,s[t++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var u=r.charCodeAt(++a)&1023;s[t++]=240|l>>8&7,s[t++]=128|l>>2&63,s[t++]=128|u>>6&15|(l&3)<<4,s[t++]=128|u&63}else s[t++]=224|l>>12&15,s[t++]=128|l>>6&63,s[t++]=128|l&63;t>n&&(e.push(s.slice(0,t)),t=0,s=sl(65535),n=65530)}return e.push(s.slice(0,t)),xn(e)}var Pu=/\u0000/g,Xh=/[\u0001-\u0006]/g;function fc(r){for(var e="",t=r.length-1;t>=0;)e+=r.charAt(t--);return e}function li(r,e){var t=""+r;return t.length>=e?t:Cr("0",e-t.length)+t}function Hx(r,e){var t=""+r;return t.length>=e?t:Cr(" ",e-t.length)+t}function $f(r,e){var t=""+r;return t.length>=e?t:t+Cr(" ",e-t.length)}function g5(r,e){var t=""+Math.round(r);return t.length>=e?t:Cr("0",e-t.length)+t}function x5(r,e){var t=""+r;return t.length>=e?t:Cr("0",e-t.length)+t}var N_=Math.pow(2,32);function Ql(r,e){if(r>N_||r<-N_)return g5(r,e);var t=Math.round(r);return x5(t,e)}function Wf(r,e){return e=e||0,r.length>=7+e&&(r.charCodeAt(e)|32)===103&&(r.charCodeAt(e+1)|32)===101&&(r.charCodeAt(e+2)|32)===110&&(r.charCodeAt(e+3)|32)===101&&(r.charCodeAt(e+4)|32)===114&&(r.charCodeAt(e+5)|32)===97&&(r.charCodeAt(e+6)|32)===108}var C_=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Op=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function v5(r){return r||(r={}),r[0]="General",r[1]="0",r[2]="0.00",r[3]="#,##0",r[4]="#,##0.00",r[9]="0%",r[10]="0.00%",r[11]="0.00E+00",r[12]="# ?/?",r[13]="# ??/??",r[14]="m/d/yy",r[15]="d-mmm-yy",r[16]="d-mmm",r[17]="mmm-yy",r[18]="h:mm AM/PM",r[19]="h:mm:ss AM/PM",r[20]="h:mm",r[21]="h:mm:ss",r[22]="m/d/yy h:mm",r[37]="#,##0 ;(#,##0)",r[38]="#,##0 ;[Red](#,##0)",r[39]="#,##0.00;(#,##0.00)",r[40]="#,##0.00;[Red](#,##0.00)",r[45]="mm:ss",r[46]="[h]:mm:ss",r[47]="mmss.0",r[48]="##0.0E+0",r[49]="@",r[56]='"/ "hh""mm""ss" "',r}var Ar={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},A_={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},y5={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Hf(r,e,t){for(var n=r<0?-1:1,s=r*n,a=0,l=1,u=0,h=1,f=0,g=0,x=Math.floor(s);f<e&&(x=Math.floor(s),u=x*l+a,g=x*f+h,!(s-x<5e-8));)s=1/(s-x),a=l,l=u,h=f,f=g;if(g>e&&(f>e?(g=h,u=a):(g=f,u=l)),!t)return[0,n*u,g];var v=Math.floor(n*u/g);return[v,n*u-v*g,g]}function Qh(r,e,t){if(r>2958465||r<0)return null;var n=r|0,s=Math.floor(86400*(r-n)),a=0,l=[],u={D:n,T:s,u:86400*(r-n)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(u.u)<1e-6&&(u.u=0),e&&e.date1904&&(n+=1462),u.u>.9999&&(u.u=0,++s==86400&&(u.T=s=0,++n,++u.D)),n===60)l=t?[1317,10,29]:[1900,2,29],a=3;else if(n===0)l=t?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var h=new Date(1900,0,1);h.setDate(h.getDate()+n-1),l=[h.getFullYear(),h.getMonth()+1,h.getDate()],a=h.getDay(),n<60&&(a=(a+6)%7),t&&(a=N5(h,l))}return u.y=l[0],u.m=l[1],u.d=l[2],u.S=s%60,s=Math.floor(s/60),u.M=s%60,s=Math.floor(s/60),u.H=s,u.q=a,u}var ET=new Date(1899,11,31,0,0,0),w5=ET.getTime(),_5=new Date(1900,2,1,0,0,0);function bT(r,e){var t=r.getTime();return e?t-=1461*24*60*60*1e3:r>=_5&&(t+=1440*60*1e3),(t-(w5+(r.getTimezoneOffset()-ET.getTimezoneOffset())*6e4))/(1440*60*1e3)}function Gx(r){return r.indexOf(".")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function E5(r){return r.indexOf("E")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function b5(r){var e=r<0?12:11,t=Gx(r.toFixed(12));return t.length<=e||(t=r.toPrecision(10),t.length<=e)?t:r.toExponential(5)}function T5(r){var e=Gx(r.toFixed(11));return e.length>(r<0?12:11)||e==="0"||e==="-0"?r.toPrecision(6):e}function S5(r){var e=Math.floor(Math.log(Math.abs(r))*Math.LOG10E),t;return e>=-4&&e<=-1?t=r.toPrecision(10+e):Math.abs(e)<=9?t=b5(r):e===10?t=r.toFixed(10).substr(0,12):t=T5(r),Gx(E5(t.toUpperCase()))}function Tg(r,e){switch(typeof r){case"string":return r;case"boolean":return r?"TRUE":"FALSE";case"number":return(r|0)===r?r.toString(10):S5(r);case"undefined":return"";case"object":if(r==null)return"";if(r instanceof Date)return go(14,bT(r,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+r)}function N5(r,e){e[0]-=581;var t=r.getDay();return r<60&&(t=(t+6)%7),t}function C5(r,e,t,n){var s="",a=0,l=0,u=t.y,h,f=0;switch(r){case 98:u=t.y+543;case 121:switch(e.length){case 1:case 2:h=u%100,f=2;break;default:h=u%1e4,f=4;break}break;case 109:switch(e.length){case 1:case 2:h=t.m,f=e.length;break;case 3:return Op[t.m-1][1];case 5:return Op[t.m-1][0];default:return Op[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:h=t.d,f=e.length;break;case 3:return C_[t.q][0];default:return C_[t.q][1]}break;case 104:switch(e.length){case 1:case 2:h=1+(t.H+11)%12,f=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:h=t.H,f=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:h=t.M,f=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?li(t.S,e.length):(n>=2?l=n===3?1e3:100:l=n===1?10:1,a=Math.round(l*(t.S+t.u)),a>=60*l&&(a=0),e==="s"?a===0?"0":""+a/l:(s=li(a,2+n),e==="ss"?s.substr(0,2):"."+s.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":h=t.D*24+t.H;break;case"[m]":case"[mm]":h=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":h=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}f=e.length===3?1:2;break;case 101:h=u,f=1;break}var g=f>0?li(h,f):"";return g}function to(r){var e=3;if(r.length<=e)return r;for(var t=r.length%e,n=r.substr(0,t);t!=r.length;t+=e)n+=(n.length>0?",":"")+r.substr(t,e);return n}var TT=/%/g;function A5(r,e,t){var n=e.replace(TT,""),s=e.length-n.length;return ca(r,n,t*Math.pow(10,2*s))+Cr("%",s)}function I5(r,e,t){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return ca(r,e.substr(0,n),t/Math.pow(10,3*(e.length-n)))}function ST(r,e){var t,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+ST(r,-e);var s=r.indexOf(".");s===-1&&(s=r.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%s;if(a<0&&(a+=s),t=(e/Math.pow(10,a)).toPrecision(n+1+(s+a)%s),t.indexOf("e")===-1){var l=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(l-t.length+a):t+="E+"+(l-a);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,s)+"."+t.substr(2+s),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,h,f,g){return h+f+g.substr(0,(s+a)%s)+"."+g.substr(a)+"E"})}else t=e.toExponential(n);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var NT=/# (\?+)( ?)\/( ?)(\d+)/;function k5(r,e,t){var n=parseInt(r[4],10),s=Math.round(e*n),a=Math.floor(s/n),l=s-a*n,u=n;return t+(a===0?"":""+a)+" "+(l===0?Cr(" ",r[1].length+1+r[4].length):Hx(l,r[1].length)+r[2]+"/"+r[3]+li(u,r[4].length))}function R5(r,e,t){return t+(e===0?"":""+e)+Cr(" ",r[1].length+2+r[4].length)}var CT=/^#*0*\.([0#]+)/,AT=/\).*[0#]/,IT=/\(###\) ###\\?-####/;function Bn(r){for(var e="",t,n=0;n!=r.length;++n)switch(t=r.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function I_(r,e){var t=Math.pow(10,e);return""+Math.round(r*t)/t}function k_(r,e){var t=r-Math.floor(r),n=Math.pow(10,e);return e<(""+Math.round(t*n)).length?0:Math.round(t*n)}function P5(r,e){return e<(""+Math.round((r-Math.floor(r))*Math.pow(10,e))).length?1:0}function j5(r){return r<2147483647&&r>-2147483648?""+(r>=0?r|0:r-1|0):""+Math.floor(r)}function Ls(r,e,t){if(r.charCodeAt(0)===40&&!e.match(AT)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Ls("n",n,t):"("+Ls("n",n,-t)+")"}if(e.charCodeAt(e.length-1)===44)return I5(r,e,t);if(e.indexOf("%")!==-1)return A5(r,e,t);if(e.indexOf("E")!==-1)return ST(e,t);if(e.charCodeAt(0)===36)return"$"+Ls(r,e.substr(e.charAt(1)==" "?2:1),t);var s,a,l,u,h=Math.abs(t),f=t<0?"-":"";if(e.match(/^00+$/))return f+Ql(h,e.length);if(e.match(/^[#?]+$/))return s=Ql(t,0),s==="0"&&(s=""),s.length>e.length?s:Bn(e.substr(0,e.length-s.length))+s;if(a=e.match(NT))return k5(a,h,f);if(e.match(/^#+0+$/))return f+Ql(h,e.length-e.indexOf("0"));if(a=e.match(CT))return s=I_(t,a[1].length).replace(/^([^\.]+)$/,"$1."+Bn(a[1])).replace(/\.$/,"."+Bn(a[1])).replace(/\.(\d*)$/,function(S,w){return"."+w+Cr("0",Bn(a[1]).length-w.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return f+I_(h,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return f+to(Ql(h,0));if(a=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Ls(r,e,-t):to(""+(Math.floor(t)+P5(t,a[1].length)))+"."+li(k_(t,a[1].length),a[1].length);if(a=e.match(/^#,#*,#0/))return Ls(r,e.replace(/^#,#*,/,""),t);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=fc(Ls(r,e.replace(/[\\-]/g,""),t)),l=0,fc(fc(e.replace(/\\/g,"")).replace(/[0#]/g,function(S){return l<s.length?s.charAt(l++):S==="0"?"0":""}));if(e.match(IT))return s=Ls(r,"##########",t),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var g="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(a[4].length,7),u=Hf(h,Math.pow(10,l)-1,!1),s=""+f,g=ca("n",a[1],u[1]),g.charAt(g.length-1)==" "&&(g=g.substr(0,g.length-1)+"0"),s+=g+a[2]+"/"+a[3],g=$f(u[2],l),g.length<a[4].length&&(g=Bn(a[4].substr(a[4].length-g.length))+g),s+=g,s;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(a[1].length,a[4].length),7),u=Hf(h,Math.pow(10,l)-1,!0),f+(u[0]||(u[1]?"":"0"))+" "+(u[1]?Hx(u[1],l)+a[2]+"/"+a[3]+$f(u[2],l):Cr(" ",2*l+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return s=Ql(t,0),e.length<=s.length?s:Bn(e.substr(0,e.length-s.length))+s;if(a=e.match(/^([#0?]+)\.([#0]+)$/)){s=""+t.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),l=s.indexOf(".");var x=e.indexOf(".")-l,v=e.length-s.length-x;return Bn(e.substr(0,x)+s+e.substr(e.length-v))}if(a=e.match(/^00,000\.([#0]*0)$/))return l=k_(t,a[1].length),t<0?"-"+Ls(r,e,-t):to(j5(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(S){return"00,"+(S.length<3?li(0,3-S.length):"")+S})+"."+li(l,a[1].length);switch(e){case"###,##0.00":return Ls(r,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var _=to(Ql(h,0));return _!=="0"?f+_:"";case"###,###.00":return Ls(r,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return Ls(r,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function D5(r,e,t){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return ca(r,e.substr(0,n),t/Math.pow(10,3*(e.length-n)))}function O5(r,e,t){var n=e.replace(TT,""),s=e.length-n.length;return ca(r,n,t*Math.pow(10,2*s))+Cr("%",s)}function kT(r,e){var t,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+kT(r,-e);var s=r.indexOf(".");s===-1&&(s=r.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%s;if(a<0&&(a+=s),t=(e/Math.pow(10,a)).toPrecision(n+1+(s+a)%s),!t.match(/[Ee]/)){var l=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(l-t.length+a):t+="E+"+(l-a),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,h,f,g){return h+f+g.substr(0,(s+a)%s)+"."+g.substr(a)+"E"})}else t=e.toExponential(n);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function Si(r,e,t){if(r.charCodeAt(0)===40&&!e.match(AT)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Si("n",n,t):"("+Si("n",n,-t)+")"}if(e.charCodeAt(e.length-1)===44)return D5(r,e,t);if(e.indexOf("%")!==-1)return O5(r,e,t);if(e.indexOf("E")!==-1)return kT(e,t);if(e.charCodeAt(0)===36)return"$"+Si(r,e.substr(e.charAt(1)==" "?2:1),t);var s,a,l,u,h=Math.abs(t),f=t<0?"-":"";if(e.match(/^00+$/))return f+li(h,e.length);if(e.match(/^[#?]+$/))return s=""+t,t===0&&(s=""),s.length>e.length?s:Bn(e.substr(0,e.length-s.length))+s;if(a=e.match(NT))return R5(a,h,f);if(e.match(/^#+0+$/))return f+li(h,e.length-e.indexOf("0"));if(a=e.match(CT))return s=(""+t).replace(/^([^\.]+)$/,"$1."+Bn(a[1])).replace(/\.$/,"."+Bn(a[1])),s=s.replace(/\.(\d*)$/,function(S,w){return"."+w+Cr("0",Bn(a[1]).length-w.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return f+(""+h).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return f+to(""+h);if(a=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Si(r,e,-t):to(""+t)+"."+Cr("0",a[1].length);if(a=e.match(/^#,#*,#0/))return Si(r,e.replace(/^#,#*,/,""),t);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=fc(Si(r,e.replace(/[\\-]/g,""),t)),l=0,fc(fc(e.replace(/\\/g,"")).replace(/[0#]/g,function(S){return l<s.length?s.charAt(l++):S==="0"?"0":""}));if(e.match(IT))return s=Si(r,"##########",t),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var g="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(a[4].length,7),u=Hf(h,Math.pow(10,l)-1,!1),s=""+f,g=ca("n",a[1],u[1]),g.charAt(g.length-1)==" "&&(g=g.substr(0,g.length-1)+"0"),s+=g+a[2]+"/"+a[3],g=$f(u[2],l),g.length<a[4].length&&(g=Bn(a[4].substr(a[4].length-g.length))+g),s+=g,s;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(a[1].length,a[4].length),7),u=Hf(h,Math.pow(10,l)-1,!0),f+(u[0]||(u[1]?"":"0"))+" "+(u[1]?Hx(u[1],l)+a[2]+"/"+a[3]+$f(u[2],l):Cr(" ",2*l+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return s=""+t,e.length<=s.length?s:Bn(e.substr(0,e.length-s.length))+s;if(a=e.match(/^([#0]+)\.([#0]+)$/)){s=""+t.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),l=s.indexOf(".");var x=e.indexOf(".")-l,v=e.length-s.length-x;return Bn(e.substr(0,x)+s+e.substr(e.length-v))}if(a=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+Si(r,e,-t):to(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(S){return"00,"+(S.length<3?li(0,3-S.length):"")+S})+"."+li(0,a[1].length);switch(e){case"###,###":case"##,###":case"#,###":var _=to(""+h);return _!=="0"?f+_:"";default:if(e.match(/\.[0#?]*$/))return Si(r,e.slice(0,e.lastIndexOf(".")),t)+Bn(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function ca(r,e,t){return(t|0)===t?Si(r,e,t):Ls(r,e,t)}function F5(r){for(var e=[],t=!1,n=0,s=0;n<r.length;++n)switch(r.charCodeAt(n)){case 34:t=!t;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=r.substr(s,n-s),s=n+1}if(e[e.length]=r.substr(s),t===!0)throw new Error("Format |"+r+"| unterminated string ");return e}var RT=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function PT(r){for(var e=0,t="",n="";e<r.length;)switch(t=r.charAt(e)){case"G":Wf(r,e)&&(e+=6),e++;break;case'"':for(;r.charCodeAt(++e)!==34&&e<r.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(r.charAt(e+1)==="1"||r.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(r.substr(e,3).toUpperCase()==="A/P"||r.substr(e,5).toUpperCase()==="AM/PM"||r.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=t;r.charAt(e++)!=="]"&&e<r.length;)n+=r.charAt(e);if(n.match(RT))return!0;break;case".":case"0":case"#":for(;e<r.length&&("0#?.,E+-%".indexOf(t=r.charAt(++e))>-1||t=="\\"&&r.charAt(e+1)=="-"&&"0#".indexOf(r.charAt(e+2))>-1););break;case"?":for(;r.charAt(++e)===t;);break;case"*":++e,(r.charAt(e)==" "||r.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<r.length&&"0123456789".indexOf(r.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function L5(r,e,t,n){for(var s=[],a="",l=0,u="",h="t",f,g,x,v="H";l<r.length;)switch(u=r.charAt(l)){case"G":if(!Wf(r,l))throw new Error("unrecognized character "+u+" in "+r);s[s.length]={t:"G",v:"General"},l+=7;break;case'"':for(a="";(x=r.charCodeAt(++l))!==34&&l<r.length;)a+=String.fromCharCode(x);s[s.length]={t:"t",v:a},++l;break;case"\\":var _=r.charAt(++l),S=_==="("||_===")"?_:"t";s[s.length]={t:S,v:_},++l;break;case"_":s[s.length]={t:"t",v:" "},l+=2;break;case"@":s[s.length]={t:"T",v:e},++l;break;case"B":case"b":if(r.charAt(l+1)==="1"||r.charAt(l+1)==="2"){if(f==null&&(f=Qh(e,t,r.charAt(l+1)==="2"),f==null))return"";s[s.length]={t:"X",v:r.substr(l,2)},h=u,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||f==null&&(f=Qh(e,t),f==null))return"";for(a=u;++l<r.length&&r.charAt(l).toLowerCase()===u;)a+=u;u==="m"&&h.toLowerCase()==="h"&&(u="M"),u==="h"&&(u=v),s[s.length]={t:u,v:a},h=u;break;case"A":case"a":case"":var w={t:u,v:u};if(f==null&&(f=Qh(e,t)),r.substr(l,3).toUpperCase()==="A/P"?(f!=null&&(w.v=f.H>=12?"P":"A"),w.t="T",v="h",l+=3):r.substr(l,5).toUpperCase()==="AM/PM"?(f!=null&&(w.v=f.H>=12?"PM":"AM"),w.t="T",l+=5,v="h"):r.substr(l,5).toUpperCase()==="/"?(f!=null&&(w.v=f.H>=12?"":""),w.t="T",l+=5,v="h"):(w.t="t",++l),f==null&&w.t==="T")return"";s[s.length]=w,h=u;break;case"[":for(a=u;r.charAt(l++)!=="]"&&l<r.length;)a+=r.charAt(l);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(RT)){if(f==null&&(f=Qh(e,t),f==null))return"";s[s.length]={t:"Z",v:a.toLowerCase()},h=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",PT(r)||(s[s.length]={t:"t",v:a}));break;case".":if(f!=null){for(a=u;++l<r.length&&(u=r.charAt(l))==="0";)a+=u;s[s.length]={t:"s",v:a};break}case"0":case"#":for(a=u;++l<r.length&&"0#?.,E+-%".indexOf(u=r.charAt(l))>-1;)a+=u;s[s.length]={t:"n",v:a};break;case"?":for(a=u;r.charAt(++l)===u;)a+=u;s[s.length]={t:u,v:a},h=u;break;case"*":++l,(r.charAt(l)==" "||r.charAt(l)=="*")&&++l;break;case"(":case")":s[s.length]={t:n===1?"t":u,v:u},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=u;l<r.length&&"0123456789".indexOf(r.charAt(++l))>-1;)a+=r.charAt(l);s[s.length]={t:"D",v:a};break;case" ":s[s.length]={t:u,v:u},++l;break;case"$":s[s.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(u)===-1)throw new Error("unrecognized character "+u+" in "+r);s[s.length]={t:"t",v:u},++l;break}var T=0,j=0,D;for(l=s.length-1,h="t";l>=0;--l)switch(s[l].t){case"h":case"H":s[l].t=v,h="h",T<1&&(T=1);break;case"s":(D=s[l].v.match(/\.0+$/))&&(j=Math.max(j,D[0].length-1)),T<3&&(T=3);case"d":case"y":case"M":case"e":h=s[l].t;break;case"m":h==="s"&&(s[l].t="M",T<2&&(T=2));break;case"X":break;case"Z":T<1&&s[l].v.match(/[Hh]/)&&(T=1),T<2&&s[l].v.match(/[Mm]/)&&(T=2),T<3&&s[l].v.match(/[Ss]/)&&(T=3)}switch(T){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var L="",M;for(l=0;l<s.length;++l)switch(s[l].t){case"t":case"T":case" ":case"D":break;case"X":s[l].v="",s[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[l].v=C5(s[l].t.charCodeAt(0),s[l].v,f,j),s[l].t="t";break;case"n":case"?":for(M=l+1;s[M]!=null&&((u=s[M].t)==="?"||u==="D"||(u===" "||u==="t")&&s[M+1]!=null&&(s[M+1].t==="?"||s[M+1].t==="t"&&s[M+1].v==="/")||s[l].t==="("&&(u===" "||u==="n"||u===")")||u==="t"&&(s[M].v==="/"||s[M].v===" "&&s[M+1]!=null&&s[M+1].t=="?"));)s[l].v+=s[M].v,s[M]={v:"",t:";"},++M;L+=s[l].v,l=M-1;break;case"G":s[l].t="t",s[l].v=Tg(e,t);break}var Z="",Q,N;if(L.length>0){L.charCodeAt(0)==40?(Q=e<0&&L.charCodeAt(0)===45?-e:e,N=ca("n",L,Q)):(Q=e<0&&n>1?-e:e,N=ca("n",L,Q),Q<0&&s[0]&&s[0].t=="t"&&(N=N.substr(1),s[0].v="-"+s[0].v)),M=N.length-1;var I=s.length;for(l=0;l<s.length;++l)if(s[l]!=null&&s[l].t!="t"&&s[l].v.indexOf(".")>-1){I=l;break}var A=s.length;if(I===s.length&&N.indexOf("E")===-1){for(l=s.length-1;l>=0;--l)s[l]==null||"n?".indexOf(s[l].t)===-1||(M>=s[l].v.length-1?(M-=s[l].v.length,s[l].v=N.substr(M+1,s[l].v.length)):M<0?s[l].v="":(s[l].v=N.substr(0,M+1),M=-1),s[l].t="t",A=l);M>=0&&A<s.length&&(s[A].v=N.substr(0,M+1)+s[A].v)}else if(I!==s.length&&N.indexOf("E")===-1){for(M=N.indexOf(".")-1,l=I;l>=0;--l)if(!(s[l]==null||"n?".indexOf(s[l].t)===-1)){for(g=s[l].v.indexOf(".")>-1&&l===I?s[l].v.indexOf(".")-1:s[l].v.length-1,Z=s[l].v.substr(g+1);g>=0;--g)M>=0&&(s[l].v.charAt(g)==="0"||s[l].v.charAt(g)==="#")&&(Z=N.charAt(M--)+Z);s[l].v=Z,s[l].t="t",A=l}for(M>=0&&A<s.length&&(s[A].v=N.substr(0,M+1)+s[A].v),M=N.indexOf(".")+1,l=I;l<s.length;++l)if(!(s[l]==null||"n?(".indexOf(s[l].t)===-1&&l!==I)){for(g=s[l].v.indexOf(".")>-1&&l===I?s[l].v.indexOf(".")+1:0,Z=s[l].v.substr(0,g);g<s[l].v.length;++g)M<N.length&&(Z+=N.charAt(M++));s[l].v=Z,s[l].t="t",A=l}}}for(l=0;l<s.length;++l)s[l]!=null&&"n?".indexOf(s[l].t)>-1&&(Q=n>1&&e<0&&l>0&&s[l-1].v==="-"?-e:e,s[l].v=ca(s[l].t,s[l].v,Q),s[l].t="t");var P="";for(l=0;l!==s.length;++l)s[l]!=null&&(P+=s[l].v);return P}var R_=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function P_(r,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(r==t)return!0;break;case">":if(r>t)return!0;break;case"<":if(r<t)return!0;break;case"<>":if(r!=t)return!0;break;case">=":if(r>=t)return!0;break;case"<=":if(r<=t)return!0;break}return!1}function M5(r,e){var t=F5(r),n=t.length,s=t[n-1].indexOf("@");if(n<4&&s>-1&&--n,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||s>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=s>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=s>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=s>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var a=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[n,a];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var l=t[0].match(R_),u=t[1].match(R_);return P_(e,l)?[n,t[0]]:P_(e,u)?[n,t[1]]:[n,t[l!=null&&u!=null?2:1]]}return[n,a]}function go(r,e,t){t==null&&(t={});var n="";switch(typeof r){case"string":r=="m/d/yy"&&t.dateNF?n=t.dateNF:n=r;break;case"number":r==14&&t.dateNF?n=t.dateNF:n=(t.table!=null?t.table:Ar)[r],n==null&&(n=t.table&&t.table[A_[r]]||Ar[A_[r]]),n==null&&(n=y5[r]||"General");break}if(Wf(n,0))return Tg(e,t);e instanceof Date&&(e=bT(e,t.date1904));var s=M5(n,e);if(Wf(s[1]))return Tg(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return L5(s[1],e,t,s[0])}function jT(r,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(Ar[t]==null){e<0&&(e=t);continue}if(Ar[t]==r){e=t;break}}e<0&&(e=391)}return Ar[e]=r,e}function j0(r){for(var e=0;e!=392;++e)r[e]!==void 0&&jT(r[e],e)}function D0(){Ar=v5()}var DT=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function U5(r){var e=typeof r=="number"?Ar[r]:r;return e=e.replace(DT,"(\\d+)"),new RegExp("^"+e+"$")}function V5(r,e,t){var n=-1,s=-1,a=-1,l=-1,u=-1,h=-1;(e.match(DT)||[]).forEach(function(x,v){var _=parseInt(t[v+1],10);switch(x.toLowerCase().charAt(0)){case"y":n=_;break;case"d":a=_;break;case"h":l=_;break;case"s":h=_;break;case"m":l>=0?u=_:s=_;break}}),h>=0&&u==-1&&s>=0&&(u=s,s=-1);var f=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var g=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2)+":"+("00"+(h>=0?h:0)).slice(-2);return l==-1&&u==-1&&h==-1?f:n==-1&&s==-1&&a==-1?g:f+"T"+g}var B5=(function(){var r={};r.version="1.2.0";function e(){for(var N=0,I=new Array(256),A=0;A!=256;++A)N=A,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,I[A]=N;return typeof Int32Array<"u"?new Int32Array(I):I}var t=e();function n(N){var I=0,A=0,P=0,F=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(P=0;P!=256;++P)F[P]=N[P];for(P=0;P!=256;++P)for(A=N[P],I=256+P;I<4096;I+=256)A=F[I]=A>>>8^N[A&255];var V=[];for(P=1;P!=16;++P)V[P-1]=typeof Int32Array<"u"?F.subarray(P*256,P*256+256):F.slice(P*256,P*256+256);return V}var s=n(t),a=s[0],l=s[1],u=s[2],h=s[3],f=s[4],g=s[5],x=s[6],v=s[7],_=s[8],S=s[9],w=s[10],T=s[11],j=s[12],D=s[13],L=s[14];function M(N,I){for(var A=I^-1,P=0,F=N.length;P<F;)A=A>>>8^t[(A^N.charCodeAt(P++))&255];return~A}function Z(N,I){for(var A=I^-1,P=N.length-15,F=0;F<P;)A=L[N[F++]^A&255]^D[N[F++]^A>>8&255]^j[N[F++]^A>>16&255]^T[N[F++]^A>>>24]^w[N[F++]]^S[N[F++]]^_[N[F++]]^v[N[F++]]^x[N[F++]]^g[N[F++]]^f[N[F++]]^h[N[F++]]^u[N[F++]]^l[N[F++]]^a[N[F++]]^t[N[F++]];for(P+=15;F<P;)A=A>>>8^t[(A^N[F++])&255];return~A}function Q(N,I){for(var A=I^-1,P=0,F=N.length,V=0,O=0;P<F;)V=N.charCodeAt(P++),V<128?A=A>>>8^t[(A^V)&255]:V<2048?(A=A>>>8^t[(A^(192|V>>6&31))&255],A=A>>>8^t[(A^(128|V&63))&255]):V>=55296&&V<57344?(V=(V&1023)+64,O=N.charCodeAt(P++)&1023,A=A>>>8^t[(A^(240|V>>8&7))&255],A=A>>>8^t[(A^(128|V>>2&63))&255],A=A>>>8^t[(A^(128|O>>6&15|(V&3)<<4))&255],A=A>>>8^t[(A^(128|O&63))&255]):(A=A>>>8^t[(A^(224|V>>12&15))&255],A=A>>>8^t[(A^(128|V>>6&63))&255],A=A>>>8^t[(A^(128|V&63))&255]);return~A}return r.table=t,r.bstr=M,r.buf=Z,r.str=Q,r})(),Jt=(function(){var e={};e.version="1.2.1";function t(R,G){for(var z=R.split("/"),H=G.split("/"),q=0,K=0,oe=Math.min(z.length,H.length);q<oe;++q){if(K=z[q].length-H[q].length)return K;if(z[q]!=H[q])return z[q]<H[q]?-1:1}return z.length-H.length}function n(R){if(R.charAt(R.length-1)=="/")return R.slice(0,-1).indexOf("/")===-1?R:n(R.slice(0,-1));var G=R.lastIndexOf("/");return G===-1?R:R.slice(0,G+1)}function s(R){if(R.charAt(R.length-1)=="/")return s(R.slice(0,-1));var G=R.lastIndexOf("/");return G===-1?R:R.slice(G+1)}function a(R,G){typeof G=="string"&&(G=new Date(G));var z=G.getHours();z=z<<6|G.getMinutes(),z=z<<5|G.getSeconds()>>>1,R.write_shift(2,z);var H=G.getFullYear()-1980;H=H<<4|G.getMonth()+1,H=H<<5|G.getDate(),R.write_shift(2,H)}function l(R){var G=R.read_shift(2)&65535,z=R.read_shift(2)&65535,H=new Date,q=z&31;z>>>=5;var K=z&15;z>>>=4,H.setMilliseconds(0),H.setFullYear(z+1980),H.setMonth(K-1),H.setDate(q);var oe=G&31;G>>>=5;var xe=G&63;return G>>>=6,H.setHours(G),H.setMinutes(xe),H.setSeconds(oe<<1),H}function u(R){ys(R,0);for(var G={},z=0;R.l<=R.length-4;){var H=R.read_shift(2),q=R.read_shift(2),K=R.l+q,oe={};switch(H){case 21589:z=R.read_shift(1),z&1&&(oe.mtime=R.read_shift(4)),q>5&&(z&2&&(oe.atime=R.read_shift(4)),z&4&&(oe.ctime=R.read_shift(4))),oe.mtime&&(oe.mt=new Date(oe.mtime*1e3));break}R.l=K,G[H]=oe}return G}var h;function f(){return h||(h={})}function g(R,G){if(R[0]==80&&R[1]==75)return _t(R,G);if((R[0]|32)==109&&(R[1]|32)==105)return To(R,G);if(R.length<512)throw new Error("CFB file size "+R.length+" < 512");var z=3,H=512,q=0,K=0,oe=0,xe=0,le=0,de=[],fe=R.slice(0,512);ys(fe,0);var Ie=x(fe);switch(z=Ie[0],z){case 3:H=512;break;case 4:H=4096;break;case 0:if(Ie[1]==0)return _t(R,G);default:throw new Error("Major Version: Expected 3 or 4 saw "+z)}H!==512&&(fe=R.slice(0,H),ys(fe,28));var Ue=R.slice(0,H);v(fe,z);var Ke=fe.read_shift(4,"i");if(z===3&&Ke!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ke);fe.l+=4,oe=fe.read_shift(4,"i"),fe.l+=4,fe.chk("00100000","Mini Stream Cutoff Size: "),xe=fe.read_shift(4,"i"),q=fe.read_shift(4,"i"),le=fe.read_shift(4,"i"),K=fe.read_shift(4,"i");for(var De=-1,ke=0;ke<109&&(De=fe.read_shift(4,"i"),!(De<0));++ke)de[ke]=De;var ut=_(R,H);T(le,K,ut,H,de);var Vt=D(ut,oe,de,H);Vt[oe].name="!Directory",q>0&&xe!==O&&(Vt[xe].name="!MiniFAT"),Vt[de[0]].name="!FAT",Vt.fat_addrs=de,Vt.ssz=H;var Lt={},Gt=[],Ws=[],pi=[];L(oe,Vt,ut,Gt,q,Lt,Ws,xe),S(Ws,pi,Gt),Gt.shift();var us={FileIndex:Ws,FullPaths:pi};return G&&G.raw&&(us.raw={header:Ue,sectors:ut}),us}function x(R){if(R[R.l]==80&&R[R.l+1]==75)return[0,0];R.chk($e,"Header Signature: "),R.l+=16;var G=R.read_shift(2,"u");return[R.read_shift(2,"u"),G]}function v(R,G){var z=9;switch(R.l+=2,z=R.read_shift(2)){case 9:if(G!=3)throw new Error("Sector Shift: Expected 9 saw "+z);break;case 12:if(G!=4)throw new Error("Sector Shift: Expected 12 saw "+z);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+z)}R.chk("0600","Mini Sector Shift: "),R.chk("000000000000","Reserved: ")}function _(R,G){for(var z=Math.ceil(R.length/G)-1,H=[],q=1;q<z;++q)H[q-1]=R.slice(q*G,(q+1)*G);return H[z-1]=R.slice(z*G),H}function S(R,G,z){for(var H=0,q=0,K=0,oe=0,xe=0,le=z.length,de=[],fe=[];H<le;++H)de[H]=fe[H]=H,G[H]=z[H];for(;xe<fe.length;++xe)H=fe[xe],q=R[H].L,K=R[H].R,oe=R[H].C,de[H]===H&&(q!==-1&&de[q]!==q&&(de[H]=de[q]),K!==-1&&de[K]!==K&&(de[H]=de[K])),oe!==-1&&(de[oe]=H),q!==-1&&H!=de[H]&&(de[q]=de[H],fe.lastIndexOf(q)<xe&&fe.push(q)),K!==-1&&H!=de[H]&&(de[K]=de[H],fe.lastIndexOf(K)<xe&&fe.push(K));for(H=1;H<le;++H)de[H]===H&&(K!==-1&&de[K]!==K?de[H]=de[K]:q!==-1&&de[q]!==q&&(de[H]=de[q]));for(H=1;H<le;++H)if(R[H].type!==0){if(xe=H,xe!=de[xe])do xe=de[xe],G[H]=G[xe]+"/"+G[H];while(xe!==0&&de[xe]!==-1&&xe!=de[xe]);de[H]=-1}for(G[0]+="/",H=1;H<le;++H)R[H].type!==2&&(G[H]+="/")}function w(R,G,z){for(var H=R.start,q=R.size,K=[],oe=H;z&&q>0&&oe>=0;)K.push(G.slice(oe*V,oe*V+V)),q-=V,oe=Go(z,oe*4);return K.length===0?ye(0):xn(K).slice(0,R.size)}function T(R,G,z,H,q){var K=O;if(R===O){if(G!==0)throw new Error("DIFAT chain shorter than expected")}else if(R!==-1){var oe=z[R],xe=(H>>>2)-1;if(!oe)return;for(var le=0;le<xe&&(K=Go(oe,le*4))!==O;++le)q.push(K);T(Go(oe,H-4),G-1,z,H,q)}}function j(R,G,z,H,q){var K=[],oe=[];q||(q=[]);var xe=H-1,le=0,de=0;for(le=G;le>=0;){q[le]=!0,K[K.length]=le,oe.push(R[le]);var fe=z[Math.floor(le*4/H)];if(de=le*4&xe,H<4+de)throw new Error("FAT boundary crossed: "+le+" 4 "+H);if(!R[fe])break;le=Go(R[fe],de)}return{nodes:K,data:V_([oe])}}function D(R,G,z,H){var q=R.length,K=[],oe=[],xe=[],le=[],de=H-1,fe=0,Ie=0,Ue=0,Ke=0;for(fe=0;fe<q;++fe)if(xe=[],Ue=fe+G,Ue>=q&&(Ue-=q),!oe[Ue]){le=[];var De=[];for(Ie=Ue;Ie>=0;){De[Ie]=!0,oe[Ie]=!0,xe[xe.length]=Ie,le.push(R[Ie]);var ke=z[Math.floor(Ie*4/H)];if(Ke=Ie*4&de,H<4+Ke)throw new Error("FAT boundary crossed: "+Ie+" 4 "+H);if(!R[ke]||(Ie=Go(R[ke],Ke),De[Ie]))break}K[Ue]={nodes:xe,data:V_([le])}}return K}function L(R,G,z,H,q,K,oe,xe){for(var le=0,de=H.length?2:0,fe=G[R].data,Ie=0,Ue=0,Ke;Ie<fe.length;Ie+=128){var De=fe.slice(Ie,Ie+128);ys(De,64),Ue=De.read_shift(2),Ke=Qx(De,0,Ue-de),H.push(Ke);var ke={name:Ke,type:De.read_shift(1),color:De.read_shift(1),L:De.read_shift(4,"i"),R:De.read_shift(4,"i"),C:De.read_shift(4,"i"),clsid:De.read_shift(16),state:De.read_shift(4,"i"),start:0,size:0},ut=De.read_shift(2)+De.read_shift(2)+De.read_shift(2)+De.read_shift(2);ut!==0&&(ke.ct=M(De,De.l-8));var Vt=De.read_shift(2)+De.read_shift(2)+De.read_shift(2)+De.read_shift(2);Vt!==0&&(ke.mt=M(De,De.l-8)),ke.start=De.read_shift(4,"i"),ke.size=De.read_shift(4,"i"),ke.size<0&&ke.start<0&&(ke.size=ke.type=0,ke.start=O,ke.name=""),ke.type===5?(le=ke.start,q>0&&le!==O&&(G[le].name="!StreamData")):ke.size>=4096?(ke.storage="fat",G[ke.start]===void 0&&(G[ke.start]=j(z,ke.start,G.fat_addrs,G.ssz)),G[ke.start].name=ke.name,ke.content=G[ke.start].data.slice(0,ke.size)):(ke.storage="minifat",ke.size<0?ke.size=0:le!==O&&ke.start!==O&&G[le]&&(ke.content=w(ke,G[le].data,(G[xe]||{}).data))),ke.content&&ys(ke.content,0),K[Ke]=ke,oe.push(ke)}}function M(R,G){return new Date((_s(R,G+4)/1e7*Math.pow(2,32)+_s(R,G)/1e7-11644473600)*1e3)}function Z(R,G){return f(),g(h.readFileSync(R),G)}function Q(R,G){var z=G&&G.type;switch(z||Bt&&Buffer.isBuffer(R)&&(z="buffer"),z||"base64"){case"file":return Z(R,G);case"base64":return g(ai(xa(R)),G);case"binary":return g(ai(R),G)}return g(R,G)}function N(R,G){var z=G||{},H=z.root||"Root Entry";if(R.FullPaths||(R.FullPaths=[]),R.FileIndex||(R.FileIndex=[]),R.FullPaths.length!==R.FileIndex.length)throw new Error("inconsistent CFB structure");R.FullPaths.length===0&&(R.FullPaths[0]=H+"/",R.FileIndex[0]={name:H,type:5}),z.CLSID&&(R.FileIndex[0].clsid=z.CLSID),I(R)}function I(R){var G="Sh33tJ5";if(!Jt.find(R,"/"+G)){var z=ye(4);z[0]=55,z[1]=z[3]=50,z[2]=54,R.FileIndex.push({name:G,type:2,content:z,size:4,L:69,R:69,C:69}),R.FullPaths.push(R.FullPaths[0]+G),A(R)}}function A(R,G){N(R);for(var z=!1,H=!1,q=R.FullPaths.length-1;q>=0;--q){var K=R.FileIndex[q];switch(K.type){case 0:H?z=!0:(R.FileIndex.pop(),R.FullPaths.pop());break;case 1:case 2:case 5:H=!0,isNaN(K.R*K.L*K.C)&&(z=!0),K.R>-1&&K.L>-1&&K.R==K.L&&(z=!0);break;default:z=!0;break}}if(!(!z&&!G)){var oe=new Date(1987,1,19),xe=0,le=Object.create?Object.create(null):{},de=[];for(q=0;q<R.FullPaths.length;++q)le[R.FullPaths[q]]=!0,R.FileIndex[q].type!==0&&de.push([R.FullPaths[q],R.FileIndex[q]]);for(q=0;q<de.length;++q){var fe=n(de[q][0]);H=le[fe],H||(de.push([fe,{name:s(fe).replace("/",""),type:1,clsid:Te,ct:oe,mt:oe,content:null}]),le[fe]=!0)}for(de.sort(function(Ke,De){return t(Ke[0],De[0])}),R.FullPaths=[],R.FileIndex=[],q=0;q<de.length;++q)R.FullPaths[q]=de[q][0],R.FileIndex[q]=de[q][1];for(q=0;q<de.length;++q){var Ie=R.FileIndex[q],Ue=R.FullPaths[q];if(Ie.name=s(Ue).replace("/",""),Ie.L=Ie.R=Ie.C=-(Ie.color=1),Ie.size=Ie.content?Ie.content.length:0,Ie.start=0,Ie.clsid=Ie.clsid||Te,q===0)Ie.C=de.length>1?1:-1,Ie.size=0,Ie.type=5;else if(Ue.slice(-1)=="/"){for(xe=q+1;xe<de.length&&n(R.FullPaths[xe])!=Ue;++xe);for(Ie.C=xe>=de.length?-1:xe,xe=q+1;xe<de.length&&n(R.FullPaths[xe])!=n(Ue);++xe);Ie.R=xe>=de.length?-1:xe,Ie.type=1}else n(R.FullPaths[q+1]||"")==n(Ue)&&(Ie.R=q+1),Ie.type=2}}}function P(R,G){var z=G||{};if(z.fileType=="mad")return vr(R,z);switch(A(R),z.fileType){case"zip":return It(R,z)}var H=(function(Ke){for(var De=0,ke=0,ut=0;ut<Ke.FileIndex.length;++ut){var Vt=Ke.FileIndex[ut];if(Vt.content){var Lt=Vt.content.length;Lt>0&&(Lt<4096?De+=Lt+63>>6:ke+=Lt+511>>9)}}for(var Gt=Ke.FullPaths.length+3>>2,Ws=De+7>>3,pi=De+127>>7,us=Ws+ke+Gt+pi,Rr=us+127>>7,ba=Rr<=109?0:Math.ceil((Rr-109)/127);us+Rr+ba+127>>7>Rr;)ba=++Rr<=109?0:Math.ceil((Rr-109)/127);var dr=[1,ba,Rr,pi,Gt,ke,De,0];return Ke.FileIndex[0].size=De<<6,dr[7]=(Ke.FileIndex[0].start=dr[0]+dr[1]+dr[2]+dr[3]+dr[4]+dr[5])+(dr[6]+7>>3),dr})(R),q=ye(H[7]<<9),K=0,oe=0;{for(K=0;K<8;++K)q.write_shift(1,je[K]);for(K=0;K<8;++K)q.write_shift(2,0);for(q.write_shift(2,62),q.write_shift(2,3),q.write_shift(2,65534),q.write_shift(2,9),q.write_shift(2,6),K=0;K<3;++K)q.write_shift(2,0);for(q.write_shift(4,0),q.write_shift(4,H[2]),q.write_shift(4,H[0]+H[1]+H[2]+H[3]-1),q.write_shift(4,0),q.write_shift(4,4096),q.write_shift(4,H[3]?H[0]+H[1]+H[2]-1:O),q.write_shift(4,H[3]),q.write_shift(-4,H[1]?H[0]-1:O),q.write_shift(4,H[1]),K=0;K<109;++K)q.write_shift(-4,K<H[2]?H[1]+K:-1)}if(H[1])for(oe=0;oe<H[1];++oe){for(;K<236+oe*127;++K)q.write_shift(-4,K<H[2]?H[1]+K:-1);q.write_shift(-4,oe===H[1]-1?O:oe+1)}var xe=function(Ke){for(oe+=Ke;K<oe-1;++K)q.write_shift(-4,K+1);Ke&&(++K,q.write_shift(-4,O))};for(oe=K=0,oe+=H[1];K<oe;++K)q.write_shift(-4,Ge.DIFSECT);for(oe+=H[2];K<oe;++K)q.write_shift(-4,Ge.FATSECT);xe(H[3]),xe(H[4]);for(var le=0,de=0,fe=R.FileIndex[0];le<R.FileIndex.length;++le)fe=R.FileIndex[le],fe.content&&(de=fe.content.length,!(de<4096)&&(fe.start=oe,xe(de+511>>9)));for(xe(H[6]+7>>3);q.l&511;)q.write_shift(-4,Ge.ENDOFCHAIN);for(oe=K=0,le=0;le<R.FileIndex.length;++le)fe=R.FileIndex[le],fe.content&&(de=fe.content.length,!(!de||de>=4096)&&(fe.start=oe,xe(de+63>>6)));for(;q.l&511;)q.write_shift(-4,Ge.ENDOFCHAIN);for(K=0;K<H[4]<<2;++K){var Ie=R.FullPaths[K];if(!Ie||Ie.length===0){for(le=0;le<17;++le)q.write_shift(4,0);for(le=0;le<3;++le)q.write_shift(4,-1);for(le=0;le<12;++le)q.write_shift(4,0);continue}fe=R.FileIndex[K],K===0&&(fe.start=fe.size?fe.start-1:O);var Ue=K===0&&z.root||fe.name;if(de=2*(Ue.length+1),q.write_shift(64,Ue,"utf16le"),q.write_shift(2,de),q.write_shift(1,fe.type),q.write_shift(1,fe.color),q.write_shift(-4,fe.L),q.write_shift(-4,fe.R),q.write_shift(-4,fe.C),fe.clsid)q.write_shift(16,fe.clsid,"hex");else for(le=0;le<4;++le)q.write_shift(4,0);q.write_shift(4,fe.state||0),q.write_shift(4,0),q.write_shift(4,0),q.write_shift(4,0),q.write_shift(4,0),q.write_shift(4,fe.start),q.write_shift(4,fe.size),q.write_shift(4,0)}for(K=1;K<R.FileIndex.length;++K)if(fe=R.FileIndex[K],fe.size>=4096)if(q.l=fe.start+1<<9,Bt&&Buffer.isBuffer(fe.content))fe.content.copy(q,q.l,0,fe.size),q.l+=fe.size+511&-512;else{for(le=0;le<fe.size;++le)q.write_shift(1,fe.content[le]);for(;le&511;++le)q.write_shift(1,0)}for(K=1;K<R.FileIndex.length;++K)if(fe=R.FileIndex[K],fe.size>0&&fe.size<4096)if(Bt&&Buffer.isBuffer(fe.content))fe.content.copy(q,q.l,0,fe.size),q.l+=fe.size+63&-64;else{for(le=0;le<fe.size;++le)q.write_shift(1,fe.content[le]);for(;le&63;++le)q.write_shift(1,0)}if(Bt)q.l=q.length;else for(;q.l<q.length;)q.write_shift(1,0);return q}function F(R,G){var z=R.FullPaths.map(function(le){return le.toUpperCase()}),H=z.map(function(le){var de=le.split("/");return de[de.length-(le.slice(-1)=="/"?2:1)]}),q=!1;G.charCodeAt(0)===47?(q=!0,G=z[0].slice(0,-1)+G):q=G.indexOf("/")!==-1;var K=G.toUpperCase(),oe=q===!0?z.indexOf(K):H.indexOf(K);if(oe!==-1)return R.FileIndex[oe];var xe=!K.match(Xh);for(K=K.replace(Pu,""),xe&&(K=K.replace(Xh,"!")),oe=0;oe<z.length;++oe)if((xe?z[oe].replace(Xh,"!"):z[oe]).replace(Pu,"")==K||(xe?H[oe].replace(Xh,"!"):H[oe]).replace(Pu,"")==K)return R.FileIndex[oe];return null}var V=64,O=-2,$e="d0cf11e0a1b11ae1",je=[208,207,17,224,161,177,26,225],Te="00000000000000000000000000000000",Ge={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:O,FREESECT:-1,HEADER_SIGNATURE:$e,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Te,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Se(R,G,z){f();var H=P(R,z);h.writeFileSync(G,H)}function pe(R){for(var G=new Array(R.length),z=0;z<R.length;++z)G[z]=String.fromCharCode(R[z]);return G.join("")}function Y(R,G){var z=P(R,G);switch(G&&G.type||"buffer"){case"file":return f(),h.writeFileSync(G.filename,z),z;case"binary":return typeof z=="string"?z:pe(z);case"base64":return Qu(typeof z=="string"?z:pe(z));case"buffer":if(Bt)return Buffer.isBuffer(z)?z:wa(z);case"array":return typeof z=="string"?ai(z):z}return z}var se;function W(R){try{var G=R.InflateRaw,z=new G;if(z._processChunk(new Uint8Array([3,0]),z._finishFlushFlag),z.bytesRead)se=R;else throw new Error("zlib does not expose bytesRead")}catch(H){console.error("cannot use native zlib: "+(H.message||H))}}function ee(R,G){if(!se)return ve(R,G);var z=se.InflateRaw,H=new z,q=H._processChunk(R.slice(R.l),H._finishFlushFlag);return R.l+=H.bytesRead,q}function J(R){return se?se.deflateRawSync(R):En(R)}var te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ce=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],be=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Pe(R){var G=(R<<1|R<<11)&139536|(R<<5|R<<15)&558144;return(G>>16|G>>8|G)&255}for(var Me=typeof Uint8Array<"u",Fe=Me?new Uint8Array(256):[],mt=0;mt<256;++mt)Fe[mt]=Pe(mt);function ot(R,G){var z=Fe[R&255];return G<=8?z>>>8-G:(z=z<<8|Fe[R>>8&255],G<=16?z>>>16-G:(z=z<<8|Fe[R>>16&255],z>>>24-G))}function zt(R,G){var z=G&7,H=G>>>3;return(R[H]|(z<=6?0:R[H+1]<<8))>>>z&3}function ct(R,G){var z=G&7,H=G>>>3;return(R[H]|(z<=5?0:R[H+1]<<8))>>>z&7}function xr(R,G){var z=G&7,H=G>>>3;return(R[H]|(z<=4?0:R[H+1]<<8))>>>z&15}function Tt(R,G){var z=G&7,H=G>>>3;return(R[H]|(z<=3?0:R[H+1]<<8))>>>z&31}function he(R,G){var z=G&7,H=G>>>3;return(R[H]|(z<=1?0:R[H+1]<<8))>>>z&127}function Ne(R,G,z){var H=G&7,q=G>>>3,K=(1<<z)-1,oe=R[q]>>>H;return z<8-H||(oe|=R[q+1]<<8-H,z<16-H)||(oe|=R[q+2]<<16-H,z<24-H)||(oe|=R[q+3]<<24-H),oe&K}function Be(R,G,z){var H=G&7,q=G>>>3;return H<=5?R[q]|=(z&7)<<H:(R[q]|=z<<H&255,R[q+1]=(z&7)>>8-H),G+3}function nt(R,G,z){var H=G&7,q=G>>>3;return z=(z&1)<<H,R[q]|=z,G+1}function pt(R,G,z){var H=G&7,q=G>>>3;return z<<=H,R[q]|=z&255,z>>>=8,R[q+1]=z,G+8}function yt(R,G,z){var H=G&7,q=G>>>3;return z<<=H,R[q]|=z&255,z>>>=8,R[q+1]=z&255,R[q+2]=z>>>8,G+16}function sr(R,G){var z=R.length,H=2*z>G?2*z:G+5,q=0;if(z>=G)return R;if(Bt){var K=S_(H);if(R.copy)R.copy(K);else for(;q<R.length;++q)K[q]=R[q];return K}else if(Me){var oe=new Uint8Array(H);if(oe.set)oe.set(R);else for(;q<z;++q)oe[q]=R[q];return oe}return R.length=H,R}function Ht(R){for(var G=new Array(R),z=0;z<R;++z)G[z]=0;return G}function cn(R,G,z){var H=1,q=0,K=0,oe=0,xe=0,le=R.length,de=Me?new Uint16Array(32):Ht(32);for(K=0;K<32;++K)de[K]=0;for(K=le;K<z;++K)R[K]=0;le=R.length;var fe=Me?new Uint16Array(le):Ht(le);for(K=0;K<le;++K)de[q=R[K]]++,H<q&&(H=q),fe[K]=0;for(de[0]=0,K=1;K<=H;++K)de[K+16]=xe=xe+de[K-1]<<1;for(K=0;K<le;++K)xe=R[K],xe!=0&&(fe[K]=de[xe+16]++);var Ie=0;for(K=0;K<le;++K)if(Ie=R[K],Ie!=0)for(xe=ot(fe[K],H)>>H-Ie,oe=(1<<H+4-Ie)-1;oe>=0;--oe)G[xe|oe<<Ie]=Ie&15|K<<4;return H}var Ft=Me?new Uint16Array(512):Ht(512),$t=Me?new Uint16Array(32):Ht(32);if(!Me){for(var er=0;er<512;++er)Ft[er]=0;for(er=0;er<32;++er)$t[er]=0}(function(){for(var R=[],G=0;G<32;G++)R.push(5);cn(R,$t,32);var z=[];for(G=0;G<=143;G++)z.push(8);for(;G<=255;G++)z.push(9);for(;G<=279;G++)z.push(7);for(;G<=287;G++)z.push(8);cn(z,Ft,288)})();var As=(function(){for(var G=Me?new Uint8Array(32768):[],z=0,H=0;z<be.length-1;++z)for(;H<be[z+1];++H)G[H]=z;for(;H<32768;++H)G[H]=29;var q=Me?new Uint8Array(259):[];for(z=0,H=0;z<ce.length-1;++z)for(;H<ce[z+1];++H)q[H]=z;function K(xe,le){for(var de=0;de<xe.length;){var fe=Math.min(65535,xe.length-de),Ie=de+fe==xe.length;for(le.write_shift(1,+Ie),le.write_shift(2,fe),le.write_shift(2,~fe&65535);fe-- >0;)le[le.l++]=xe[de++]}return le.l}function oe(xe,le){for(var de=0,fe=0,Ie=Me?new Uint16Array(32768):[];fe<xe.length;){var Ue=Math.min(65535,xe.length-fe);if(Ue<10){for(de=Be(le,de,+(fe+Ue==xe.length)),de&7&&(de+=8-(de&7)),le.l=de/8|0,le.write_shift(2,Ue),le.write_shift(2,~Ue&65535);Ue-- >0;)le[le.l++]=xe[fe++];de=le.l*8;continue}de=Be(le,de,+(fe+Ue==xe.length)+2);for(var Ke=0;Ue-- >0;){var De=xe[fe];Ke=(Ke<<5^De)&32767;var ke=-1,ut=0;if((ke=Ie[Ke])&&(ke|=fe&-32768,ke>fe&&(ke-=32768),ke<fe))for(;xe[ke+ut]==xe[fe+ut]&&ut<250;)++ut;if(ut>2){De=q[ut],De<=22?de=pt(le,de,Fe[De+1]>>1)-1:(pt(le,de,3),de+=5,pt(le,de,Fe[De-23]>>5),de+=3);var Vt=De<8?0:De-4>>2;Vt>0&&(yt(le,de,ut-ce[De]),de+=Vt),De=G[fe-ke],de=pt(le,de,Fe[De]>>3),de-=3;var Lt=De<4?0:De-2>>1;Lt>0&&(yt(le,de,fe-ke-be[De]),de+=Lt);for(var Gt=0;Gt<ut;++Gt)Ie[Ke]=fe&32767,Ke=(Ke<<5^xe[fe])&32767,++fe;Ue-=ut-1}else De<=143?De=De+48:de=nt(le,de,1),de=pt(le,de,Fe[De]),Ie[Ke]=fe&32767,++fe}de=pt(le,de,0)-1}return le.l=(de+7)/8|0,le.l}return function(le,de){return le.length<8?K(le,de):oe(le,de)}})();function En(R){var G=ye(50+Math.floor(R.length*1.1)),z=As(R,G);return G.slice(0,z)}var qe=Me?new Uint16Array(32768):Ht(32768),At=Me?new Uint16Array(32768):Ht(32768),Pt=Me?new Uint16Array(128):Ht(128),Or=1,cs=1;function bn(R,G){var z=Tt(R,G)+257;G+=5;var H=Tt(R,G)+1;G+=5;var q=xr(R,G)+4;G+=4;for(var K=0,oe=Me?new Uint8Array(19):Ht(19),xe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],le=1,de=Me?new Uint8Array(8):Ht(8),fe=Me?new Uint8Array(8):Ht(8),Ie=oe.length,Ue=0;Ue<q;++Ue)oe[te[Ue]]=K=ct(R,G),le<K&&(le=K),de[K]++,G+=3;var Ke=0;for(de[0]=0,Ue=1;Ue<=le;++Ue)fe[Ue]=Ke=Ke+de[Ue-1]<<1;for(Ue=0;Ue<Ie;++Ue)(Ke=oe[Ue])!=0&&(xe[Ue]=fe[Ke]++);var De=0;for(Ue=0;Ue<Ie;++Ue)if(De=oe[Ue],De!=0){Ke=Fe[xe[Ue]]>>8-De;for(var ke=(1<<7-De)-1;ke>=0;--ke)Pt[Ke|ke<<De]=De&7|Ue<<3}var ut=[];for(le=1;ut.length<z+H;)switch(Ke=Pt[he(R,G)],G+=Ke&7,Ke>>>=3){case 16:for(K=3+zt(R,G),G+=2,Ke=ut[ut.length-1];K-- >0;)ut.push(Ke);break;case 17:for(K=3+ct(R,G),G+=3;K-- >0;)ut.push(0);break;case 18:for(K=11+he(R,G),G+=7;K-- >0;)ut.push(0);break;default:ut.push(Ke),le<Ke&&(le=Ke);break}var Vt=ut.slice(0,z),Lt=ut.slice(z);for(Ue=z;Ue<286;++Ue)Vt[Ue]=0;for(Ue=H;Ue<30;++Ue)Lt[Ue]=0;return Or=cn(Vt,qe,286),cs=cn(Lt,At,30),G}function cr(R,G){if(R[0]==3&&!(R[1]&3))return[sl(G),2];for(var z=0,H=0,q=S_(G||1<<18),K=0,oe=q.length>>>0,xe=0,le=0;(H&1)==0;){if(H=ct(R,z),z+=3,H>>>1)H>>1==1?(xe=9,le=5):(z=bn(R,z),xe=Or,le=cs);else{z&7&&(z+=8-(z&7));var de=R[z>>>3]|R[(z>>>3)+1]<<8;if(z+=32,de>0)for(!G&&oe<K+de&&(q=sr(q,K+de),oe=q.length);de-- >0;)q[K++]=R[z>>>3],z+=8;continue}for(;;){!G&&oe<K+32767&&(q=sr(q,K+32767),oe=q.length);var fe=Ne(R,z,xe),Ie=H>>>1==1?Ft[fe]:qe[fe];if(z+=Ie&15,Ie>>>=4,(Ie>>>8&255)===0)q[K++]=Ie;else{if(Ie==256)break;Ie-=257;var Ue=Ie<8?0:Ie-4>>2;Ue>5&&(Ue=0);var Ke=K+ce[Ie];Ue>0&&(Ke+=Ne(R,z,Ue),z+=Ue),fe=Ne(R,z,le),Ie=H>>>1==1?$t[fe]:At[fe],z+=Ie&15,Ie>>>=4;var De=Ie<4?0:Ie-2>>1,ke=be[Ie];for(De>0&&(ke+=Ne(R,z,De),z+=De),!G&&oe<Ke&&(q=sr(q,Ke+100),oe=q.length);K<Ke;)q[K]=q[K-ke],++K}}}return G?[q,z+7>>>3]:[q.slice(0,K),z+7>>>3]}function ve(R,G){var z=R.slice(R.l||0),H=cr(z,G);return R.l+=H[1],H[0]}function et(R,G){if(R)typeof console<"u"&&console.error(G);else throw new Error(G)}function _t(R,G){var z=R;ys(z,0);var H=[],q=[],K={FileIndex:H,FullPaths:q};N(K,{root:G.root});for(var oe=z.length-4;(z[oe]!=80||z[oe+1]!=75||z[oe+2]!=5||z[oe+3]!=6)&&oe>=0;)--oe;z.l=oe+4,z.l+=4;var xe=z.read_shift(2);z.l+=6;var le=z.read_shift(4);for(z.l=le,oe=0;oe<xe;++oe){z.l+=20;var de=z.read_shift(4),fe=z.read_shift(4),Ie=z.read_shift(2),Ue=z.read_shift(2),Ke=z.read_shift(2);z.l+=8;var De=z.read_shift(4),ke=u(z.slice(z.l+Ie,z.l+Ie+Ue));z.l+=Ie+Ue+Ke;var ut=z.l;z.l=De+4,vt(z,de,fe,K,ke),z.l=ut}return K}function vt(R,G,z,H,q){R.l+=2;var K=R.read_shift(2),oe=R.read_shift(2),xe=l(R);if(K&8257)throw new Error("Unsupported ZIP encryption");for(var le=R.read_shift(4),de=R.read_shift(4),fe=R.read_shift(4),Ie=R.read_shift(2),Ue=R.read_shift(2),Ke="",De=0;De<Ie;++De)Ke+=String.fromCharCode(R[R.l++]);if(Ue){var ke=u(R.slice(R.l,R.l+Ue));(ke[21589]||{}).mt&&(xe=ke[21589].mt),((q||{})[21589]||{}).mt&&(xe=q[21589].mt)}R.l+=Ue;var ut=R.slice(R.l,R.l+de);switch(oe){case 8:ut=ee(R,fe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+oe)}var Vt=!1;K&8&&(le=R.read_shift(4),le==134695760&&(le=R.read_shift(4),Vt=!0),de=R.read_shift(4),fe=R.read_shift(4)),de!=G&&et(Vt,"Bad compressed size: "+G+" != "+de),fe!=z&&et(Vt,"Bad uncompressed size: "+z+" != "+fe),Fn(H,Ke,ut,{unsafe:!0,mt:xe})}function It(R,G){var z=G||{},H=[],q=[],K=ye(1),oe=z.compression?8:0,xe=0,le=0,de=0,fe=0,Ie=0,Ue=R.FullPaths[0],Ke=Ue,De=R.FileIndex[0],ke=[],ut=0;for(le=1;le<R.FullPaths.length;++le)if(Ke=R.FullPaths[le].slice(Ue.length),De=R.FileIndex[le],!(!De.size||!De.content||Ke=="Sh33tJ5")){var Vt=fe,Lt=ye(Ke.length);for(de=0;de<Ke.length;++de)Lt.write_shift(1,Ke.charCodeAt(de)&127);Lt=Lt.slice(0,Lt.l),ke[Ie]=B5.buf(De.content,0);var Gt=De.content;oe==8&&(Gt=J(Gt)),K=ye(30),K.write_shift(4,67324752),K.write_shift(2,20),K.write_shift(2,xe),K.write_shift(2,oe),De.mt?a(K,De.mt):K.write_shift(4,0),K.write_shift(-4,ke[Ie]),K.write_shift(4,Gt.length),K.write_shift(4,De.content.length),K.write_shift(2,Lt.length),K.write_shift(2,0),fe+=K.length,H.push(K),fe+=Lt.length,H.push(Lt),fe+=Gt.length,H.push(Gt),K=ye(46),K.write_shift(4,33639248),K.write_shift(2,0),K.write_shift(2,20),K.write_shift(2,xe),K.write_shift(2,oe),K.write_shift(4,0),K.write_shift(-4,ke[Ie]),K.write_shift(4,Gt.length),K.write_shift(4,De.content.length),K.write_shift(2,Lt.length),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(4,0),K.write_shift(4,Vt),ut+=K.l,q.push(K),ut+=Lt.length,q.push(Lt),++Ie}return K=ye(22),K.write_shift(4,101010256),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(2,Ie),K.write_shift(2,Ie),K.write_shift(4,ut),K.write_shift(4,fe),K.write_shift(2,0),xn([xn(H),xn(q),K])}var kt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ir(R,G){if(R.ctype)return R.ctype;var z=R.name||"",H=z.match(/\.([^\.]+)$/);return H&&kt[H[1]]||G&&(H=(z=G).match(/[\.\\]([^\.\\])+$/),H&&kt[H[1]])?kt[H[1]]:"application/octet-stream"}function ur(R){for(var G=Qu(R),z=[],H=0;H<G.length;H+=76)z.push(G.slice(H,H+76));return z.join(`\r
`)+`\r
`}function Gn(R){var G=R.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(de){var fe=de.charCodeAt(0).toString(16).toUpperCase();return"="+(fe.length==1?"0"+fe:fe)});G=G.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),G.charAt(0)==`
`&&(G="=0D"+G.slice(1)),G=G.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var z=[],H=G.split(`\r
`),q=0;q<H.length;++q){var K=H[q];if(K.length==0){z.push("");continue}for(var oe=0;oe<K.length;){var xe=76,le=K.slice(oe,oe+xe);le.charAt(xe-1)=="="?xe--:le.charAt(xe-2)=="="?xe-=2:le.charAt(xe-3)=="="&&(xe-=3),le=K.slice(oe,oe+xe),oe+=xe,oe<K.length&&(le+="="),z.push(le)}}return z.join(`\r
`)}function bo(R){for(var G=[],z=0;z<R.length;++z){for(var H=R[z];z<=R.length&&H.charAt(H.length-1)=="=";)H=H.slice(0,H.length-1)+R[++z];G.push(H)}for(var q=0;q<G.length;++q)G[q]=G[q].replace(/[=][0-9A-Fa-f]{2}/g,function(K){return String.fromCharCode(parseInt(K.slice(1),16))});return ai(G.join(`\r
`))}function $s(R,G,z){for(var H="",q="",K="",oe,xe=0;xe<10;++xe){var le=G[xe];if(!le||le.match(/^\s*$/))break;var de=le.match(/^(.*?):\s*([^\s].*)$/);if(de)switch(de[1].toLowerCase()){case"content-location":H=de[2].trim();break;case"content-type":K=de[2].trim();break;case"content-transfer-encoding":q=de[2].trim();break}}switch(++xe,q.toLowerCase()){case"base64":oe=ai(xa(G.slice(xe).join("")));break;case"quoted-printable":oe=bo(G.slice(xe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+q)}var fe=Fn(R,H.slice(z.length),oe,{unsafe:!0});K&&(fe.ctype=K)}function To(R,G){if(pe(R.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var z=G&&G.root||"",H=(Bt&&Buffer.isBuffer(R)?R.toString("binary"):pe(R)).split(`\r
`),q=0,K="";for(q=0;q<H.length;++q)if(K=H[q],!!/^Content-Location:/i.test(K)&&(K=K.slice(K.indexOf("file")),z||(z=K.slice(0,K.lastIndexOf("/")+1)),K.slice(0,z.length)!=z))for(;z.length>0&&(z=z.slice(0,z.length-1),z=z.slice(0,z.lastIndexOf("/")+1),K.slice(0,z.length)!=z););var oe=(H[1]||"").match(/boundary="(.*?)"/);if(!oe)throw new Error("MAD cannot find boundary");var xe="--"+(oe[1]||""),le=[],de=[],fe={FileIndex:le,FullPaths:de};N(fe);var Ie,Ue=0;for(q=0;q<H.length;++q){var Ke=H[q];Ke!==xe&&Ke!==xe+"--"||(Ue++&&$s(fe,H.slice(Ie,q),z),Ie=q)}return fe}function vr(R,G){var z=G||{},H=z.boundary||"SheetJS";H="------="+H;for(var q=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+H.slice(2)+'"',"","",""],K=R.FullPaths[0],oe=K,xe=R.FileIndex[0],le=1;le<R.FullPaths.length;++le)if(oe=R.FullPaths[le].slice(K.length),xe=R.FileIndex[le],!(!xe.size||!xe.content||oe=="Sh33tJ5")){oe=oe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(ut){return"_x"+ut.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(ut){return"_u"+ut.charCodeAt(0).toString(16)+"_"});for(var de=xe.content,fe=Bt&&Buffer.isBuffer(de)?de.toString("binary"):pe(de),Ie=0,Ue=Math.min(1024,fe.length),Ke=0,De=0;De<=Ue;++De)(Ke=fe.charCodeAt(De))>=32&&Ke<128&&++Ie;var ke=Ie>=Ue*4/5;q.push(H),q.push("Content-Location: "+(z.root||"file:///C:/SheetJS/")+oe),q.push("Content-Transfer-Encoding: "+(ke?"quoted-printable":"base64")),q.push("Content-Type: "+ir(xe,oe)),q.push(""),q.push(ke?Gn(fe):ur(fe))}return q.push(H+`--\r
`),q.join(`\r
`)}function _a(R){var G={};return N(G,R),G}function Fn(R,G,z,H){var q=H&&H.unsafe;q||N(R);var K=!q&&Jt.find(R,G);if(!K){var oe=R.FullPaths[0];G.slice(0,oe.length)==oe?oe=G:(oe.slice(-1)!="/"&&(oe+="/"),oe=(oe+G).replace("//","/")),K={name:s(G),type:2},R.FileIndex.push(K),R.FullPaths.push(oe),q||Jt.utils.cfb_gc(R)}return K.content=z,K.size=z?z.length:0,H&&(H.CLSID&&(K.clsid=H.CLSID),H.mt&&(K.mt=H.mt),H.ct&&(K.ct=H.ct)),K}function Vi(R,G){N(R);var z=Jt.find(R,G);if(z){for(var H=0;H<R.FileIndex.length;++H)if(R.FileIndex[H]==z)return R.FileIndex.splice(H,1),R.FullPaths.splice(H,1),!0}return!1}function Bi(R,G,z){N(R);var H=Jt.find(R,G);if(H){for(var q=0;q<R.FileIndex.length;++q)if(R.FileIndex[q]==H)return R.FileIndex[q].name=s(z),R.FullPaths[q]=z,!0}return!1}function Ea(R){A(R,!0)}return e.find=F,e.read=Q,e.parse=g,e.write=Y,e.writeFile=Se,e.utils={cfb_new:_a,cfb_add:Fn,cfb_del:Vi,cfb_mov:Bi,cfb_gc:Ea,ReadShift:Du,CheckField:JT,prep_blob:ys,bconcat:xn,use_zlib:W,_deflateRaw:En,_inflateRaw:ve,consts:Ge},e})();function z5(r){return typeof r=="string"?P0(r):Array.isArray(r)?m5(r):r}function bd(r,e,t){if(typeof Deno<"u"){if(t&&typeof e=="string")switch(t){case"utf8":e=new TextEncoder(t).encode(e);break;case"binary":e=P0(e);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(r,e)}var n=t=="utf8"?Zu(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,r);if(typeof Blob<"u"){var s=new Blob([z5(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,r);if(typeof saveAs<"u")return saveAs(s,r);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(s);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:r,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=r,l.href=a,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var u=File(r);return u.open("w"),u.encoding="binary",Array.isArray(e)&&(e=Ed(e)),u.write(e),u.close(),e}catch(h){if(!h.message||!h.message.match(/onstruct/))throw h}throw new Error("cannot save file "+r)}function _n(r){for(var e=Object.keys(r),t=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(r,e[n])&&t.push(e[n]);return t}function j_(r,e){for(var t=[],n=_n(r),s=0;s!==n.length;++s)t[r[n[s]][e]]==null&&(t[r[n[s]][e]]=n[s]);return t}function qx(r){for(var e=[],t=_n(r),n=0;n!==t.length;++n)e[r[t[n]]]=t[n];return e}function O0(r){for(var e=[],t=_n(r),n=0;n!==t.length;++n)e[r[t[n]]]=parseInt(t[n],10);return e}function $5(r){for(var e=[],t=_n(r),n=0;n!==t.length;++n)e[r[t[n]]]==null&&(e[r[t[n]]]=[]),e[r[t[n]]].push(t[n]);return e}var Gf=new Date(1899,11,30,0,0,0);function os(r,e){var t=r.getTime(),n=Gf.getTime()+(r.getTimezoneOffset()-Gf.getTimezoneOffset())*6e4;return(t-n)/(1440*60*1e3)}var OT=new Date,W5=Gf.getTime()+(OT.getTimezoneOffset()-Gf.getTimezoneOffset())*6e4,D_=OT.getTimezoneOffset();function FT(r){var e=new Date;return e.setTime(r*24*60*60*1e3+W5),e.getTimezoneOffset()!==D_&&e.setTime(e.getTime()+(e.getTimezoneOffset()-D_)*6e4),e}var O_=new Date("2017-02-19T19:06:09.000Z"),LT=isNaN(O_.getFullYear())?new Date("2/19/17"):O_,H5=LT.getFullYear()==2017;function Hn(r,e){var t=new Date(r);if(H5)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(r instanceof Date)return r;if(LT.getFullYear()==1917&&!isNaN(t.getFullYear())){var n=t.getFullYear();return r.indexOf(""+n)>-1||t.setFullYear(t.getFullYear()+100),t}var s=r.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return r.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function F0(r,e){if(Bt&&Buffer.isBuffer(r))return r.toString("binary");if(typeof TextDecoder<"u")try{var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(r)&&(r=new Uint8Array(r)),new TextDecoder("latin1").decode(r).replace(/[]/g,function(a){return t[a]||a})}catch{}for(var n=[],s=0;s!=r.length;++s)n.push(String.fromCharCode(r[s]));return n.join("")}function ls(r){if(typeof JSON<"u"&&!Array.isArray(r))return JSON.parse(JSON.stringify(r));if(typeof r!="object"||r==null)return r;if(r instanceof Date)return new Date(r.getTime());var e={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=ls(r[t]));return e}function Cr(r,e){for(var t="";t.length<e;)t+=r;return t}function ua(r){var e=Number(r);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(r))return e;var t=1,n=r.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(s,a){return t=-t,a}),!isNaN(e=Number(n)))?e/t:e}var G5=["january","february","march","april","may","june","july","august","september","october","november","december"];function Ju(r){var e=new Date(r),t=new Date(NaN),n=e.getYear(),s=e.getMonth(),a=e.getDate();if(isNaN(a))return t;var l=r.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&G5.indexOf(l)==-1)return t}else if(l.match(/[a-z]/))return t;return n<0||n>8099?t:(s>0||a>1)&&n!=101?e:r.match(/[^-0-9:,\/\\]/)?t:e}function wt(r,e,t){if(r.FullPaths){if(typeof t=="string"){var n;return Bt?n=wa(t):n=p5(t),Jt.utils.cfb_add(r,e,n)}Jt.utils.cfb_add(r,e,t)}else r.file(e,t)}function Kx(){return Jt.utils.cfb_new()}var $r=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,q5={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Yx=qx(q5),Xx=/[&<>'"]/g,K5=/[\u0000-\u0008\u000b-\u001f]/g;function Xt(r){var e=r+"";return e.replace(Xx,function(t){return Yx[t]}).replace(K5,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function F_(r){return Xt(r).replace(/ /g,"_x0020_")}var MT=/[\u0000-\u001f]/g;function Y5(r){var e=r+"";return e.replace(Xx,function(t){return Yx[t]}).replace(/\n/g,"<br/>").replace(MT,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function X5(r){var e=r+"";return e.replace(Xx,function(t){return Yx[t]}).replace(MT,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}function Q5(r){return r.replace(/(\r\n|[\r\n])/g,"&#10;")}function J5(r){switch(r){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Fp(r){for(var e="",t=0,n=0,s=0,a=0,l=0,u=0;t<r.length;){if(n=r.charCodeAt(t++),n<128){e+=String.fromCharCode(n);continue}if(s=r.charCodeAt(t++),n>191&&n<224){l=(n&31)<<6,l|=s&63,e+=String.fromCharCode(l);continue}if(a=r.charCodeAt(t++),n<240){e+=String.fromCharCode((n&15)<<12|(s&63)<<6|a&63);continue}l=r.charCodeAt(t++),u=((n&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536,e+=String.fromCharCode(55296+(u>>>10&1023)),e+=String.fromCharCode(56320+(u&1023))}return e}function L_(r){var e=sl(2*r.length),t,n,s=1,a=0,l=0,u;for(n=0;n<r.length;n+=s)s=1,(u=r.charCodeAt(n))<128?t=u:u<224?(t=(u&31)*64+(r.charCodeAt(n+1)&63),s=2):u<240?(t=(u&15)*4096+(r.charCodeAt(n+1)&63)*64+(r.charCodeAt(n+2)&63),s=3):(s=4,t=(u&7)*262144+(r.charCodeAt(n+1)&63)*4096+(r.charCodeAt(n+2)&63)*64+(r.charCodeAt(n+3)&63),t-=65536,l=55296+(t>>>10&1023),t=56320+(t&1023)),l!==0&&(e[a++]=l&255,e[a++]=l>>>8,l=0),e[a++]=t%256,e[a++]=t>>>8;return e.slice(0,a).toString("ucs2")}function M_(r){return wa(r,"binary").toString("utf8")}var Jh="foo bar baz",ju=Bt&&(M_(Jh)==Fp(Jh)&&M_||L_(Jh)==Fp(Jh)&&L_)||Fp,Zu=Bt?function(r){return wa(r,"utf8").toString("binary")}:function(r){for(var e=[],t=0,n=0,s=0;t<r.length;)switch(n=r.charCodeAt(t++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,s=r.charCodeAt(t++)-56320+(n<<10),e.push(String.fromCharCode(240+(s>>18&7))),e.push(String.fromCharCode(144+(s>>12&63))),e.push(String.fromCharCode(128+(s>>6&63))),e.push(String.fromCharCode(128+(s&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},Z5=(function(){var r=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var n=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<r.length;++s)n=n.replace(r[s][0],r[s][1]);return n}})(),UT=/(^\s|\s$|\n)/;function vn(r,e){return"<"+r+(e.match(UT)?' xml:space="preserve"':"")+">"+e+"</"+r+">"}function ed(r){return _n(r).map(function(e){return" "+e+'="'+r[e]+'"'}).join("")}function Le(r,e,t){return"<"+r+(t!=null?ed(t):"")+(e!=null?(e.match(UT)?' xml:space="preserve"':"")+">"+e+"</"+r:"/")+">"}function Sg(r,e){try{return r.toISOString().replace(/\.\d*/,"")}catch(t){if(e)throw t}return""}function eO(r,e){switch(typeof r){case"string":var t=Le("vt:lpwstr",Xt(r));return t=t.replace(/&quot;/g,"_x0022_"),t;case"number":return Le((r|0)==r?"vt:i4":"vt:r8",Xt(String(r)));case"boolean":return Le("vt:bool",r?"true":"false")}if(r instanceof Date)return Le("vt:filetime",Sg(r));throw new Error("Unable to serialize "+r)}var sn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Dc=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],ws={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function tO(r,e){for(var t=1-2*(r[e+7]>>>7),n=((r[e+7]&127)<<4)+(r[e+6]>>>4&15),s=r[e+6]&15,a=5;a>=0;--a)s=s*256+r[e+a];return n==2047?s==0?t*(1/0):NaN:(n==0?n=-1022:(n-=1023,s+=Math.pow(2,52)),t*Math.pow(2,n-52)*s)}function rO(r,e,t){var n=(e<0||1/e==-1/0?1:0)<<7,s=0,a=0,l=n?-e:e;isFinite(l)?l==0?s=a=0:(s=Math.floor(Math.log(l)/Math.LN2),a=l*Math.pow(2,52-s),s<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?s=-1022:(a-=Math.pow(2,52),s+=1023)):(s=2047,a=isNaN(e)?26985:0);for(var u=0;u<=5;++u,a/=256)r[t+u]=a&255;r[t+6]=(s&15)<<4|a&15,r[t+7]=s>>4|n}var U_=function(r){for(var e=[],t=10240,n=0;n<r[0].length;++n)if(r[0][n])for(var s=0,a=r[0][n].length;s<a;s+=t)e.push.apply(e,r[0][n].slice(s,s+t));return e},V_=Bt?function(r){return r[0].length>0&&Buffer.isBuffer(r[0][0])?Buffer.concat(r[0].map(function(e){return Buffer.isBuffer(e)?e:wa(e)})):U_(r)}:U_,B_=function(r,e,t){for(var n=[],s=e;s<t;s+=2)n.push(String.fromCharCode(bu(r,s)));return n.join("").replace(Pu,"")},Qx=Bt?function(r,e,t){return Buffer.isBuffer(r)?r.toString("utf16le",e,t).replace(Pu,""):B_(r,e,t)}:B_,z_=function(r,e,t){for(var n=[],s=e;s<e+t;++s)n.push(("0"+r[s].toString(16)).slice(-2));return n.join("")},VT=Bt?function(r,e,t){return Buffer.isBuffer(r)?r.toString("hex",e,e+t):z_(r,e,t)}:z_,$_=function(r,e,t){for(var n=[],s=e;s<t;s++)n.push(String.fromCharCode(ic(r,s)));return n.join("")},Td=Bt?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf8",t,n):$_(e,t,n)}:$_,BT=function(r,e){var t=_s(r,e);return t>0?Td(r,e+4,e+4+t-1):""},zT=BT,$T=function(r,e){var t=_s(r,e);return t>0?Td(r,e+4,e+4+t-1):""},WT=$T,HT=function(r,e){var t=2*_s(r,e);return t>0?Td(r,e+4,e+4+t-1):""},GT=HT,qT=function(e,t){var n=_s(e,t);return n>0?Qx(e,t+4,t+4+n):""},KT=qT,YT=function(r,e){var t=_s(r,e);return t>0?Td(r,e+4,e+4+t):""},XT=YT,QT=function(r,e){return tO(r,e)},qf=QT,Jx=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Bt&&(zT=function(e,t){if(!Buffer.isBuffer(e))return BT(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},WT=function(e,t){if(!Buffer.isBuffer(e))return $T(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},GT=function(e,t){if(!Buffer.isBuffer(e))return HT(e,t);var n=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n-1)},KT=function(e,t){if(!Buffer.isBuffer(e))return qT(e,t);var n=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n)},XT=function(e,t){if(!Buffer.isBuffer(e))return YT(e,t);var n=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+n)},qf=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):QT(e,t)},Jx=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var ic=function(r,e){return r[e]},bu=function(r,e){return r[e+1]*256+r[e]},nO=function(r,e){var t=r[e+1]*256+r[e];return t<32768?t:(65535-t+1)*-1},_s=function(r,e){return r[e+3]*(1<<24)+(r[e+2]<<16)+(r[e+1]<<8)+r[e]},Go=function(r,e){return r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e]},sO=function(r,e){return r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3]};function Du(r,e){var t="",n,s,a=[],l,u,h,f;switch(e){case"dbcs":if(f=this.l,Bt&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*r).toString("utf16le");else for(h=0;h<r;++h)t+=String.fromCharCode(bu(this,f)),f+=2;r*=2;break;case"utf8":t=Td(this,this.l,this.l+r);break;case"utf16le":r*=2,t=Qx(this,this.l,this.l+r);break;case"wstr":return Du.call(this,r,"dbcs");case"lpstr-ansi":t=zT(this,this.l),r=4+_s(this,this.l);break;case"lpstr-cp":t=WT(this,this.l),r=4+_s(this,this.l);break;case"lpwstr":t=GT(this,this.l),r=4+2*_s(this,this.l);break;case"lpp4":r=4+_s(this,this.l),t=KT(this,this.l),r&2&&(r+=2);break;case"8lpp4":r=4+_s(this,this.l),t=XT(this,this.l),r&3&&(r+=4-(r&3));break;case"cstr":for(r=0,t="";(l=ic(this,this.l+r++))!==0;)a.push(Yh(l));t=a.join("");break;case"_wstr":for(r=0,t="";(l=bu(this,this.l+r))!==0;)a.push(Yh(l)),r+=2;r+=2,t=a.join("");break;case"dbcs-cont":for(t="",f=this.l,h=0;h<r;++h){if(this.lens&&this.lens.indexOf(f)!==-1)return l=ic(this,f),this.l=f+1,u=Du.call(this,r-h,l?"dbcs-cont":"sbcs-cont"),a.join("")+u;a.push(Yh(bu(this,f))),f+=2}t=a.join(""),r*=2;break;case"cpstr":case"sbcs-cont":for(t="",f=this.l,h=0;h!=r;++h){if(this.lens&&this.lens.indexOf(f)!==-1)return l=ic(this,f),this.l=f+1,u=Du.call(this,r-h,l?"dbcs-cont":"sbcs-cont"),a.join("")+u;a.push(Yh(ic(this,f))),f+=1}t=a.join("");break;default:switch(r){case 1:return n=ic(this,this.l),this.l++,n;case 2:return n=(e==="i"?nO:bu)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(r>0?Go:sO)(this,this.l),this.l+=4,n):(s=_s(this,this.l),this.l+=4,s);case 8:case-8:if(e==="f")return r==8?s=qf(this,this.l):s=qf([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;r=8;case 16:t=VT(this,this.l,r);break}}return this.l+=r,t}var iO=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255,r[t+2]=e>>>16&255,r[t+3]=e>>>24&255},aO=function(r,e,t){r[t]=e&255,r[t+1]=e>>8&255,r[t+2]=e>>16&255,r[t+3]=e>>24&255},oO=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255};function lO(r,e,t){var n=0,s=0;if(t==="dbcs"){for(s=0;s!=e.length;++s)oO(this,e.charCodeAt(s),this.l+2*s);n=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=e.length;++s)this[this.l+s]=e.charCodeAt(s)&255;n=e.length}else if(t==="hex"){for(;s<r;++s)this[this.l++]=parseInt(e.slice(2*s,2*s+2),16)||0;return this}else if(t==="utf16le"){var a=Math.min(this.l+r,this.length);for(s=0;s<Math.min(e.length,r);++s){var l=e.charCodeAt(s);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(r){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,iO(this,e,this.l);break;case 8:if(n=8,t==="f"){rO(this,e,this.l);break}case 16:break;case-4:n=4,aO(this,e,this.l);break}return this.l+=n,this}function JT(r,e){var t=VT(this,this.l,r.length>>1);if(t!==r)throw new Error(e+"Expected "+r+" saw "+t);this.l+=r.length>>1}function ys(r,e){r.l=e,r.read_shift=Du,r.chk=JT,r.write_shift=lO}function Di(r,e){r.l+=e}function ye(r){var e=sl(r);return ys(e,0),e}function as(){var r=[],e=Bt?256:2048,t=function(f){var g=ye(f);return ys(g,0),g},n=t(e),s=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&r.push(n),n=null)},a=function(f){return n&&f<n.length-n.l?n:(s(),n=t(Math.max(f+1,e)))},l=function(){return s(),xn(r)},u=function(f){s(),n=f,n.l==null&&(n.l=n.length),a(e)};return{next:a,push:u,end:l,_bufs:r}}function Ee(r,e,t,n){var s=+e,a;if(!isNaN(s)){n||(n=tU[s].p||(t||[]).length||0),a=1+(s>=128?1:0)+1,n>=128&&++a,n>=16384&&++a,n>=2097152&&++a;var l=r.next(a);s<=127?l.write_shift(1,s):(l.write_shift(1,(s&127)+128),l.write_shift(1,s>>7));for(var u=0;u!=4;++u)if(n>=128)l.write_shift(1,(n&127)+128),n>>=7;else{l.write_shift(1,n);break}n>0&&Jx(t)&&r.push(t)}}function Ou(r,e,t){var n=ls(r);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!t||t.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function W_(r,e,t){var n=ls(r);return n.s=Ou(n.s,e.s,t),n.e=Ou(n.e,e.s,t),n}function Fu(r,e){if(r.cRel&&r.c<0)for(r=ls(r);r.c<0;)r.c+=e>8?16384:256;if(r.rRel&&r.r<0)for(r=ls(r);r.r<0;)r.r+=e>8?1048576:e>5?65536:16384;var t=Qt(r);return!r.cRel&&r.cRel!=null&&(t=dO(t)),!r.rRel&&r.rRel!=null&&(t=cO(t)),t}function Lp(r,e){return r.s.r==0&&!r.s.rRel&&r.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!r.e.rRel?(r.s.cRel?"":"$")+jn(r.s.c)+":"+(r.e.cRel?"":"$")+jn(r.e.c):r.s.c==0&&!r.s.cRel&&r.e.c==(e.biff>=12?16383:255)&&!r.e.cRel?(r.s.rRel?"":"$")+wn(r.s.r)+":"+(r.e.rRel?"":"$")+wn(r.e.r):Fu(r.s,e.biff)+":"+Fu(r.e,e.biff)}function Zx(r){return parseInt(uO(r),10)-1}function wn(r){return""+(r+1)}function cO(r){return r.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function uO(r){return r.replace(/\$(\d+)$/,"$1")}function ev(r){for(var e=hO(r),t=0,n=0;n!==e.length;++n)t=26*t+e.charCodeAt(n)-64;return t-1}function jn(r){if(r<0)throw new Error("invalid column "+r);var e="";for(++r;r;r=Math.floor((r-1)/26))e=String.fromCharCode((r-1)%26+65)+e;return e}function dO(r){return r.replace(/^([A-Z])/,"$$$1")}function hO(r){return r.replace(/^\$([A-Z])/,"$1")}function fO(r){return r.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function an(r){for(var e=0,t=0,n=0;n<r.length;++n){var s=r.charCodeAt(n);s>=48&&s<=57?e=10*e+(s-48):s>=65&&s<=90&&(t=26*t+(s-64))}return{c:t-1,r:e-1}}function Qt(r){for(var e=r.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(r.r+1)}function Cs(r){var e=r.indexOf(":");return e==-1?{s:an(r),e:an(r)}:{s:an(r.slice(0,e)),e:an(r.slice(e+1))}}function zr(r,e){return typeof e>"u"||typeof e=="number"?zr(r.s,r.e):(typeof r!="string"&&(r=Qt(r)),typeof e!="string"&&(e=Qt(e)),r==e?r:r+":"+e)}function mr(r){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,n=0,s=0,a=r.length;for(t=0;n<a&&!((s=r.charCodeAt(n)-64)<1||s>26);++n)t=26*t+s;for(e.s.c=--t,t=0;n<a&&!((s=r.charCodeAt(n)-48)<0||s>9);++n)t=10*t+s;if(e.s.r=--t,n===a||s!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,t=0;n!=a&&!((s=r.charCodeAt(n)-64)<1||s>26);++n)t=26*t+s;for(e.e.c=--t,t=0;n!=a&&!((s=r.charCodeAt(n)-48)<0||s>9);++n)t=10*t+s;return e.e.r=--t,e}function H_(r,e){var t=r.t=="d"&&e instanceof Date;if(r.z!=null)try{return r.w=go(r.z,t?os(e):e)}catch{}try{return r.w=go((r.XF||{}).numFmtId||(t?14:0),t?os(e):e)}catch{return""+e}}function va(r,e,t){return r==null||r.t==null||r.t=="z"?"":r.w!==void 0?r.w:(r.t=="d"&&!r.z&&t&&t.dateNF&&(r.z=t.dateNF),r.t=="e"?Sd[r.v]||r.v:e==null?H_(r,r.v):H_(r,e))}function fl(r,e){var t=e&&e.sheet?e.sheet:"Sheet1",n={};return n[t]=r,{SheetNames:[t],Sheets:n}}function ZT(r,e,t){var n=t||{},s=r?Array.isArray(r):n.dense,a=r||(s?[]:{}),l=0,u=0;if(a&&n.origin!=null){if(typeof n.origin=="number")l=n.origin;else{var h=typeof n.origin=="string"?an(n.origin):n.origin;l=h.r,u=h.c}a["!ref"]||(a["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var g=mr(a["!ref"]);f.s.c=g.s.c,f.s.r=g.s.r,f.e.c=Math.max(f.e.c,g.e.c),f.e.r=Math.max(f.e.r,g.e.r),l==-1&&(f.e.r=l=g.e.r+1)}for(var x=0;x!=e.length;++x)if(e[x]){if(!Array.isArray(e[x]))throw new Error("aoa_to_sheet expects an array of arrays");for(var v=0;v!=e[x].length;++v)if(!(typeof e[x][v]>"u")){var _={v:e[x][v]},S=l+x,w=u+v;if(f.s.r>S&&(f.s.r=S),f.s.c>w&&(f.s.c=w),f.e.r<S&&(f.e.r=S),f.e.c<w&&(f.e.c=w),e[x][v]&&typeof e[x][v]=="object"&&!Array.isArray(e[x][v])&&!(e[x][v]instanceof Date))_=e[x][v];else if(Array.isArray(_.v)&&(_.f=e[x][v][1],_.v=_.v[0]),_.v===null)if(_.f)_.t="n";else if(n.nullError)_.t="e",_.v=0;else if(n.sheetStubs)_.t="z";else continue;else typeof _.v=="number"?_.t="n":typeof _.v=="boolean"?_.t="b":_.v instanceof Date?(_.z=n.dateNF||Ar[14],n.cellDates?(_.t="d",_.w=go(_.z,os(_.v))):(_.t="n",_.v=os(_.v),_.w=go(_.z,_.v))):_.t="s";if(s)a[S]||(a[S]=[]),a[S][w]&&a[S][w].z&&(_.z=a[S][w].z),a[S][w]=_;else{var T=Qt({c:w,r:S});a[T]&&a[T].z&&(_.z=a[T].z),a[T]=_}}}return f.s.c<1e7&&(a["!ref"]=zr(f)),a}function Oc(r,e){return ZT(null,r,e)}function mO(r){return r.read_shift(4,"i")}function hi(r,e){return e||(e=ye(4)),e.write_shift(4,r),e}function Dn(r){var e=r.read_shift(4);return e===0?"":r.read_shift(e,"dbcs")}function on(r,e){var t=!1;return e==null&&(t=!0,e=ye(4+2*r.length)),e.write_shift(4,r.length),r.length>0&&e.write_shift(0,r,"dbcs"),t?e.slice(0,e.l):e}function pO(r){return{ich:r.read_shift(2),ifnt:r.read_shift(2)}}function gO(r,e){return e||(e=ye(4)),e.write_shift(2,0),e.write_shift(2,0),e}function tv(r,e){var t=r.l,n=r.read_shift(1),s=Dn(r),a=[],l={t:s,h:s};if((n&1)!==0){for(var u=r.read_shift(4),h=0;h!=u;++h)a.push(pO(r));l.r=a}else l.r=[{ich:0,ifnt:0}];return r.l=t+e,l}function xO(r,e){var t=!1;return e==null&&(t=!0,e=ye(15+4*r.t.length)),e.write_shift(1,0),on(r.t,e),t?e.slice(0,e.l):e}var vO=tv;function yO(r,e){var t=!1;return e==null&&(t=!0,e=ye(23+4*r.t.length)),e.write_shift(1,1),on(r.t,e),e.write_shift(4,1),gO({},e),t?e.slice(0,e.l):e}function zs(r){var e=r.read_shift(4),t=r.read_shift(2);return t+=r.read_shift(1)<<16,r.l++,{c:e,iStyleRef:t}}function ml(r,e){return e==null&&(e=ye(8)),e.write_shift(-4,r.c),e.write_shift(3,r.iStyleRef||r.s),e.write_shift(1,0),e}function pl(r){var e=r.read_shift(2);return e+=r.read_shift(1)<<16,r.l++,{c:-1,iStyleRef:e}}function gl(r,e){return e==null&&(e=ye(4)),e.write_shift(3,r.iStyleRef||r.s),e.write_shift(1,0),e}var wO=Dn,e4=on;function rv(r){var e=r.read_shift(4);return e===0||e===4294967295?"":r.read_shift(e,"dbcs")}function Kf(r,e){var t=!1;return e==null&&(t=!0,e=ye(127)),e.write_shift(4,r.length>0?r.length:4294967295),r.length>0&&e.write_shift(0,r,"dbcs"),t?e.slice(0,e.l):e}var _O=Dn,Ng=rv,nv=Kf;function t4(r){var e=r.slice(r.l,r.l+4),t=e[0]&1,n=e[0]&2;r.l+=4;var s=n===0?qf([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Go(e,0)>>2;return t?s/100:s}function r4(r,e){e==null&&(e=ye(4));var t=0,n=0,s=r*100;if(r==(r|0)&&r>=-536870912&&r<1<<29?n=1:s==(s|0)&&s>=-536870912&&s<1<<29&&(n=1,t=1),n)e.write_shift(-4,((t?s:r)<<2)+(t+2));else throw new Error("unsupported RkNumber "+r)}function n4(r){var e={s:{},e:{}};return e.s.r=r.read_shift(4),e.e.r=r.read_shift(4),e.s.c=r.read_shift(4),e.e.c=r.read_shift(4),e}function EO(r,e){return e||(e=ye(16)),e.write_shift(4,r.s.r),e.write_shift(4,r.e.r),e.write_shift(4,r.s.c),e.write_shift(4,r.e.c),e}var xl=n4,Fc=EO;function Lc(r){if(r.length-r.l<8)throw"XLS Xnum Buffer underflow";return r.read_shift(8,"f")}function il(r,e){return(e||ye(8)).write_shift(8,r,"f")}function bO(r){var e={},t=r.read_shift(1),n=t>>>1,s=r.read_shift(1),a=r.read_shift(2,"i"),l=r.read_shift(1),u=r.read_shift(1),h=r.read_shift(1);switch(r.l++,n){case 0:e.auto=1;break;case 1:e.index=s;var f=PO[s];f&&(e.rgb=r2(f));break;case 2:e.rgb=r2([l,u,h]);break;case 3:e.theme=s;break}return a!=0&&(e.tint=a>0?a/32767:a/32768),e}function Yf(r,e){if(e||(e=ye(8)),!r||r.auto)return e.write_shift(4,0),e.write_shift(4,0),e;r.index!=null?(e.write_shift(1,2),e.write_shift(1,r.index)):r.theme!=null?(e.write_shift(1,6),e.write_shift(1,r.theme)):(e.write_shift(1,5),e.write_shift(1,0));var t=r.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),e.write_shift(2,t),!r.rgb||r.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=r.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function TO(r){var e=r.read_shift(1);r.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function SO(r,e){e||(e=ye(2));var t=(r.italic?2:0)|(r.strike?8:0)|(r.outline?16:0)|(r.shadow?32:0)|(r.condense?64:0)|(r.extend?128:0);return e.write_shift(1,t),e.write_shift(1,0),e}var s4=2,vs=3,Zh=11,Xf=19,ef=64,NO=65,CO=71,AO=4108,IO=4126,pn=80,G_={1:{n:"CodePage",t:s4},2:{n:"Category",t:pn},3:{n:"PresentationFormat",t:pn},4:{n:"ByteCount",t:vs},5:{n:"LineCount",t:vs},6:{n:"ParagraphCount",t:vs},7:{n:"SlideCount",t:vs},8:{n:"NoteCount",t:vs},9:{n:"HiddenCount",t:vs},10:{n:"MultimediaClipCount",t:vs},11:{n:"ScaleCrop",t:Zh},12:{n:"HeadingPairs",t:AO},13:{n:"TitlesOfParts",t:IO},14:{n:"Manager",t:pn},15:{n:"Company",t:pn},16:{n:"LinksUpToDate",t:Zh},17:{n:"CharacterCount",t:vs},19:{n:"SharedDoc",t:Zh},22:{n:"HyperlinksChanged",t:Zh},23:{n:"AppVersion",t:vs,p:"version"},24:{n:"DigSig",t:NO},26:{n:"ContentType",t:pn},27:{n:"ContentStatus",t:pn},28:{n:"Language",t:pn},29:{n:"Version",t:pn},255:{},2147483648:{n:"Locale",t:Xf},2147483651:{n:"Behavior",t:Xf},1919054434:{}},q_={1:{n:"CodePage",t:s4},2:{n:"Title",t:pn},3:{n:"Subject",t:pn},4:{n:"Author",t:pn},5:{n:"Keywords",t:pn},6:{n:"Comments",t:pn},7:{n:"Template",t:pn},8:{n:"LastAuthor",t:pn},9:{n:"RevNumber",t:pn},10:{n:"EditTime",t:ef},11:{n:"LastPrinted",t:ef},12:{n:"CreatedDate",t:ef},13:{n:"ModifiedDate",t:ef},14:{n:"PageCount",t:vs},15:{n:"WordCount",t:vs},16:{n:"CharCount",t:vs},17:{n:"Thumbnail",t:CO},18:{n:"Application",t:pn},19:{n:"DocSecurity",t:vs},255:{},2147483648:{n:"Locale",t:Xf},2147483651:{n:"Behavior",t:Xf},1919054434:{}};function kO(r){return r.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var RO=kO([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),PO=ls(RO),Sd={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},jO={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},tf={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function i4(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function a4(r,e){var t=$5(jO),n=[],s;n[n.length]=$r,n[n.length]=Le("Types",null,{xmlns:sn.CT,"xmlns:xsd":sn.xsd,"xmlns:xsi":sn.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(h){return Le("Default",null,{Extension:h[0],ContentType:h[1]})}));var a=function(h){r[h]&&r[h].length>0&&(s=r[h][0],n[n.length]=Le("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:tf[h][e.bookType]||tf[h].xlsx}))},l=function(h){(r[h]||[]).forEach(function(f){n[n.length]=Le("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:tf[h][e.bookType]||tf[h].xlsx})})},u=function(h){(r[h]||[]).forEach(function(f){n[n.length]=Le("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:t[h][0]})})};return a("workbooks"),l("sheets"),l("charts"),u("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(u),u("vba"),u("comments"),u("threadedcomments"),u("drawings"),l("metadata"),u("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Ut={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function o4(r){var e=r.lastIndexOf("/");return r.slice(0,e+1)+"_rels/"+r.slice(e+1)+".rels"}function mc(r){var e=[$r,Le("Relationships",null,{xmlns:sn.RELS})];return _n(r["!id"]).forEach(function(t){e[e.length]=Le("Relationship",null,r["!id"][t])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Yt(r,e,t,n,s,a){if(s||(s={}),r["!id"]||(r["!id"]={}),r["!idx"]||(r["!idx"]=1),e<0)for(e=r["!idx"];r["!id"]["rId"+e];++e);if(r["!idx"]=e+1,s.Id="rId"+e,s.Type=n,s.Target=t,[Ut.HLINK,Ut.XPATH,Ut.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),r["!id"][s.Id])throw new Error("Cannot rewrite rId "+e);return r["!id"][s.Id]=s,r[("/"+s.Target).replace("//","/")]=s,e}function DO(r){var e=[$r];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var t=0;t<r.length;++t)e.push('  <manifest:file-entry manifest:full-path="'+r[t][0]+'" manifest:media-type="'+r[t][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function K_(r,e,t){return['  <rdf:Description rdf:about="'+r+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function OO(r,e){return['  <rdf:Description rdf:about="'+r+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function FO(r){var e=[$r];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var t=0;t!=r.length;++t)e.push(K_(r[t][0],r[t][1])),e.push(OO("",r[t][0]));return e.push(K_("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function l4(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Bf.version+"</meta:generator></office:meta></office:document-meta>"}var Xo=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Mp(r,e,t,n,s){s[r]!=null||e==null||e===""||(s[r]=e,e=Xt(e),n[n.length]=t?Le(r,e,t):vn(r,e))}function c4(r,e){var t=e||{},n=[$r,Le("cp:coreProperties",null,{"xmlns:cp":sn.CORE_PROPS,"xmlns:dc":sn.dc,"xmlns:dcterms":sn.dcterms,"xmlns:dcmitype":sn.dcmitype,"xmlns:xsi":sn.xsi})],s={};if(!r&&!t.Props)return n.join("");r&&(r.CreatedDate!=null&&Mp("dcterms:created",typeof r.CreatedDate=="string"?r.CreatedDate:Sg(r.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s),r.ModifiedDate!=null&&Mp("dcterms:modified",typeof r.ModifiedDate=="string"?r.ModifiedDate:Sg(r.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s));for(var a=0;a!=Xo.length;++a){var l=Xo[a],u=t.Props&&t.Props[l[1]]!=null?t.Props[l[1]]:r?r[l[1]]:null;u===!0?u="1":u===!1?u="0":typeof u=="number"&&(u=String(u)),u!=null&&Mp(l[0],u,null,n,s)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var pc=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],u4=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function d4(r){var e=[],t=Le;return r||(r={}),r.Application="SheetJS",e[e.length]=$r,e[e.length]=Le("Properties",null,{xmlns:sn.EXT_PROPS,"xmlns:vt":sn.vt}),pc.forEach(function(n){if(r[n[1]]!==void 0){var s;switch(n[2]){case"string":s=Xt(String(r[n[1]]));break;case"bool":s=r[n[1]]?"true":"false";break}s!==void 0&&(e[e.length]=t(n[0],s))}}),e[e.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(r.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=t("TitlesOfParts",t("vt:vector",r.SheetNames.map(function(n){return"<vt:lpstr>"+Xt(n)+"</vt:lpstr>"}).join(""),{size:r.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function h4(r){var e=[$r,Le("Properties",null,{xmlns:sn.CUST_PROPS,"xmlns:vt":sn.vt})];if(!r)return e.join("");var t=1;return _n(r).forEach(function(s){++t,e[e.length]=Le("property",eO(r[s]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:Xt(s)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var Y_={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function LO(r,e){var t=[];return _n(Y_).map(function(n){for(var s=0;s<Xo.length;++s)if(Xo[s][1]==n)return Xo[s];for(s=0;s<pc.length;++s)if(pc[s][1]==n)return pc[s];throw n}).forEach(function(n){if(r[n[1]]!=null){var s=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:r[n[1]];switch(n[2]){case"date":s=new Date(s).toISOString().replace(/\.\d*Z/,"Z");break}typeof s=="number"?s=String(s):s===!0||s===!1?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),t.push(vn(Y_[n[1]]||n[1],s))}}),Le("DocumentProperties",t.join(""),{xmlns:ws.o})}function MO(r,e){var t=["Worksheets","SheetNames"],n="CustomDocumentProperties",s=[];return r&&_n(r).forEach(function(a){if(Object.prototype.hasOwnProperty.call(r,a)){for(var l=0;l<Xo.length;++l)if(a==Xo[l][1])return;for(l=0;l<pc.length;++l)if(a==pc[l][1])return;for(l=0;l<t.length;++l)if(a==t[l])return;var u=r[a],h="string";typeof u=="number"?(h="float",u=String(u)):u===!0||u===!1?(h="boolean",u=u?"1":"0"):u=String(u),s.push(Le(F_(a),u,{"dt:dt":h}))}}),e&&_n(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)&&!(r&&Object.prototype.hasOwnProperty.call(r,a))){var l=e[a],u="string";typeof l=="number"?(u="float",l=String(l)):l===!0||l===!1?(u="boolean",l=l?"1":"0"):l instanceof Date?(u="dateTime.tz",l=l.toISOString()):l=String(l),s.push(Le(F_(a),l,{"dt:dt":u}))}}),"<"+n+' xmlns="'+ws.o+'">'+s.join("")+"</"+n+">"}function UO(r){var e=typeof r=="string"?new Date(Date.parse(r)):r,t=e.getTime()/1e3+11644473600,n=t%Math.pow(2,32),s=(t-n)/Math.pow(2,32);n*=1e7,s*=1e7;var a=n/Math.pow(2,32)|0;a>0&&(n=n%Math.pow(2,32),s+=a);var l=ye(8);return l.write_shift(4,n),l.write_shift(4,s),l}function X_(r,e){var t=ye(4),n=ye(4);switch(t.write_shift(4,r==80?31:r),r){case 3:n.write_shift(-4,e);break;case 5:n=ye(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=UO(e);break;case 31:case 80:for(n=ye(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+r+" "+e)}return xn([t,n])}var f4=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function VO(r){switch(typeof r){case"boolean":return 11;case"number":return(r|0)==r?3:5;case"string":return 31;case"object":if(r instanceof Date)return 64;break}return-1}function Q_(r,e,t){var n=ye(8),s=[],a=[],l=8,u=0,h=ye(8),f=ye(8);if(h.write_shift(4,2),h.write_shift(4,1200),f.write_shift(4,1),a.push(h),s.push(f),l+=8+h.length,!e){f=ye(8),f.write_shift(4,0),s.unshift(f);var g=[ye(4)];for(g[0].write_shift(4,r.length),u=0;u<r.length;++u){var x=r[u][0];for(h=ye(8+2*(x.length+1)+(x.length%2?0:2)),h.write_shift(4,u+2),h.write_shift(4,x.length+1),h.write_shift(0,x,"dbcs");h.l!=h.length;)h.write_shift(1,0);g.push(h)}h=xn(g),a.unshift(h),l+=8+h.length}for(u=0;u<r.length;++u)if(!(e&&!e[r[u][0]])&&!(f4.indexOf(r[u][0])>-1||u4.indexOf(r[u][0])>-1)&&r[u][1]!=null){var v=r[u][1],_=0;if(e){_=+e[r[u][0]];var S=t[_];if(S.p=="version"&&typeof v=="string"){var w=v.split(".");v=(+w[0]<<16)+(+w[1]||0)}h=X_(S.t,v)}else{var T=VO(v);T==-1&&(T=31,v=String(v)),h=X_(T,v)}a.push(h),f=ye(8),f.write_shift(4,e?_:2+u),s.push(f),l+=8+h.length}var j=8*(a.length+1);for(u=0;u<a.length;++u)s[u].write_shift(4,j),j+=a[u].length;return n.write_shift(4,l),n.write_shift(4,a.length),xn([n].concat(s).concat(a))}function J_(r,e,t,n,s,a){var l=ye(s?68:48),u=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,Jt.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,s?2:1),l.write_shift(16,e,"hex"),l.write_shift(4,s?68:48);var h=Q_(r,t,n);if(u.push(h),s){var f=Q_(s,null,null);l.write_shift(16,a,"hex"),l.write_shift(4,68+h.length),u.push(f)}return xn(u)}function BO(r,e){e||(e=ye(r));for(var t=0;t<r;++t)e.write_shift(1,0);return e}function zO(r,e){return r.read_shift(e)===1}function zn(r,e){return e||(e=ye(2)),e.write_shift(2,+!!r),e}function m4(r){return r.read_shift(2,"u")}function Ms(r,e){return e||(e=ye(2)),e.write_shift(2,r),e}function p4(r,e,t){return t||(t=ye(2)),t.write_shift(1,e=="e"?+r:+!!r),t.write_shift(1,e=="e"?1:0),t}function g4(r,e,t){var n=r.read_shift(t&&t.biff>=12?2:1),s="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var a=r.read_shift(1);a&&(s="dbcs-cont")}else t.biff==12&&(s="wstr");t.biff>=2&&t.biff<=5&&(s="cpstr");var l=n?r.read_shift(n,s):"";return l}function $O(r){var e=r.t||"",t=ye(3);t.write_shift(2,e.length),t.write_shift(1,1);var n=ye(2*e.length);n.write_shift(2*e.length,e,"utf16le");var s=[t,n];return xn(s)}function WO(r,e,t){var n;if(t){if(t.biff>=2&&t.biff<=5)return r.read_shift(e,"cpstr");if(t.biff>=12)return r.read_shift(e,"dbcs-cont")}var s=r.read_shift(1);return s===0?n=r.read_shift(e,"sbcs-cont"):n=r.read_shift(e,"dbcs-cont"),n}function HO(r,e,t){var n=r.read_shift(t&&t.biff==2?1:2);return n===0?(r.l++,""):WO(r,n,t)}function GO(r,e,t){if(t.biff>5)return HO(r,e,t);var n=r.read_shift(1);return n===0?(r.l++,""):r.read_shift(n,t.biff<=4||!r.lens?"cpstr":"sbcs-cont")}function x4(r,e,t){return t||(t=ye(3+2*r.length)),t.write_shift(2,r.length),t.write_shift(1,1),t.write_shift(31,r,"utf16le"),t}function Z_(r,e){e||(e=ye(6+r.length*2)),e.write_shift(4,1+r.length);for(var t=0;t<r.length;++t)e.write_shift(2,r.charCodeAt(t));return e.write_shift(2,0),e}function qO(r){var e=ye(512),t=0,n=r.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var s=n.indexOf("#"),a=s>-1?31:23;switch(n.charAt(0)){case"#":a=28;break;case".":a&=-3;break}e.write_shift(4,2),e.write_shift(4,a);var l=[8,6815827,6619237,4849780,83];for(t=0;t<l.length;++t)e.write_shift(4,l[t]);if(a==28)n=n.slice(1),Z_(n,e);else if(a&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<l.length;++t)e.write_shift(1,parseInt(l[t],16));var u=s>-1?n.slice(0,s):n;for(e.write_shift(4,2*(u.length+1)),t=0;t<u.length;++t)e.write_shift(2,u.charCodeAt(t));e.write_shift(2,0),a&8&&Z_(s>-1?n.slice(s+1):"",e)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<l.length;++t)e.write_shift(1,parseInt(l[t],16));for(var h=0;n.slice(h*3,h*3+3)=="../"||n.slice(h*3,h*3+3)=="..\\";)++h;for(e.write_shift(2,h),e.write_shift(4,n.length-3*h+1),t=0;t<n.length-3*h;++t)e.write_shift(1,n.charCodeAt(t+3*h)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),t=0;t<6;++t)e.write_shift(4,0)}return e.slice(0,e.l)}function al(r,e,t,n){return n||(n=ye(6)),n.write_shift(2,r),n.write_shift(2,e),n.write_shift(2,t||0),n}function KO(r,e,t){var n=t.biff>8?4:2,s=r.read_shift(n),a=r.read_shift(n,"i"),l=r.read_shift(n,"i");return[s,a,l]}function YO(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2),s=r.read_shift(2);return{s:{c:n,r:e},e:{c:s,r:t}}}function v4(r,e){return e||(e=ye(8)),e.write_shift(2,r.s.r),e.write_shift(2,r.e.r),e.write_shift(2,r.s.c),e.write_shift(2,r.e.c),e}function sv(r,e,t){var n=1536,s=16;switch(t.bookType){case"biff8":break;case"biff5":n=1280,s=8;break;case"biff4":n=4,s=6;break;case"biff3":n=3,s=6;break;case"biff2":n=2,s=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=ye(s);return a.write_shift(2,n),a.write_shift(2,e),s>4&&a.write_shift(2,29282),s>6&&a.write_shift(2,1997),s>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function XO(r,e){var t=!e||e.biff==8,n=ye(t?112:54);for(n.write_shift(e.biff==8?2:1,7),t&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(t?0:536870912));n.l<n.length;)n.write_shift(1,t?0:32);return n}function QO(r,e){var t=!e||e.biff>=8?2:1,n=ye(8+t*r.name.length);n.write_shift(4,r.pos),n.write_shift(1,r.hs||0),n.write_shift(1,r.dt),n.write_shift(1,r.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(t*r.name.length,r.name,e.biff<8?"sbcs":"utf16le");var s=n.slice(0,n.l);return s.l=n.l,s}function JO(r,e){var t=ye(8);t.write_shift(4,r.Count),t.write_shift(4,r.Unique);for(var n=[],s=0;s<r.length;++s)n[s]=$O(r[s]);var a=xn([t].concat(n));return a.parts=[t.length].concat(n.map(function(l){return l.length})),a}function ZO(){var r=ye(18);return r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,29280),r.write_shift(2,17600),r.write_shift(2,56),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,1),r.write_shift(2,500),r}function eF(r){var e=ye(18),t=1718;return r&&r.RTL&&(t|=64),e.write_shift(2,t),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function tF(r,e){var t=r.name||"Arial",n=e&&e.biff==5,s=n?15+t.length:16+2*t.length,a=ye(s);return a.write_shift(2,r.sz*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,t.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*t.length,t,n?"sbcs":"utf16le"),a}function rF(r,e,t,n){var s=ye(10);return al(r,e,n,s),s.write_shift(4,t),s}function nF(r,e,t,n,s){var a=!s||s.biff==8,l=ye(8+ +a+(1+a)*t.length);return al(r,e,n,l),l.write_shift(2,t.length),a&&l.write_shift(1,1),l.write_shift((1+a)*t.length,t,a?"utf16le":"sbcs"),l}function sF(r,e,t,n){var s=t&&t.biff==5;n||(n=ye(s?3+e.length:5+2*e.length)),n.write_shift(2,r),n.write_shift(s?1:2,e.length),s||n.write_shift(1,1),n.write_shift((s?1:2)*e.length,e,s?"sbcs":"utf16le");var a=n.length>n.l?n.slice(0,n.l):n;return a.l==null&&(a.l=a.length),a}function iF(r,e){var t=e.biff==8||!e.biff?4:2,n=ye(2*t+6);return n.write_shift(t,r.s.r),n.write_shift(t,r.e.r+1),n.write_shift(2,r.s.c),n.write_shift(2,r.e.c+1),n.write_shift(2,0),n}function e2(r,e,t,n){var s=t&&t.biff==5;n||(n=ye(s?16:20)),n.write_shift(2,0),r.style?(n.write_shift(2,r.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,r.numFmtId||0),n.write_shift(2,e<<4));var a=0;return r.numFmtId>0&&s&&(a|=1024),n.write_shift(4,a),n.write_shift(4,0),s||n.write_shift(4,0),n.write_shift(2,0),n}function aF(r){var e=ye(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function oF(r,e,t,n,s,a){var l=ye(8);return al(r,e,n,l),p4(t,a,l),l}function lF(r,e,t,n){var s=ye(14);return al(r,e,n,s),il(t,s),s}function cF(r,e,t){if(t.biff<8)return uF(r,e,t);for(var n=[],s=r.l+e,a=r.read_shift(t.biff>8?4:2);a--!==0;)n.push(KO(r,t.biff>8?12:6,t));if(r.l!=s)throw new Error("Bad ExternSheet: "+r.l+" != "+s);return n}function uF(r,e,t){r[r.l+1]==3&&r[r.l]++;var n=g4(r,e,t);return n.charCodeAt(0)==3?n.slice(1):n}function dF(r){var e=ye(2+r.length*8);e.write_shift(2,r.length);for(var t=0;t<r.length;++t)v4(r[t],e);return e}function hF(r){var e=ye(24),t=an(r[0]);e.write_shift(2,t.r),e.write_shift(2,t.r),e.write_shift(2,t.c),e.write_shift(2,t.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)e.write_shift(1,parseInt(n[s],16));return xn([e,qO(r[1])])}function fF(r){var e=r[1].Tooltip,t=ye(10+2*(e.length+1));t.write_shift(2,2048);var n=an(r[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var s=0;s<e.length;++s)t.write_shift(2,e.charCodeAt(s));return t.write_shift(2,0),t}function mF(r){return r||(r=ye(4)),r.write_shift(2,1),r.write_shift(2,1),r}function pF(r,e,t){if(!t.cellStyles)return Di(r,e);var n=t&&t.biff>=12?4:2,s=r.read_shift(n),a=r.read_shift(n),l=r.read_shift(n),u=r.read_shift(n),h=r.read_shift(2);n==2&&(r.l+=2);var f={s,e:a,w:l,ixfe:u,flags:h};return(t.biff>=5||!t.biff)&&(f.level=h>>8&7),f}function gF(r,e){var t=ye(12);t.write_shift(2,e),t.write_shift(2,e),t.write_shift(2,r.width*256),t.write_shift(2,0);var n=0;return r.hidden&&(n|=1),t.write_shift(1,n),n=r.level||0,t.write_shift(1,n),t.write_shift(2,0),t}function xF(r){for(var e=ye(2*r),t=0;t<r;++t)e.write_shift(2,t+1);return e}function vF(r,e,t){var n=ye(15);return Cd(n,r,e),n.write_shift(8,t,"f"),n}function yF(r,e,t){var n=ye(9);return Cd(n,r,e),n.write_shift(2,t),n}var wF=(function(){var r={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=qx({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(u,h){var f=[],g=sl(1);switch(h.type){case"base64":g=ai(xa(u));break;case"binary":g=ai(u);break;case"buffer":case"array":g=u;break}ys(g,0);var x=g.read_shift(1),v=!!(x&136),_=!1,S=!1;switch(x){case 2:break;case 3:break;case 48:_=!0,v=!0;break;case 49:_=!0,v=!0;break;case 131:break;case 139:break;case 140:S=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+x.toString(16))}var w=0,T=521;x==2&&(w=g.read_shift(2)),g.l+=3,x!=2&&(w=g.read_shift(4)),w>1048576&&(w=1e6),x!=2&&(T=g.read_shift(2));var j=g.read_shift(2),D=h.codepage||1252;x!=2&&(g.l+=16,g.read_shift(1),g[g.l]!==0&&(D=r[g[g.l]]),g.l+=1,g.l+=2),S&&(g.l+=36);for(var L=[],M={},Z=Math.min(g.length,x==2?521:T-10-(_?264:0)),Q=S?32:11;g.l<Z&&g[g.l]!=13;)switch(M={},M.name=zf.utils.decode(D,g.slice(g.l,g.l+Q)).replace(/[\u0000\r\n].*$/g,""),g.l+=Q,M.type=String.fromCharCode(g.read_shift(1)),x!=2&&!S&&(M.offset=g.read_shift(4)),M.len=g.read_shift(1),x==2&&(M.offset=g.read_shift(2)),M.dec=g.read_shift(1),M.name.length&&L.push(M),x!=2&&(g.l+=S?13:14),M.type){case"B":(!_||M.len!=8)&&h.WTF&&console.log("Skipping "+M.name+":"+M.type);break;case"G":case"P":h.WTF&&console.log("Skipping "+M.name+":"+M.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+M.type)}if(g[g.l]!==13&&(g.l=T-1),g.read_shift(1)!==13)throw new Error("DBF Terminator not found "+g.l+" "+g[g.l]);g.l=T;var N=0,I=0;for(f[0]=[],I=0;I!=L.length;++I)f[0][I]=L[I].name;for(;w-- >0;){if(g[g.l]===42){g.l+=j;continue}for(++g.l,f[++N]=[],I=0,I=0;I!=L.length;++I){var A=g.slice(g.l,g.l+L[I].len);g.l+=L[I].len,ys(A,0);var P=zf.utils.decode(D,A);switch(L[I].type){case"C":P.trim().length&&(f[N][I]=P.replace(/\s+$/,""));break;case"D":P.length===8?f[N][I]=new Date(+P.slice(0,4),+P.slice(4,6)-1,+P.slice(6,8)):f[N][I]=P;break;case"F":f[N][I]=parseFloat(P.trim());break;case"+":case"I":f[N][I]=S?A.read_shift(-4,"i")^2147483648:A.read_shift(4,"i");break;case"L":switch(P.trim().toUpperCase()){case"Y":case"T":f[N][I]=!0;break;case"N":case"F":f[N][I]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+P+"|")}break;case"M":if(!v)throw new Error("DBF Unexpected MEMO for type "+x.toString(16));f[N][I]="##MEMO##"+(S?parseInt(P.trim(),10):A.read_shift(4));break;case"N":P=P.replace(/\u0000/g,"").trim(),P&&P!="."&&(f[N][I]=+P||0);break;case"@":f[N][I]=new Date(A.read_shift(-8,"f")-621356832e5);break;case"T":f[N][I]=new Date((A.read_shift(4)-2440588)*864e5+A.read_shift(4));break;case"Y":f[N][I]=A.read_shift(4,"i")/1e4+A.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[N][I]=-A.read_shift(-8,"f");break;case"B":if(_&&L[I].len==8){f[N][I]=A.read_shift(8,"f");break}case"G":case"P":A.l+=L[I].len;break;case"0":if(L[I].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+L[I].type)}}}if(x!=2&&g.l<g.length&&g[g.l++]!=26)throw new Error("DBF EOF Marker missing "+(g.l-1)+" of "+g.length+" "+g[g.l-1].toString(16));return h&&h.sheetRows&&(f=f.slice(0,h.sheetRows)),h.DBF=L,f}function n(u,h){var f=h||{};f.dateNF||(f.dateNF="yyyymmdd");var g=Oc(t(u,f),f);return g["!cols"]=f.DBF.map(function(x){return{wch:x.len,DBF:x}}),delete f.DBF,g}function s(u,h){try{return fl(n(u,h),h)}catch(f){if(h&&h.WTF)throw f}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function l(u,h){var f=h||{};if(+f.codepage>=0&&Xu(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var g=as(),x=t0(u,{header:1,raw:!0,cellDates:!0}),v=x[0],_=x.slice(1),S=u["!cols"]||[],w=0,T=0,j=0,D=1;for(w=0;w<v.length;++w){if(((S[w]||{}).DBF||{}).name){v[w]=S[w].DBF.name,++j;continue}if(v[w]!=null){if(++j,typeof v[w]=="number"&&(v[w]=v[w].toString(10)),typeof v[w]!="string")throw new Error("DBF Invalid column name "+v[w]+" |"+typeof v[w]+"|");if(v.indexOf(v[w])!==w){for(T=0;T<1024;++T)if(v.indexOf(v[w]+"_"+T)==-1){v[w]+="_"+T;break}}}}var L=mr(u["!ref"]),M=[],Z=[],Q=[];for(w=0;w<=L.e.c-L.s.c;++w){var N="",I="",A=0,P=[];for(T=0;T<_.length;++T)_[T][w]!=null&&P.push(_[T][w]);if(P.length==0||v[w]==null){M[w]="?";continue}for(T=0;T<P.length;++T){switch(typeof P[T]){case"number":I="B";break;case"string":I="C";break;case"boolean":I="L";break;case"object":I=P[T]instanceof Date?"D":"C";break;default:I="C"}A=Math.max(A,String(P[T]).length),N=N&&N!=I?"C":I}A>250&&(A=250),I=((S[w]||{}).DBF||{}).type,I=="C"&&S[w].DBF.len>A&&(A=S[w].DBF.len),N=="B"&&I=="N"&&(N="N",Q[w]=S[w].DBF.dec,A=S[w].DBF.len),Z[w]=N=="C"||I=="N"?A:a[N]||0,D+=Z[w],M[w]=N}var F=g.next(32);for(F.write_shift(4,318902576),F.write_shift(4,_.length),F.write_shift(2,296+32*j),F.write_shift(2,D),w=0;w<4;++w)F.write_shift(4,0);for(F.write_shift(4,0|(+e[wT]||3)<<8),w=0,T=0;w<v.length;++w)if(v[w]!=null){var V=g.next(32),O=(v[w].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);V.write_shift(1,O,"sbcs"),V.write_shift(1,M[w]=="?"?"C":M[w],"sbcs"),V.write_shift(4,T),V.write_shift(1,Z[w]||a[M[w]]||0),V.write_shift(1,Q[w]||0),V.write_shift(1,2),V.write_shift(4,0),V.write_shift(1,0),V.write_shift(4,0),V.write_shift(4,0),T+=Z[w]||a[M[w]]||0}var $e=g.next(264);for($e.write_shift(4,13),w=0;w<65;++w)$e.write_shift(4,0);for(w=0;w<_.length;++w){var je=g.next(D);for(je.write_shift(1,0),T=0;T<v.length;++T)if(v[T]!=null)switch(M[T]){case"L":je.write_shift(1,_[w][T]==null?63:_[w][T]?84:70);break;case"B":je.write_shift(8,_[w][T]||0,"f");break;case"N":var Te="0";for(typeof _[w][T]=="number"&&(Te=_[w][T].toFixed(Q[T]||0)),j=0;j<Z[T]-Te.length;++j)je.write_shift(1,32);je.write_shift(1,Te,"sbcs");break;case"D":_[w][T]?(je.write_shift(4,("0000"+_[w][T].getFullYear()).slice(-4),"sbcs"),je.write_shift(2,("00"+(_[w][T].getMonth()+1)).slice(-2),"sbcs"),je.write_shift(2,("00"+_[w][T].getDate()).slice(-2),"sbcs")):je.write_shift(8,"00000000","sbcs");break;case"C":var Ge=String(_[w][T]!=null?_[w][T]:"").slice(0,Z[T]);for(je.write_shift(1,Ge,"sbcs"),j=0;j<Z[T]-Ge.length;++j)je.write_shift(1,32);break}}return g.next(1).write_shift(1,26),g.end()}return{to_workbook:s,to_sheet:n,from_sheet:l}})(),_F=(function(){var r={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+_n(r).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(v,_){var S=r[_];return typeof S=="number"?T_(S):S},n=function(v,_,S){var w=_.charCodeAt(0)-32<<4|S.charCodeAt(0)-48;return w==59?v:T_(w)};r["|"]=254;function s(v,_){switch(_.type){case"base64":return a(xa(v),_);case"binary":return a(v,_);case"buffer":return a(Bt&&Buffer.isBuffer(v)?v.toString("binary"):Ed(v),_);case"array":return a(F0(v),_)}throw new Error("Unrecognized type "+_.type)}function a(v,_){var S=v.split(/[\n\r]+/),w=-1,T=-1,j=0,D=0,L=[],M=[],Z=null,Q={},N=[],I=[],A=[],P=0,F;for(+_.codepage>=0&&Xu(+_.codepage);j!==S.length;++j){P=0;var V=S[j].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,t),O=V.replace(/;;/g,"\0").split(";").map(function(te){return te.replace(/\u0000/g,";")}),$e=O[0],je;if(V.length>0)switch($e){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":O[1].charAt(0)=="P"&&M.push(V.slice(3).replace(/;;/g,";"));break;case"C":var Te=!1,Ge=!1,Se=!1,pe=!1,Y=-1,se=-1;for(D=1;D<O.length;++D)switch(O[D].charAt(0)){case"A":break;case"X":T=parseInt(O[D].slice(1))-1,Ge=!0;break;case"Y":for(w=parseInt(O[D].slice(1))-1,Ge||(T=0),F=L.length;F<=w;++F)L[F]=[];break;case"K":je=O[D].slice(1),je.charAt(0)==='"'?je=je.slice(1,je.length-1):je==="TRUE"?je=!0:je==="FALSE"?je=!1:isNaN(ua(je))?isNaN(Ju(je).getDate())||(je=Hn(je)):(je=ua(je),Z!==null&&PT(Z)&&(je=FT(je))),Te=!0;break;case"E":pe=!0;var W=yL(O[D].slice(1),{r:w,c:T});L[w][T]=[L[w][T],W];break;case"S":Se=!0,L[w][T]=[L[w][T],"S5S"];break;case"G":break;case"R":Y=parseInt(O[D].slice(1))-1;break;case"C":se=parseInt(O[D].slice(1))-1;break;default:if(_&&_.WTF)throw new Error("SYLK bad record "+V)}if(Te&&(L[w][T]&&L[w][T].length==2?L[w][T][0]=je:L[w][T]=je,Z=null),Se){if(pe)throw new Error("SYLK shared formula cannot have own formula");var ee=Y>-1&&L[Y][se];if(!ee||!ee[1])throw new Error("SYLK shared formula cannot find base");L[w][T][1]=wL(ee[1],{r:w-Y,c:T-se})}break;case"F":var J=0;for(D=1;D<O.length;++D)switch(O[D].charAt(0)){case"X":T=parseInt(O[D].slice(1))-1,++J;break;case"Y":for(w=parseInt(O[D].slice(1))-1,F=L.length;F<=w;++F)L[F]=[];break;case"M":P=parseInt(O[D].slice(1))/20;break;case"F":break;case"G":break;case"P":Z=M[parseInt(O[D].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(A=O[D].slice(1).split(" "),F=parseInt(A[0],10);F<=parseInt(A[1],10);++F)P=parseInt(A[2],10),I[F-1]=P===0?{hidden:!0}:{wch:P},iv(I[F-1]);break;case"C":T=parseInt(O[D].slice(1))-1,I[T]||(I[T]={});break;case"R":w=parseInt(O[D].slice(1))-1,N[w]||(N[w]={}),P>0?(N[w].hpt=P,N[w].hpx=b4(P)):P===0&&(N[w].hidden=!0);break;default:if(_&&_.WTF)throw new Error("SYLK bad record "+V)}J<1&&(Z=null);break;default:if(_&&_.WTF)throw new Error("SYLK bad record "+V)}}return N.length>0&&(Q["!rows"]=N),I.length>0&&(Q["!cols"]=I),_&&_.sheetRows&&(L=L.slice(0,_.sheetRows)),[L,Q]}function l(v,_){var S=s(v,_),w=S[0],T=S[1],j=Oc(w,_);return _n(T).forEach(function(D){j[D]=T[D]}),j}function u(v,_){return fl(l(v,_),_)}function h(v,_,S,w){var T="C;Y"+(S+1)+";X"+(w+1)+";K";switch(v.t){case"n":T+=v.v||0,v.f&&!v.F&&(T+=";E"+ov(v.f,{r:S,c:w}));break;case"b":T+=v.v?"TRUE":"FALSE";break;case"e":T+=v.w||v.v;break;case"d":T+='"'+(v.w||v.v)+'"';break;case"s":T+='"'+v.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return T}function f(v,_){_.forEach(function(S,w){var T="F;W"+(w+1)+" "+(w+1)+" ";S.hidden?T+="0":(typeof S.width=="number"&&!S.wpx&&(S.wpx=Qf(S.width)),typeof S.wpx=="number"&&!S.wch&&(S.wch=Jf(S.wpx)),typeof S.wch=="number"&&(T+=Math.round(S.wch))),T.charAt(T.length-1)!=" "&&v.push(T)})}function g(v,_){_.forEach(function(S,w){var T="F;";S.hidden?T+="M0;":S.hpt?T+="M"+20*S.hpt+";":S.hpx&&(T+="M"+20*Zf(S.hpx)+";"),T.length>2&&v.push(T+"R"+(w+1))})}function x(v,_){var S=["ID;PWXL;N;E"],w=[],T=mr(v["!ref"]),j,D=Array.isArray(v),L=`\r
`;S.push("P;PGeneral"),S.push("F;P0;DG0G8;M255"),v["!cols"]&&f(S,v["!cols"]),v["!rows"]&&g(S,v["!rows"]),S.push("B;Y"+(T.e.r-T.s.r+1)+";X"+(T.e.c-T.s.c+1)+";D"+[T.s.c,T.s.r,T.e.c,T.e.r].join(" "));for(var M=T.s.r;M<=T.e.r;++M)for(var Z=T.s.c;Z<=T.e.c;++Z){var Q=Qt({r:M,c:Z});j=D?(v[M]||[])[Z]:v[Q],!(!j||j.v==null&&(!j.f||j.F))&&w.push(h(j,v,M,Z))}return S.join(L)+L+w.join(L)+L+"E"+L}return{to_workbook:u,to_sheet:l,from_sheet:x}})(),EF=(function(){function r(a,l){switch(l.type){case"base64":return e(xa(a),l);case"binary":return e(a,l);case"buffer":return e(Bt&&Buffer.isBuffer(a)?a.toString("binary"):Ed(a),l);case"array":return e(F0(a),l)}throw new Error("Unrecognized type "+l.type)}function e(a,l){for(var u=a.split(`
`),h=-1,f=-1,g=0,x=[];g!==u.length;++g){if(u[g].trim()==="BOT"){x[++h]=[],f=0;continue}if(!(h<0)){var v=u[g].trim().split(","),_=v[0],S=v[1];++g;for(var w=u[g]||"";(w.match(/["]/g)||[]).length&1&&g<u.length-1;)w+=`
`+u[++g];switch(w=w.trim(),+_){case-1:if(w==="BOT"){x[++h]=[],f=0;continue}else if(w!=="EOD")throw new Error("Unrecognized DIF special command "+w);break;case 0:w==="TRUE"?x[h][f]=!0:w==="FALSE"?x[h][f]=!1:isNaN(ua(S))?isNaN(Ju(S).getDate())?x[h][f]=S:x[h][f]=Hn(S):x[h][f]=ua(S),++f;break;case 1:w=w.slice(1,w.length-1),w=w.replace(/""/g,'"'),w&&w.match(/^=".*"$/)&&(w=w.slice(2,-1)),x[h][f++]=w!==""?w:null;break}if(w==="EOD")break}}return l&&l.sheetRows&&(x=x.slice(0,l.sheetRows)),x}function t(a,l){return Oc(r(a,l),l)}function n(a,l){return fl(t(a,l),l)}var s=(function(){var a=function(h,f,g,x,v){h.push(f),h.push(g+","+x),h.push('"'+v.replace(/"/g,'""')+'"')},l=function(h,f,g,x){h.push(f+","+g),h.push(f==1?'"'+x.replace(/"/g,'""')+'"':x)};return function(h){var f=[],g=mr(h["!ref"]),x,v=Array.isArray(h);a(f,"TABLE",0,1,"sheetjs"),a(f,"VECTORS",0,g.e.r-g.s.r+1,""),a(f,"TUPLES",0,g.e.c-g.s.c+1,""),a(f,"DATA",0,0,"");for(var _=g.s.r;_<=g.e.r;++_){l(f,-1,0,"BOT");for(var S=g.s.c;S<=g.e.c;++S){var w=Qt({r:_,c:S});if(x=v?(h[_]||[])[S]:h[w],!x){l(f,1,0,"");continue}switch(x.t){case"n":var T=x.w;!T&&x.v!=null&&(T=x.v),T==null?x.f&&!x.F?l(f,1,0,"="+x.f):l(f,1,0,""):l(f,0,T,"V");break;case"b":l(f,0,x.v?1:0,x.v?"TRUE":"FALSE");break;case"s":l(f,1,0,isNaN(x.v)?x.v:'="'+x.v+'"');break;case"d":x.w||(x.w=go(x.z||Ar[14],os(Hn(x.v)))),l(f,0,x.w,"V");break;default:l(f,1,0,"")}}}l(f,-1,0,"EOD");var j=`\r
`,D=f.join(j);return D}})();return{to_workbook:n,to_sheet:t,from_sheet:s}})(),y4=(function(){function r(x){return x.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(x){return x.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(x,v){for(var _=x.split(`
`),S=-1,w=-1,T=0,j=[];T!==_.length;++T){var D=_[T].trim().split(":");if(D[0]==="cell"){var L=an(D[1]);if(j.length<=L.r)for(S=j.length;S<=L.r;++S)j[S]||(j[S]=[]);switch(S=L.r,w=L.c,D[2]){case"t":j[S][w]=r(D[3]);break;case"v":j[S][w]=+D[3];break;case"vtf":var M=D[D.length-1];case"vtc":switch(D[3]){case"nl":j[S][w]=!!+D[4];break;default:j[S][w]=+D[4];break}D[2]=="vtf"&&(j[S][w]=[j[S][w],M])}}}return v&&v.sheetRows&&(j=j.slice(0,v.sheetRows)),j}function n(x,v){return Oc(t(x,v),v)}function s(x,v){return fl(n(x,v),v)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,u=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),h="--SocialCalcSpreadsheetControlSave--";function f(x){if(!x||!x["!ref"])return"";for(var v=[],_=[],S,w="",T=Cs(x["!ref"]),j=Array.isArray(x),D=T.s.r;D<=T.e.r;++D)for(var L=T.s.c;L<=T.e.c;++L)if(w=Qt({r:D,c:L}),S=j?(x[D]||[])[L]:x[w],!(!S||S.v==null||S.t==="z")){switch(_=["cell",w,"t"],S.t){case"s":case"str":_.push(e(S.v));break;case"n":S.f?(_[2]="vtf",_[3]="n",_[4]=S.v,_[5]=e(S.f)):(_[2]="v",_[3]=S.v);break;case"b":_[2]="vt"+(S.f?"f":"c"),_[3]="nl",_[4]=S.v?"1":"0",_[5]=e(S.f||(S.v?"TRUE":"FALSE"));break;case"d":var M=os(Hn(S.v));_[2]="vtc",_[3]="nd",_[4]=""+M,_[5]=S.w||go(S.z||Ar[14],M);break;case"e":continue}v.push(_.join(":"))}return v.push("sheet:c:"+(T.e.c-T.s.c+1)+":r:"+(T.e.r-T.s.r+1)+":tvf:1"),v.push("valueformat:1:text-wiki"),v.join(`
`)}function g(x){return[a,l,u,l,f(x),h].join(`
`)}return{to_workbook:s,to_sheet:n,from_sheet:g}})(),bF=(function(){function r(g,x,v,_,S){S.raw?x[v][_]=g:g===""||(g==="TRUE"?x[v][_]=!0:g==="FALSE"?x[v][_]=!1:isNaN(ua(g))?isNaN(Ju(g).getDate())?x[v][_]=g:x[v][_]=Hn(g):x[v][_]=ua(g))}function e(g,x){var v=x||{},_=[];if(!g||g.length===0)return _;for(var S=g.split(/[\r\n]/),w=S.length-1;w>=0&&S[w].length===0;)--w;for(var T=10,j=0,D=0;D<=w;++D)j=S[D].indexOf(" "),j==-1?j=S[D].length:j++,T=Math.max(T,j);for(D=0;D<=w;++D){_[D]=[];var L=0;for(r(S[D].slice(0,T).trim(),_,D,L,v),L=1;L<=(S[D].length-T)/10+1;++L)r(S[D].slice(T+(L-1)*10,T+L*10).trim(),_,D,L,v)}return v.sheetRows&&(_=_.slice(0,v.sheetRows)),_}var t={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function s(g){for(var x={},v=!1,_=0,S=0;_<g.length;++_)(S=g.charCodeAt(_))==34?v=!v:!v&&S in t&&(x[S]=(x[S]||0)+1);S=[];for(_ in x)Object.prototype.hasOwnProperty.call(x,_)&&S.push([x[_],_]);if(!S.length){x=n;for(_ in x)Object.prototype.hasOwnProperty.call(x,_)&&S.push([x[_],_])}return S.sort(function(w,T){return w[0]-T[0]||n[w[1]]-n[T[1]]}),t[S.pop()[1]]||44}function a(g,x){var v=x||{},_="",S=v.dense?[]:{},w={s:{c:0,r:0},e:{c:0,r:0}};g.slice(0,4)=="sep="?g.charCodeAt(5)==13&&g.charCodeAt(6)==10?(_=g.charAt(4),g=g.slice(7)):g.charCodeAt(5)==13||g.charCodeAt(5)==10?(_=g.charAt(4),g=g.slice(6)):_=s(g.slice(0,1024)):v&&v.FS?_=v.FS:_=s(g.slice(0,1024));var T=0,j=0,D=0,L=0,M=0,Z=_.charCodeAt(0),Q=!1,N=0,I=g.charCodeAt(0);g=g.replace(/\r\n/mg,`
`);var A=v.dateNF!=null?U5(v.dateNF):null;function P(){var F=g.slice(L,M),V={};if(F.charAt(0)=='"'&&F.charAt(F.length-1)=='"'&&(F=F.slice(1,-1).replace(/""/g,'"')),F.length===0)V.t="z";else if(v.raw)V.t="s",V.v=F;else if(F.trim().length===0)V.t="s",V.v=F;else if(F.charCodeAt(0)==61)F.charCodeAt(1)==34&&F.charCodeAt(F.length-1)==34?(V.t="s",V.v=F.slice(2,-1).replace(/""/g,'"')):_L(F)?(V.t="n",V.f=F.slice(1)):(V.t="s",V.v=F);else if(F=="TRUE")V.t="b",V.v=!0;else if(F=="FALSE")V.t="b",V.v=!1;else if(!isNaN(D=ua(F)))V.t="n",v.cellText!==!1&&(V.w=F),V.v=D;else if(!isNaN(Ju(F).getDate())||A&&F.match(A)){V.z=v.dateNF||Ar[14];var O=0;A&&F.match(A)&&(F=V5(F,v.dateNF,F.match(A)||[]),O=1),v.cellDates?(V.t="d",V.v=Hn(F,O)):(V.t="n",V.v=os(Hn(F,O))),v.cellText!==!1&&(V.w=go(V.z,V.v instanceof Date?os(V.v):V.v)),v.cellNF||delete V.z}else V.t="s",V.v=F;if(V.t=="z"||(v.dense?(S[T]||(S[T]=[]),S[T][j]=V):S[Qt({c:j,r:T})]=V),L=M+1,I=g.charCodeAt(L),w.e.c<j&&(w.e.c=j),w.e.r<T&&(w.e.r=T),N==Z)++j;else if(j=0,++T,v.sheetRows&&v.sheetRows<=T)return!0}e:for(;M<g.length;++M)switch(N=g.charCodeAt(M)){case 34:I===34&&(Q=!Q);break;case Z:case 10:case 13:if(!Q&&P())break e;break}return M-L>0&&P(),S["!ref"]=zr(w),S}function l(g,x){return!(x&&x.PRN)||x.FS||g.slice(0,4)=="sep="||g.indexOf("	")>=0||g.indexOf(",")>=0||g.indexOf(";")>=0?a(g,x):Oc(e(g,x),x)}function u(g,x){var v="",_=x.type=="string"?[0,0,0,0]:OU(g,x);switch(x.type){case"base64":v=xa(g);break;case"binary":v=g;break;case"buffer":x.codepage==65001?v=g.toString("utf8"):x.codepage&&typeof zf<"u"||(v=Bt&&Buffer.isBuffer(g)?g.toString("binary"):Ed(g));break;case"array":v=F0(g);break;case"string":v=g;break;default:throw new Error("Unrecognized type "+x.type)}return _[0]==239&&_[1]==187&&_[2]==191?v=ju(v.slice(3)):x.type!="string"&&x.type!="buffer"&&x.codepage==65001?v=ju(v):x.type=="binary"&&typeof zf<"u",v.slice(0,19)=="socialcalc:version:"?y4.to_sheet(x.type=="string"?v:ju(v),x):l(v,x)}function h(g,x){return fl(u(g,x),x)}function f(g){for(var x=[],v=mr(g["!ref"]),_,S=Array.isArray(g),w=v.s.r;w<=v.e.r;++w){for(var T=[],j=v.s.c;j<=v.e.c;++j){var D=Qt({r:w,c:j});if(_=S?(g[w]||[])[j]:g[D],!_||_.v==null){T.push("          ");continue}for(var L=(_.w||(va(_),_.w)||"").slice(0,10);L.length<10;)L+=" ";T.push(L+(j===0?" ":""))}x.push(T.join(""))}return x.join(`
`)}return{to_workbook:h,to_sheet:u,from_sheet:f}})(),t2=(function(){function r(W,ee,J){if(W){ys(W,W.l||0);for(var te=J.Enum||Y;W.l<W.length;){var ce=W.read_shift(2),be=te[ce]||te[65535],Pe=W.read_shift(2),Me=W.l+Pe,Fe=be.f&&be.f(W,Pe,J);if(W.l=Me,ee(Fe,be,ce))return}}}function e(W,ee){switch(ee.type){case"base64":return t(ai(xa(W)),ee);case"binary":return t(ai(W),ee);case"buffer":case"array":return t(W,ee)}throw"Unsupported type "+ee.type}function t(W,ee){if(!W)return W;var J=ee||{},te=J.dense?[]:{},ce="Sheet1",be="",Pe=0,Me={},Fe=[],mt=[],ot={s:{r:0,c:0},e:{r:0,c:0}},zt=J.sheetRows||0;if(W[2]==0&&(W[3]==8||W[3]==9)&&W.length>=16&&W[14]==5&&W[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(W[2]==2)J.Enum=Y,r(W,function(he,Ne,Be){switch(Be){case 0:J.vers=he,he>=4096&&(J.qpro=!0);break;case 6:ot=he;break;case 204:he&&(be=he);break;case 222:be=he;break;case 15:case 51:J.qpro||(he[1].v=he[1].v.slice(1));case 13:case 14:case 16:Be==14&&(he[2]&112)==112&&(he[2]&15)>1&&(he[2]&15)<15&&(he[1].z=J.dateNF||Ar[14],J.cellDates&&(he[1].t="d",he[1].v=FT(he[1].v))),J.qpro&&he[3]>Pe&&(te["!ref"]=zr(ot),Me[ce]=te,Fe.push(ce),te=J.dense?[]:{},ot={s:{r:0,c:0},e:{r:0,c:0}},Pe=he[3],ce=be||"Sheet"+(Pe+1),be="");var nt=J.dense?(te[he[0].r]||[])[he[0].c]:te[Qt(he[0])];if(nt){nt.t=he[1].t,nt.v=he[1].v,he[1].z!=null&&(nt.z=he[1].z),he[1].f!=null&&(nt.f=he[1].f);break}J.dense?(te[he[0].r]||(te[he[0].r]=[]),te[he[0].r][he[0].c]=he[1]):te[Qt(he[0])]=he[1];break}},J);else if(W[2]==26||W[2]==14)J.Enum=se,W[2]==14&&(J.qpro=!0,W.l=0),r(W,function(he,Ne,Be){switch(Be){case 204:ce=he;break;case 22:he[1].v=he[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(he[3]>Pe&&(te["!ref"]=zr(ot),Me[ce]=te,Fe.push(ce),te=J.dense?[]:{},ot={s:{r:0,c:0},e:{r:0,c:0}},Pe=he[3],ce="Sheet"+(Pe+1)),zt>0&&he[0].r>=zt)break;J.dense?(te[he[0].r]||(te[he[0].r]=[]),te[he[0].r][he[0].c]=he[1]):te[Qt(he[0])]=he[1],ot.e.c<he[0].c&&(ot.e.c=he[0].c),ot.e.r<he[0].r&&(ot.e.r=he[0].r);break;case 27:he[14e3]&&(mt[he[14e3][0]]=he[14e3][1]);break;case 1537:mt[he[0]]=he[1],he[0]==Pe&&(ce=he[1]);break}},J);else throw new Error("Unrecognized LOTUS BOF "+W[2]);if(te["!ref"]=zr(ot),Me[be||ce]=te,Fe.push(be||ce),!mt.length)return{SheetNames:Fe,Sheets:Me};for(var ct={},xr=[],Tt=0;Tt<mt.length;++Tt)Me[Fe[Tt]]?(xr.push(mt[Tt]||Fe[Tt]),ct[mt[Tt]]=Me[mt[Tt]]||Me[Fe[Tt]]):(xr.push(mt[Tt]),ct[mt[Tt]]={"!ref":"A1"});return{SheetNames:xr,Sheets:ct}}function n(W,ee){var J=ee||{};if(+J.codepage>=0&&Xu(+J.codepage),J.type=="string")throw new Error("Cannot write WK1 to JS string");var te=as(),ce=mr(W["!ref"]),be=Array.isArray(W),Pe=[];Ve(te,0,a(1030)),Ve(te,6,h(ce));for(var Me=Math.min(ce.e.r,8191),Fe=ce.s.r;Fe<=Me;++Fe)for(var mt=wn(Fe),ot=ce.s.c;ot<=ce.e.c;++ot){Fe===ce.s.r&&(Pe[ot]=jn(ot));var zt=Pe[ot]+mt,ct=be?(W[Fe]||[])[ot]:W[zt];if(!(!ct||ct.t=="z"))if(ct.t=="n")(ct.v|0)==ct.v&&ct.v>=-32768&&ct.v<=32767?Ve(te,13,_(Fe,ot,ct.v)):Ve(te,14,w(Fe,ot,ct.v));else{var xr=va(ct);Ve(te,15,x(Fe,ot,xr.slice(0,239)))}}return Ve(te,1),te.end()}function s(W,ee){var J=ee||{};if(+J.codepage>=0&&Xu(+J.codepage),J.type=="string")throw new Error("Cannot write WK3 to JS string");var te=as();Ve(te,0,l(W));for(var ce=0,be=0;ce<W.SheetNames.length;++ce)(W.Sheets[W.SheetNames[ce]]||{})["!ref"]&&Ve(te,27,pe(W.SheetNames[ce],be++));var Pe=0;for(ce=0;ce<W.SheetNames.length;++ce){var Me=W.Sheets[W.SheetNames[ce]];if(!(!Me||!Me["!ref"])){for(var Fe=mr(Me["!ref"]),mt=Array.isArray(Me),ot=[],zt=Math.min(Fe.e.r,8191),ct=Fe.s.r;ct<=zt;++ct)for(var xr=wn(ct),Tt=Fe.s.c;Tt<=Fe.e.c;++Tt){ct===Fe.s.r&&(ot[Tt]=jn(Tt));var he=ot[Tt]+xr,Ne=mt?(Me[ct]||[])[Tt]:Me[he];if(!(!Ne||Ne.t=="z"))if(Ne.t=="n")Ve(te,23,P(ct,Tt,Pe,Ne.v));else{var Be=va(Ne);Ve(te,22,N(ct,Tt,Pe,Be.slice(0,239)))}}++Pe}}return Ve(te,1),te.end()}function a(W){var ee=ye(2);return ee.write_shift(2,W),ee}function l(W){var ee=ye(26);ee.write_shift(2,4096),ee.write_shift(2,4),ee.write_shift(4,0);for(var J=0,te=0,ce=0,be=0;be<W.SheetNames.length;++be){var Pe=W.SheetNames[be],Me=W.Sheets[Pe];if(!(!Me||!Me["!ref"])){++ce;var Fe=Cs(Me["!ref"]);J<Fe.e.r&&(J=Fe.e.r),te<Fe.e.c&&(te=Fe.e.c)}}return J>8191&&(J=8191),ee.write_shift(2,J),ee.write_shift(1,ce),ee.write_shift(1,te),ee.write_shift(2,0),ee.write_shift(2,0),ee.write_shift(1,1),ee.write_shift(1,2),ee.write_shift(4,0),ee.write_shift(4,0),ee}function u(W,ee,J){var te={s:{c:0,r:0},e:{c:0,r:0}};return ee==8&&J.qpro?(te.s.c=W.read_shift(1),W.l++,te.s.r=W.read_shift(2),te.e.c=W.read_shift(1),W.l++,te.e.r=W.read_shift(2),te):(te.s.c=W.read_shift(2),te.s.r=W.read_shift(2),ee==12&&J.qpro&&(W.l+=2),te.e.c=W.read_shift(2),te.e.r=W.read_shift(2),ee==12&&J.qpro&&(W.l+=2),te.s.c==65535&&(te.s.c=te.e.c=te.s.r=te.e.r=0),te)}function h(W){var ee=ye(8);return ee.write_shift(2,W.s.c),ee.write_shift(2,W.s.r),ee.write_shift(2,W.e.c),ee.write_shift(2,W.e.r),ee}function f(W,ee,J){var te=[{c:0,r:0},{t:"n",v:0},0,0];return J.qpro&&J.vers!=20768?(te[0].c=W.read_shift(1),te[3]=W.read_shift(1),te[0].r=W.read_shift(2),W.l+=2):(te[2]=W.read_shift(1),te[0].c=W.read_shift(2),te[0].r=W.read_shift(2)),te}function g(W,ee,J){var te=W.l+ee,ce=f(W,ee,J);if(ce[1].t="s",J.vers==20768){W.l++;var be=W.read_shift(1);return ce[1].v=W.read_shift(be,"utf8"),ce}return J.qpro&&W.l++,ce[1].v=W.read_shift(te-W.l,"cstr"),ce}function x(W,ee,J){var te=ye(7+J.length);te.write_shift(1,255),te.write_shift(2,ee),te.write_shift(2,W),te.write_shift(1,39);for(var ce=0;ce<te.length;++ce){var be=J.charCodeAt(ce);te.write_shift(1,be>=128?95:be)}return te.write_shift(1,0),te}function v(W,ee,J){var te=f(W,ee,J);return te[1].v=W.read_shift(2,"i"),te}function _(W,ee,J){var te=ye(7);return te.write_shift(1,255),te.write_shift(2,ee),te.write_shift(2,W),te.write_shift(2,J,"i"),te}function S(W,ee,J){var te=f(W,ee,J);return te[1].v=W.read_shift(8,"f"),te}function w(W,ee,J){var te=ye(13);return te.write_shift(1,255),te.write_shift(2,ee),te.write_shift(2,W),te.write_shift(8,J,"f"),te}function T(W,ee,J){var te=W.l+ee,ce=f(W,ee,J);if(ce[1].v=W.read_shift(8,"f"),J.qpro)W.l=te;else{var be=W.read_shift(2);M(W.slice(W.l,W.l+be),ce),W.l+=be}return ce}function j(W,ee,J){var te=ee&32768;return ee&=-32769,ee=(te?W:0)+(ee>=8192?ee-16384:ee),(te?"":"$")+(J?jn(ee):wn(ee))}var D={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},L=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function M(W,ee){ys(W,0);for(var J=[],te=0,ce="",be="",Pe="",Me="";W.l<W.length;){var Fe=W[W.l++];switch(Fe){case 0:J.push(W.read_shift(8,"f"));break;case 1:be=j(ee[0].c,W.read_shift(2),!0),ce=j(ee[0].r,W.read_shift(2),!1),J.push(be+ce);break;case 2:{var mt=j(ee[0].c,W.read_shift(2),!0),ot=j(ee[0].r,W.read_shift(2),!1);be=j(ee[0].c,W.read_shift(2),!0),ce=j(ee[0].r,W.read_shift(2),!1),J.push(mt+ot+":"+be+ce)}break;case 3:if(W.l<W.length){console.error("WK1 premature formula end");return}break;case 4:J.push("("+J.pop()+")");break;case 5:J.push(W.read_shift(2));break;case 6:{for(var zt="";Fe=W[W.l++];)zt+=String.fromCharCode(Fe);J.push('"'+zt.replace(/"/g,'""')+'"')}break;case 8:J.push("-"+J.pop());break;case 23:J.push("+"+J.pop());break;case 22:J.push("NOT("+J.pop()+")");break;case 20:case 21:Me=J.pop(),Pe=J.pop(),J.push(["AND","OR"][Fe-20]+"("+Pe+","+Me+")");break;default:if(Fe<32&&L[Fe])Me=J.pop(),Pe=J.pop(),J.push(Pe+L[Fe]+Me);else if(D[Fe]){if(te=D[Fe][1],te==69&&(te=W[W.l++]),te>J.length){console.error("WK1 bad formula parse 0x"+Fe.toString(16)+":|"+J.join("|")+"|");return}var ct=J.slice(-te);J.length-=te,J.push(D[Fe][0]+"("+ct.join(",")+")")}else return Fe<=7?console.error("WK1 invalid opcode "+Fe.toString(16)):Fe<=24?console.error("WK1 unsupported op "+Fe.toString(16)):Fe<=30?console.error("WK1 invalid opcode "+Fe.toString(16)):Fe<=115?console.error("WK1 unsupported function opcode "+Fe.toString(16)):console.error("WK1 unrecognized opcode "+Fe.toString(16))}}J.length==1?ee[1].f=""+J[0]:console.error("WK1 bad formula parse |"+J.join("|")+"|")}function Z(W){var ee=[{c:0,r:0},{t:"n",v:0},0];return ee[0].r=W.read_shift(2),ee[3]=W[W.l++],ee[0].c=W[W.l++],ee}function Q(W,ee){var J=Z(W);return J[1].t="s",J[1].v=W.read_shift(ee-4,"cstr"),J}function N(W,ee,J,te){var ce=ye(6+te.length);ce.write_shift(2,W),ce.write_shift(1,J),ce.write_shift(1,ee),ce.write_shift(1,39);for(var be=0;be<te.length;++be){var Pe=te.charCodeAt(be);ce.write_shift(1,Pe>=128?95:Pe)}return ce.write_shift(1,0),ce}function I(W,ee){var J=Z(W);J[1].v=W.read_shift(2);var te=J[1].v>>1;if(J[1].v&1)switch(te&7){case 0:te=(te>>3)*5e3;break;case 1:te=(te>>3)*500;break;case 2:te=(te>>3)/20;break;case 3:te=(te>>3)/200;break;case 4:te=(te>>3)/2e3;break;case 5:te=(te>>3)/2e4;break;case 6:te=(te>>3)/16;break;case 7:te=(te>>3)/64;break}return J[1].v=te,J}function A(W,ee){var J=Z(W),te=W.read_shift(4),ce=W.read_shift(4),be=W.read_shift(2);if(be==65535)return te===0&&ce===3221225472?(J[1].t="e",J[1].v=15):te===0&&ce===3489660928?(J[1].t="e",J[1].v=42):J[1].v=0,J;var Pe=be&32768;return be=(be&32767)-16446,J[1].v=(1-Pe*2)*(ce*Math.pow(2,be+32)+te*Math.pow(2,be)),J}function P(W,ee,J,te){var ce=ye(14);if(ce.write_shift(2,W),ce.write_shift(1,J),ce.write_shift(1,ee),te==0)return ce.write_shift(4,0),ce.write_shift(4,0),ce.write_shift(2,65535),ce;var be=0,Pe=0,Me=0,Fe=0;return te<0&&(be=1,te=-te),Pe=Math.log2(te)|0,te/=Math.pow(2,Pe-31),Fe=te>>>0,(Fe&2147483648)==0&&(te/=2,++Pe,Fe=te>>>0),te-=Fe,Fe|=2147483648,Fe>>>=0,te*=Math.pow(2,32),Me=te>>>0,ce.write_shift(4,Me),ce.write_shift(4,Fe),Pe+=16383+(be?32768:0),ce.write_shift(2,Pe),ce}function F(W,ee){var J=A(W);return W.l+=ee-14,J}function V(W,ee){var J=Z(W),te=W.read_shift(4);return J[1].v=te>>6,J}function O(W,ee){var J=Z(W),te=W.read_shift(8,"f");return J[1].v=te,J}function $e(W,ee){var J=O(W);return W.l+=ee-10,J}function je(W,ee){return W[W.l+ee-1]==0?W.read_shift(ee,"cstr"):""}function Te(W,ee){var J=W[W.l++];J>ee-1&&(J=ee-1);for(var te="";te.length<J;)te+=String.fromCharCode(W[W.l++]);return te}function Ge(W,ee,J){if(!(!J.qpro||ee<21)){var te=W.read_shift(1);W.l+=17,W.l+=1,W.l+=2;var ce=W.read_shift(ee-21,"cstr");return[te,ce]}}function Se(W,ee){for(var J={},te=W.l+ee;W.l<te;){var ce=W.read_shift(2);if(ce==14e3){for(J[ce]=[0,""],J[ce][0]=W.read_shift(2);W[W.l];)J[ce][1]+=String.fromCharCode(W[W.l]),W.l++;W.l++}}return J}function pe(W,ee){var J=ye(5+W.length);J.write_shift(2,14e3),J.write_shift(2,ee);for(var te=0;te<W.length;++te){var ce=W.charCodeAt(te);J[J.l++]=ce>127?95:ce}return J[J.l++]=0,J}var Y={0:{n:"BOF",f:m4},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:u},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:v},14:{n:"NUMBER",f:S},15:{n:"LABEL",f:g},16:{n:"FORMULA",f:T},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:g},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:je},222:{n:"SHEETNAMELP",f:Te},65535:{n:""}},se={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:Q},23:{n:"NUMBER17",f:A},24:{n:"NUMBER18",f:I},25:{n:"FORMULA19",f:F},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Se},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:V},38:{n:"??"},39:{n:"NUMBER27",f:O},40:{n:"FORMULA28",f:$e},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:je},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Ge},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:s,to_workbook:e}})(),TF=/^\s|\s$|[\t\n\r]/;function w4(r,e){if(!e.bookSST)return"";var t=[$r];t[t.length]=Le("sst",null,{xmlns:Dc[0],count:r.Count,uniqueCount:r.Unique});for(var n=0;n!=r.length;++n)if(r[n]!=null){var s=r[n],a="<si>";s.r?a+=s.r:(a+="<t",s.t||(s.t=""),s.t.match(TF)&&(a+=' xml:space="preserve"'),a+=">"+Xt(s.t)+"</t>"),a+="</si>",t[t.length]=a}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}function SF(r){return[r.read_shift(4),r.read_shift(4)]}function NF(r,e){return e||(e=ye(8)),e.write_shift(4,r.Count),e.write_shift(4,r.Unique),e}var CF=xO;function AF(r){var e=as();Ee(e,159,NF(r));for(var t=0;t<r.length;++t)Ee(e,19,CF(r[t]));return Ee(e,160),e.end()}function IF(r){for(var e=[],t=r.split(""),n=0;n<t.length;++n)e[n]=t[n].charCodeAt(0);return e}function _4(r){var e=0,t,n=IF(r),s=n.length+1,a,l,u,h,f;for(t=sl(s),t[0]=n.length,a=1;a!=s;++a)t[a]=n[a-1];for(a=s-1;a>=0;--a)l=t[a],u=(e&16384)===0?0:1,h=e<<1&32767,f=u|h,e=f^l;return e^52811}var kF=(function(){function r(s,a){switch(a.type){case"base64":return e(xa(s),a);case"binary":return e(s,a);case"buffer":return e(Bt&&Buffer.isBuffer(s)?s.toString("binary"):Ed(s),a);case"array":return e(F0(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){var l=a||{},u=l.dense?[]:{},h=s.match(/\\trowd.*?\\row\b/g);if(!h.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:h.length-1}};return h.forEach(function(g,x){Array.isArray(u)&&(u[x]=[]);for(var v=/\\\w+\b/g,_=0,S,w=-1;S=v.exec(g);){switch(S[0]){case"\\cell":var T=g.slice(_,v.lastIndex-S[0].length);if(T[0]==" "&&(T=T.slice(1)),++w,T.length){var j={v:T,t:"s"};Array.isArray(u)?u[x][w]=j:u[Qt({r:x,c:w})]=j}break}_=v.lastIndex}w>f.e.c&&(f.e.c=w)}),u["!ref"]=zr(f),u}function t(s,a){return fl(r(s,a),a)}function n(s){for(var a=["{\\rtf1\\ansi"],l=mr(s["!ref"]),u,h=Array.isArray(s),f=l.s.r;f<=l.e.r;++f){a.push("\\trowd\\trautofit1");for(var g=l.s.c;g<=l.e.c;++g)a.push("\\cellx"+(g+1));for(a.push("\\pard\\intbl"),g=l.s.c;g<=l.e.c;++g){var x=Qt({r:f,c:g});u=h?(s[f]||[])[g]:s[x],!(!u||u.v==null&&(!u.f||u.F))&&(a.push(" "+(u.w||(va(u),u.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:t,to_sheet:r,from_sheet:n}})();function r2(r){for(var e=0,t=1;e!=3;++e)t=t*256+(r[e]>255?255:r[e]<0?0:r[e]);return t.toString(16).toUpperCase().slice(1)}var RF=6,da=RF;function Qf(r){return Math.floor((r+Math.round(128/da)/256)*da)}function Jf(r){return Math.floor((r-5)/da*100+.5)/100}function Cg(r){return Math.round((r*da+5)/da*256)/256}function iv(r){r.width?(r.wpx=Qf(r.width),r.wch=Jf(r.wpx),r.MDW=da):r.wpx?(r.wch=Jf(r.wpx),r.width=Cg(r.wch),r.MDW=da):typeof r.wch=="number"&&(r.width=Cg(r.wch),r.wpx=Qf(r.width),r.MDW=da),r.customWidth&&delete r.customWidth}var PF=96,E4=PF;function Zf(r){return r*96/E4}function b4(r){return r*E4/96}function jF(r){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var n=t[0];n<=t[1];++n)r[n]!=null&&(e[e.length]=Le("numFmt",null,{numFmtId:n,formatCode:Xt(r[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Le("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function DF(r){var e=[];return e[e.length]=Le("cellXfs",null),r.forEach(function(t){e[e.length]=Le("xf",null,t)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Le("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function T4(r,e){var t=[$r,Le("styleSheet",null,{xmlns:Dc[0],"xmlns:vt":sn.vt})],n;return r.SSF&&(n=jF(r.SSF))!=null&&(t[t.length]=n),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=DF(e.cellXfs))&&(t[t.length]=n),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function OF(r,e){var t=r.read_shift(2),n=Dn(r);return[t,n]}function FF(r,e,t){t||(t=ye(6+4*e.length)),t.write_shift(2,r),on(e,t);var n=t.length>t.l?t.slice(0,t.l):t;return t.l==null&&(t.l=t.length),n}function LF(r,e,t){var n={};n.sz=r.read_shift(2)/20;var s=TO(r);s.fItalic&&(n.italic=1),s.fCondense&&(n.condense=1),s.fExtend&&(n.extend=1),s.fShadow&&(n.shadow=1),s.fOutline&&(n.outline=1),s.fStrikeout&&(n.strike=1);var a=r.read_shift(2);switch(a===700&&(n.bold=1),r.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var l=r.read_shift(1);l!=0&&(n.underline=l);var u=r.read_shift(1);u>0&&(n.family=u);var h=r.read_shift(1);switch(h>0&&(n.charset=h),r.l++,n.color=bO(r),r.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Dn(r),n}function MF(r,e){e||(e=ye(153)),e.write_shift(2,r.sz*20),SO(r,e),e.write_shift(2,r.bold?700:400);var t=0;r.vertAlign=="superscript"?t=1:r.vertAlign=="subscript"&&(t=2),e.write_shift(2,t),e.write_shift(1,r.underline||0),e.write_shift(1,r.family||0),e.write_shift(1,r.charset||0),e.write_shift(1,0),Yf(r.color,e);var n=0;return n=2,e.write_shift(1,n),on(r.name,e),e.length>e.l?e.slice(0,e.l):e}var UF=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Up,VF=Di;function n2(r,e){e||(e=ye(84)),Up||(Up=qx(UF));var t=Up[r.patternType];t==null&&(t=40),e.write_shift(4,t);var n=0;if(t!=40)for(Yf({auto:1},e),Yf({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function BF(r,e){var t=r.l+e,n=r.read_shift(2),s=r.read_shift(2);return r.l=t,{ixfe:n,numFmtId:s}}function S4(r,e,t){t||(t=ye(16)),t.write_shift(2,e||0),t.write_shift(2,r.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);var n=0;return t.write_shift(1,n),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function xu(r,e){return e||(e=ye(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var zF=Di;function $F(r,e){return e||(e=ye(51)),e.write_shift(1,0),xu(null,e),xu(null,e),xu(null,e),xu(null,e),xu(null,e),e.length>e.l?e.slice(0,e.l):e}function WF(r,e){return e||(e=ye(52)),e.write_shift(4,r.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),Kf(r.name||"",e),e.length>e.l?e.slice(0,e.l):e}function HF(r,e,t){var n=ye(2052);return n.write_shift(4,r),Kf(e,n),Kf(t,n),n.length>n.l?n.slice(0,n.l):n}function GF(r,e){if(e){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)e[s]!=null&&++t}),t!=0&&(Ee(r,615,hi(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)e[s]!=null&&Ee(r,44,FF(s,e[s]))}),Ee(r,616))}}function qF(r){var e=1;Ee(r,611,hi(e)),Ee(r,43,MF({sz:12,color:{theme:1},name:"Calibri",family:2})),Ee(r,612)}function KF(r){var e=2;Ee(r,603,hi(e)),Ee(r,45,n2({patternType:"none"})),Ee(r,45,n2({patternType:"gray125"})),Ee(r,604)}function YF(r){var e=1;Ee(r,613,hi(e)),Ee(r,46,$F()),Ee(r,614)}function XF(r){var e=1;Ee(r,626,hi(e)),Ee(r,47,S4({numFmtId:0},65535)),Ee(r,627)}function QF(r,e){Ee(r,617,hi(e.length)),e.forEach(function(t){Ee(r,47,S4(t,0))}),Ee(r,618)}function JF(r){var e=1;Ee(r,619,hi(e)),Ee(r,48,WF({xfId:0,name:"Normal"})),Ee(r,620)}function ZF(r){var e=0;Ee(r,505,hi(e)),Ee(r,506)}function eL(r){var e=0;Ee(r,508,HF(e,"TableStyleMedium9","PivotStyleMedium4")),Ee(r,509)}function tL(r,e){var t=as();return Ee(t,278),GF(t,r.SSF),qF(t),KF(t),YF(t),XF(t),QF(t,e.cellXfs),JF(t),ZF(t),eL(t),Ee(t,279),t.end()}function N4(r,e){if(e&&e.themeXLSX)return e.themeXLSX;if(r&&typeof r.raw=="string")return r.raw;var t=[$r];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function rL(r,e){return{flags:r.read_shift(4),version:r.read_shift(4),name:Dn(r)}}function nL(r){var e=ye(12+2*r.name.length);return e.write_shift(4,r.flags),e.write_shift(4,r.version),on(r.name,e),e.slice(0,e.l)}function sL(r){for(var e=[],t=r.read_shift(4);t-- >0;)e.push([r.read_shift(4),r.read_shift(4)]);return e}function iL(r){var e=ye(4+8*r.length);e.write_shift(4,r.length);for(var t=0;t<r.length;++t)e.write_shift(4,r[t][0]),e.write_shift(4,r[t][1]);return e}function aL(r,e){var t=ye(8+2*e.length);return t.write_shift(4,r),on(e,t),t.slice(0,t.l)}function oL(r){return r.l+=4,r.read_shift(4)!=0}function lL(r,e){var t=ye(8);return t.write_shift(4,r),t.write_shift(4,1),t}function cL(){var r=as();return Ee(r,332),Ee(r,334,hi(1)),Ee(r,335,nL({name:"XLDAPR",version:12e4,flags:3496657072})),Ee(r,336),Ee(r,339,aL(1,"XLDAPR")),Ee(r,52),Ee(r,35,hi(514)),Ee(r,4096,hi(0)),Ee(r,4097,Ms(1)),Ee(r,36),Ee(r,53),Ee(r,340),Ee(r,337,lL(1)),Ee(r,51,iL([[1,0]])),Ee(r,338),Ee(r,333),r.end()}function C4(){var r=[$r];return r.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),r.join("")}function uL(r){var e={};e.i=r.read_shift(4);var t={};t.r=r.read_shift(4),t.c=r.read_shift(4),e.r=Qt(t);var n=r.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var oc=1024;function A4(r,e){for(var t=[21600,21600],n=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),s=[Le("xml",null,{"xmlns:v":ws.v,"xmlns:o":ws.o,"xmlns:x":ws.x,"xmlns:mv":ws.mv}).replace(/\/>/,">"),Le("o:shapelayout",Le("o:idmap",null,{"v:ext":"edit",data:r}),{"v:ext":"edit"}),Le("v:shapetype",[Le("v:stroke",null,{joinstyle:"miter"}),Le("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:n})];oc<r*1e3;)oc+=1e3;return e.forEach(function(a){var l=an(a[0]),u={color2:"#BEFF82",type:"gradient"};u.type=="gradient"&&(u.angle="-180");var h=u.type=="gradient"?Le("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,f=Le("v:fill",h,u),g={on:"t",obscured:"t"};++oc,s=s.concat(["<v:shape"+ed({id:"_x0000_s"+oc,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",f,Le("v:shadow",null,g),Le("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",vn("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),vn("x:AutoFill","False"),vn("x:Row",String(l.r)),vn("x:Column",String(l.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function I4(r){var e=[$r,Le("comments",null,{xmlns:Dc[0]})],t=[];return e.push("<authors>"),r.forEach(function(n){n[1].forEach(function(s){var a=Xt(s.a);t.indexOf(a)==-1&&(t.push(a),e.push("<author>"+a+"</author>")),s.T&&s.ID&&t.indexOf("tc="+s.ID)==-1&&(t.push("tc="+s.ID),e.push("<author>tc="+s.ID+"</author>"))})}),t.length==0&&(t.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),r.forEach(function(n){var s=0,a=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?s=t.indexOf("tc="+n[1][0].ID):n[1].forEach(function(h){h.a&&(s=t.indexOf(Xt(h.a))),a.push(h.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+s+'"><text>'),a.length<=1)e.push(vn("t",Xt(a[0]||"")));else{for(var l=`Comment:
    `+a[0]+`
`,u=1;u<a.length;++u)l+=`Reply:
    `+a[u]+`
`;e.push(vn("t",Xt(l)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function dL(r,e,t){var n=[$r,Le("ThreadedComments",null,{xmlns:sn.TCMNT}).replace(/[\/]>/,">")];return r.forEach(function(s){var a="";(s[1]||[]).forEach(function(l,u){if(!l.T){delete l.ID;return}l.a&&e.indexOf(l.a)==-1&&e.push(l.a);var h={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};u==0?a=h.id:h.parentId=a,l.ID=h.id,l.a&&(h.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(l.a)).slice(-12)+"}"),n.push(Le("threadedComment",vn("text",l.t||""),h))})}),n.push("</ThreadedComments>"),n.join("")}function hL(r){var e=[$r,Le("personList",null,{xmlns:sn.TCMNT,"xmlns:x":Dc[0]}).replace(/[\/]>/,">")];return r.forEach(function(t,n){e.push(Le("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:t,providerId:"None"}))}),e.push("</personList>"),e.join("")}function fL(r){var e={};e.iauthor=r.read_shift(4);var t=xl(r);return e.rfx=t.s,e.ref=Qt(t.s),r.l+=16,e}function mL(r,e){return e==null&&(e=ye(36)),e.write_shift(4,r[1].iauthor),Fc(r[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var pL=Dn;function gL(r){return on(r.slice(0,54))}function xL(r){var e=as(),t=[];return Ee(e,628),Ee(e,630),r.forEach(function(n){n[1].forEach(function(s){t.indexOf(s.a)>-1||(t.push(s.a.slice(0,54)),Ee(e,632,gL(s.a)))})}),Ee(e,631),Ee(e,633),r.forEach(function(n){n[1].forEach(function(s){s.iauthor=t.indexOf(s.a);var a={s:an(n[0]),e:an(n[0])};Ee(e,635,mL([a,s])),s.t&&s.t.length>0&&Ee(e,637,yO(s)),Ee(e,636),delete s.iauthor})}),Ee(e,634),Ee(e,629),e.end()}function vL(r,e){e.FullPaths.forEach(function(t,n){if(n!=0){var s=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");s.slice(-1)!=="/"&&Jt.utils.cfb_add(r,s,e.FileIndex[n].content)}})}var k4=["xlsb","xlsm","xlam","biff8","xla"],yL=(function(){var r=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(n,s,a,l){var u=!1,h=!1;a.length==0?h=!0:a.charAt(0)=="["&&(h=!0,a=a.slice(1,-1)),l.length==0?u=!0:l.charAt(0)=="["&&(u=!0,l=l.slice(1,-1));var f=a.length>0?parseInt(a,10)|0:0,g=l.length>0?parseInt(l,10)|0:0;return u?g+=e.c:--g,h?f+=e.r:--f,s+(u?"":"$")+jn(g)+(h?"":"$")+wn(f)}return function(s,a){return e=a,s.replace(r,t)}})(),av=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,ov=(function(){return function(e,t){return e.replace(av,function(n,s,a,l,u,h){var f=ev(l)-(a?0:t.c),g=Zx(h)-(u?0:t.r),x=g==0?"":u?g+1:"["+g+"]",v=f==0?"":a?f+1:"["+f+"]";return s+"R"+x+"C"+v})}})();function wL(r,e){return r.replace(av,function(t,n,s,a,l,u){return n+(s=="$"?s+a:jn(ev(a)+e.c))+(l=="$"?l+u:wn(Zx(u)+e.r))})}function _L(r){return r.length!=1}function Mr(r){r.l+=1}function xo(r,e){var t=r.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function R4(r,e,t){var n=2;if(t){if(t.biff>=2&&t.biff<=5)return P4(r);t.biff==12&&(n=4)}var s=r.read_shift(n),a=r.read_shift(n),l=xo(r),u=xo(r);return{s:{r:s,c:l[0],cRel:l[1],rRel:l[2]},e:{r:a,c:u[0],cRel:u[1],rRel:u[2]}}}function P4(r){var e=xo(r),t=xo(r),n=r.read_shift(1),s=r.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:t[0],c:s,cRel:t[1],rRel:t[2]}}}function EL(r,e,t){if(t.biff<8)return P4(r);var n=r.read_shift(t.biff==12?4:2),s=r.read_shift(t.biff==12?4:2),a=xo(r),l=xo(r);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:l[0],cRel:l[1],rRel:l[2]}}}function j4(r,e,t){if(t&&t.biff>=2&&t.biff<=5)return bL(r);var n=r.read_shift(t&&t.biff==12?4:2),s=xo(r);return{r:n,c:s[0],cRel:s[1],rRel:s[2]}}function bL(r){var e=xo(r),t=r.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function TL(r){var e=r.read_shift(2),t=r.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function SL(r,e,t){var n=t&&t.biff?t.biff:8;if(n>=2&&n<=5)return NL(r);var s=r.read_shift(n>=12?4:2),a=r.read_shift(2),l=(a&16384)>>14,u=(a&32768)>>15;if(a&=16383,u==1)for(;s>524287;)s-=1048576;if(l==1)for(;a>8191;)a=a-16384;return{r:s,c:a,cRel:l,rRel:u}}function NL(r){var e=r.read_shift(2),t=r.read_shift(1),n=(e&32768)>>15,s=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),s==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:s,rRel:n}}function CL(r,e,t){var n=(r[r.l++]&96)>>5,s=R4(r,t.biff>=2&&t.biff<=5?6:8,t);return[n,s]}function AL(r,e,t){var n=(r[r.l++]&96)>>5,s=r.read_shift(2,"i"),a=8;if(t)switch(t.biff){case 5:r.l+=12,a=6;break;case 12:a=12;break}var l=R4(r,a,t);return[n,s,l]}function IL(r,e,t){var n=(r[r.l++]&96)>>5;return r.l+=t&&t.biff>8?12:t.biff<8?6:8,[n]}function kL(r,e,t){var n=(r[r.l++]&96)>>5,s=r.read_shift(2),a=8;if(t)switch(t.biff){case 5:r.l+=12,a=6;break;case 12:a=12;break}return r.l+=a,[n,s]}function RL(r,e,t){var n=(r[r.l++]&96)>>5,s=EL(r,e-1,t);return[n,s]}function PL(r,e,t){var n=(r[r.l++]&96)>>5;return r.l+=t.biff==2?6:t.biff==12?14:7,[n]}function s2(r){var e=r[r.l+1]&1,t=1;return r.l+=4,[e,t]}function jL(r,e,t){r.l+=2;for(var n=r.read_shift(t&&t.biff==2?1:2),s=[],a=0;a<=n;++a)s.push(r.read_shift(t&&t.biff==2?1:2));return s}function DL(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(t&&t.biff==2?1:2)]}function OL(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(t&&t.biff==2?1:2)]}function FL(r){var e=r[r.l+1]&255?1:0;return r.l+=2,[e,r.read_shift(2)]}function LL(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=t&&t.biff==2?3:4,[n]}function D4(r){var e=r.read_shift(1),t=r.read_shift(1);return[e,t]}function ML(r){return r.read_shift(2),D4(r)}function UL(r){return r.read_shift(2),D4(r)}function VL(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var s=j4(r,0,t);return[n,s]}function BL(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var s=SL(r,0,t);return[n,s]}function zL(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var s=r.read_shift(2);t&&t.biff==5&&(r.l+=12);var a=j4(r,0,t);return[n,s,a]}function $L(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var s=r.read_shift(t&&t.biff<=3?1:2);return[$8[s],L4[s],n]}function WL(r,e,t){var n=r[r.l++],s=r.read_shift(1),a=t&&t.biff<=3?[n==88?-1:0,r.read_shift(1)]:HL(r);return[s,(a[0]===0?L4:z8)[a[1]]]}function HL(r){return[r[r.l+1]>>7,r.read_shift(2)&32767]}function GL(r,e,t){r.l+=t&&t.biff==2?3:4}function qL(r,e,t){if(r.l++,t&&t.biff==12)return[r.read_shift(4,"i"),0];var n=r.read_shift(2),s=r.read_shift(t&&t.biff==2?1:2);return[n,s]}function KL(r){return r.l++,Sd[r.read_shift(1)]}function YL(r){return r.l++,r.read_shift(2)}function XL(r){return r.l++,r.read_shift(1)!==0}function QL(r){return r.l++,Lc(r)}function JL(r,e,t){return r.l++,g4(r,e-1,t)}function ZL(r,e){var t=[r.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=zO(r,1)?"TRUE":"FALSE",e!=12&&(r.l+=7);break;case 37:case 16:t[1]=Sd[r[r.l]],r.l+=e==12?4:8;break;case 0:r.l+=8;break;case 1:t[1]=Lc(r);break;case 2:t[1]=GO(r,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function e8(r,e,t){for(var n=r.read_shift(t.biff==12?4:2),s=[],a=0;a!=n;++a)s.push((t.biff==12?xl:YO)(r));return s}function t8(r,e,t){var n=0,s=0;t.biff==12?(n=r.read_shift(4),s=r.read_shift(4)):(s=1+r.read_shift(1),n=1+r.read_shift(2)),t.biff>=2&&t.biff<8&&(--n,--s==0&&(s=256));for(var a=0,l=[];a!=n&&(l[a]=[]);++a)for(var u=0;u!=s;++u)l[a][u]=ZL(r,t.biff);return l}function r8(r,e,t){var n=r.read_shift(1)>>>5&3,s=!t||t.biff>=8?4:2,a=r.read_shift(s);switch(t.biff){case 2:r.l+=5;break;case 3:case 4:r.l+=8;break;case 5:r.l+=12;break}return[n,0,a]}function n8(r,e,t){if(t.biff==5)return s8(r);var n=r.read_shift(1)>>>5&3,s=r.read_shift(2),a=r.read_shift(4);return[n,s,a]}function s8(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2,"i");r.l+=8;var n=r.read_shift(2);return r.l+=12,[e,t,n]}function i8(r,e,t){var n=r.read_shift(1)>>>5&3;r.l+=t&&t.biff==2?3:4;var s=r.read_shift(t&&t.biff==2?1:2);return[n,s]}function a8(r,e,t){var n=r.read_shift(1)>>>5&3,s=r.read_shift(t&&t.biff==2?1:2);return[n,s]}function o8(r,e,t){var n=r.read_shift(1)>>>5&3;return r.l+=4,t.biff<8&&r.l--,t.biff==12&&(r.l+=2),[n]}function l8(r,e,t){var n=(r[r.l++]&96)>>5,s=r.read_shift(2),a=4;if(t)switch(t.biff){case 5:a=15;break;case 12:a=6;break}return r.l+=a,[n,s]}var c8=Di,u8=Di,d8=Di;function Nd(r,e,t){return r.l+=2,[TL(r)]}function lv(r){return r.l+=6,[]}var h8=Nd,f8=lv,m8=lv,p8=Nd;function O4(r){return r.l+=2,[m4(r),r.read_shift(2)&1]}var g8=Nd,x8=O4,v8=lv,y8=Nd,w8=Nd,_8=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function E8(r){r.l+=2;var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(4),s=r.read_shift(2),a=r.read_shift(2),l=_8[t>>2&31];return{ixti:e,coltype:t&3,rt:l,idx:n,c:s,C:a}}function b8(r){return r.l+=2,[r.read_shift(4)]}function T8(r,e,t){return r.l+=5,r.l+=2,r.l+=t.biff==2?1:4,["PTGSHEET"]}function S8(r,e,t){return r.l+=t.biff==2?4:5,["PTGENDSHEET"]}function N8(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function C8(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function A8(r){return r.l+=4,[0,0]}var i2={1:{n:"PtgExp",f:qL},2:{n:"PtgTbl",f:d8},3:{n:"PtgAdd",f:Mr},4:{n:"PtgSub",f:Mr},5:{n:"PtgMul",f:Mr},6:{n:"PtgDiv",f:Mr},7:{n:"PtgPower",f:Mr},8:{n:"PtgConcat",f:Mr},9:{n:"PtgLt",f:Mr},10:{n:"PtgLe",f:Mr},11:{n:"PtgEq",f:Mr},12:{n:"PtgGe",f:Mr},13:{n:"PtgGt",f:Mr},14:{n:"PtgNe",f:Mr},15:{n:"PtgIsect",f:Mr},16:{n:"PtgUnion",f:Mr},17:{n:"PtgRange",f:Mr},18:{n:"PtgUplus",f:Mr},19:{n:"PtgUminus",f:Mr},20:{n:"PtgPercent",f:Mr},21:{n:"PtgParen",f:Mr},22:{n:"PtgMissArg",f:Mr},23:{n:"PtgStr",f:JL},26:{n:"PtgSheet",f:T8},27:{n:"PtgEndSheet",f:S8},28:{n:"PtgErr",f:KL},29:{n:"PtgBool",f:XL},30:{n:"PtgInt",f:YL},31:{n:"PtgNum",f:QL},32:{n:"PtgArray",f:PL},33:{n:"PtgFunc",f:$L},34:{n:"PtgFuncVar",f:WL},35:{n:"PtgName",f:r8},36:{n:"PtgRef",f:VL},37:{n:"PtgArea",f:CL},38:{n:"PtgMemArea",f:i8},39:{n:"PtgMemErr",f:c8},40:{n:"PtgMemNoMem",f:u8},41:{n:"PtgMemFunc",f:a8},42:{n:"PtgRefErr",f:o8},43:{n:"PtgAreaErr",f:IL},44:{n:"PtgRefN",f:BL},45:{n:"PtgAreaN",f:RL},46:{n:"PtgMemAreaN",f:N8},47:{n:"PtgMemNoMemN",f:C8},57:{n:"PtgNameX",f:n8},58:{n:"PtgRef3d",f:zL},59:{n:"PtgArea3d",f:AL},60:{n:"PtgRefErr3d",f:l8},61:{n:"PtgAreaErr3d",f:kL},255:{}},I8={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},k8={1:{n:"PtgElfLel",f:O4},2:{n:"PtgElfRw",f:y8},3:{n:"PtgElfCol",f:h8},6:{n:"PtgElfRwV",f:w8},7:{n:"PtgElfColV",f:p8},10:{n:"PtgElfRadical",f:g8},11:{n:"PtgElfRadicalS",f:v8},13:{n:"PtgElfColS",f:f8},15:{n:"PtgElfColSV",f:m8},16:{n:"PtgElfRadicalLel",f:x8},25:{n:"PtgList",f:E8},29:{n:"PtgSxName",f:b8},255:{}},R8={0:{n:"PtgAttrNoop",f:A8},1:{n:"PtgAttrSemi",f:LL},2:{n:"PtgAttrIf",f:OL},4:{n:"PtgAttrChoose",f:jL},8:{n:"PtgAttrGoto",f:DL},16:{n:"PtgAttrSum",f:GL},32:{n:"PtgAttrBaxcel",f:s2},33:{n:"PtgAttrBaxcel",f:s2},64:{n:"PtgAttrSpace",f:ML},65:{n:"PtgAttrSpaceSemi",f:UL},128:{n:"PtgAttrIfError",f:FL},255:{}};function P8(r,e,t,n){if(n.biff<8)return Di(r,e);for(var s=r.l+e,a=[],l=0;l!==t.length;++l)switch(t[l][0]){case"PtgArray":t[l][1]=t8(r,0,n),a.push(t[l][1]);break;case"PtgMemArea":t[l][2]=e8(r,t[l][1],n),a.push(t[l][2]);break;case"PtgExp":n&&n.biff==12&&(t[l][1][1]=r.read_shift(4),a.push(t[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[l][0]}return e=s-r.l,e!==0&&a.push(Di(r,e)),a}function j8(r,e,t){for(var n=r.l+e,s,a,l=[];n!=r.l;)e=n-r.l,a=r[r.l],s=i2[a]||i2[I8[a]],(a===24||a===25)&&(s=(a===24?k8:R8)[r[r.l+1]]),!s||!s.f?Di(r,e):l.push([s.n,s.f(r,e,t)]);return l}function D8(r){for(var e=[],t=0;t<r.length;++t){for(var n=r[t],s=[],a=0;a<n.length;++a){var l=n[a];if(l)switch(l[0]){case 2:s.push('"'+l[1].replace(/"/g,'""')+'"');break;default:s.push(l[1])}else s.push("")}e.push(s.join(","))}return e.join(";")}var O8={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function F8(r,e){if(!r&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(r)?"'"+r+"'":r}function F4(r,e,t){if(!r)return"SH33TJSERR0";if(t.biff>8&&(!r.XTI||!r.XTI[e]))return r.SheetNames[e];if(!r.XTI)return"SH33TJSERR6";var n=r.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":r.XTI[e-1];if(!n)return"SH33TJSERR1";var s="";if(t.biff>8)switch(r[n[0]][0]){case 357:return s=n[1]==-1?"#REF":r.SheetNames[n[1]],n[1]==n[2]?s:s+":"+r.SheetNames[n[2]];case 358:return t.SID!=null?r.SheetNames[t.SID]:"SH33TJSSAME"+r[n[0]][0];case 355:default:return"SH33TJSSRC"+r[n[0]][0]}switch(r[n[0]][0][0]){case 1025:return s=n[1]==-1?"#REF":r.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?s:s+":"+r.SheetNames[n[2]];case 14849:return r[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return r[n[0]][0][3]?(s=n[1]==-1?"#REF":r[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?s:s+":"+r[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function a2(r,e,t){var n=F4(r,e,t);return n=="#REF"?n:F8(n,t)}function Cc(r,e,t,n,s){var a=s&&s.biff||8,l={s:{c:0,r:0}},u=[],h,f,g,x=0,v=0,_,S="";if(!r[0]||!r[0][0])return"";for(var w=-1,T="",j=0,D=r[0].length;j<D;++j){var L=r[0][j];switch(L[0]){case"PtgUminus":u.push("-"+u.pop());break;case"PtgUplus":u.push("+"+u.pop());break;case"PtgPercent":u.push(u.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(h=u.pop(),f=u.pop(),w>=0){switch(r[0][w][1][0]){case 0:T=Cr(" ",r[0][w][1][1]);break;case 1:T=Cr("\r",r[0][w][1][1]);break;default:if(T="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][w][1][0])}f=f+T,w=-1}u.push(f+O8[L[0]]+h);break;case"PtgIsect":h=u.pop(),f=u.pop(),u.push(f+" "+h);break;case"PtgUnion":h=u.pop(),f=u.pop(),u.push(f+","+h);break;case"PtgRange":h=u.pop(),f=u.pop(),u.push(f+":"+h);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":g=Ou(L[1][1],l,s),u.push(Fu(g,a));break;case"PtgRefN":g=t?Ou(L[1][1],t,s):L[1][1],u.push(Fu(g,a));break;case"PtgRef3d":x=L[1][1],g=Ou(L[1][2],l,s),S=a2(n,x,s),u.push(S+"!"+Fu(g,a));break;case"PtgFunc":case"PtgFuncVar":var M=L[1][0],Z=L[1][1];M||(M=0),M&=127;var Q=M==0?[]:u.slice(-M);u.length-=M,Z==="User"&&(Z=Q.shift()),u.push(Z+"("+Q.join(",")+")");break;case"PtgBool":u.push(L[1]?"TRUE":"FALSE");break;case"PtgInt":u.push(L[1]);break;case"PtgNum":u.push(String(L[1]));break;case"PtgStr":u.push('"'+L[1].replace(/"/g,'""')+'"');break;case"PtgErr":u.push(L[1]);break;case"PtgAreaN":_=W_(L[1][1],t?{s:t}:l,s),u.push(Lp(_,s));break;case"PtgArea":_=W_(L[1][1],l,s),u.push(Lp(_,s));break;case"PtgArea3d":x=L[1][1],_=L[1][2],S=a2(n,x,s),u.push(S+"!"+Lp(_,s));break;case"PtgAttrSum":u.push("SUM("+u.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":v=L[1][2];var N=(n.names||[])[v-1]||(n[0]||[])[v],I=N?N.Name:"SH33TJSNAME"+String(v);I&&I.slice(0,6)=="_xlfn."&&!s.xlfn&&(I=I.slice(6)),u.push(I);break;case"PtgNameX":var A=L[1][1];v=L[1][2];var P;if(s.biff<=5)A<0&&(A=-A),n[A]&&(P=n[A][v]);else{var F="";if(((n[A]||[])[0]||[])[0]==14849||(((n[A]||[])[0]||[])[0]==1025?n[A][v]&&n[A][v].itab>0&&(F=n.SheetNames[n[A][v].itab-1]+"!"):F=n.SheetNames[v-1]+"!"),n[A]&&n[A][v])F+=n[A][v].Name;else if(n[0]&&n[0][v])F+=n[0][v].Name;else{var V=(F4(n,A,s)||"").split(";;");V[v-1]?F=V[v-1]:F+="SH33TJSERRX"}u.push(F);break}P||(P={Name:"SH33TJSERRY"}),u.push(P.Name);break;case"PtgParen":var O="(",$e=")";if(w>=0){switch(T="",r[0][w][1][0]){case 2:O=Cr(" ",r[0][w][1][1])+O;break;case 3:O=Cr("\r",r[0][w][1][1])+O;break;case 4:$e=Cr(" ",r[0][w][1][1])+$e;break;case 5:$e=Cr("\r",r[0][w][1][1])+$e;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][w][1][0])}w=-1}u.push(O+u.pop()+$e);break;case"PtgRefErr":u.push("#REF!");break;case"PtgRefErr3d":u.push("#REF!");break;case"PtgExp":g={c:L[1][1],r:L[1][0]};var je={c:t.c,r:t.r};if(n.sharedf[Qt(g)]){var Te=n.sharedf[Qt(g)];u.push(Cc(Te,l,je,n,s))}else{var Ge=!1;for(h=0;h!=n.arrayf.length;++h)if(f=n.arrayf[h],!(g.c<f[0].s.c||g.c>f[0].e.c)&&!(g.r<f[0].s.r||g.r>f[0].e.r)){u.push(Cc(f[1],l,je,n,s)),Ge=!0;break}Ge||u.push(L[1])}break;case"PtgArray":u.push("{"+D8(L[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":w=j;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":u.push("");break;case"PtgAreaErr":u.push("#REF!");break;case"PtgAreaErr3d":u.push("#REF!");break;case"PtgList":u.push("Table"+L[1].idx+"[#"+L[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(L));default:throw new Error("Unrecognized Formula Token: "+String(L))}var Se=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&w>=0&&Se.indexOf(r[0][j][0])==-1){L=r[0][w];var pe=!0;switch(L[1][0]){case 4:pe=!1;case 0:T=Cr(" ",L[1][1]);break;case 5:pe=!1;case 1:T=Cr("\r",L[1][1]);break;default:if(T="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+L[1][0])}u.push((pe?T:"")+u.pop()+(pe?"":T)),w=-1}}if(u.length>1&&s.WTF)throw new Error("bad formula stack");return u[0]}function L8(r){if(r==null){var e=ye(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof r=="number")return il(r);return il(0)}function M8(r,e,t,n,s){var a=al(e,t,s),l=L8(r.v),u=ye(6),h=33;u.write_shift(2,h),u.write_shift(4,0);for(var f=ye(r.bf.length),g=0;g<r.bf.length;++g)f[g]=r.bf[g];var x=xn([a,l,u,f]);return x}function L0(r,e,t){var n=r.read_shift(4),s=j8(r,n,t),a=r.read_shift(4),l=a>0?P8(r,a,s,t):null;return[s,l]}var U8=L0,M0=L0,V8=L0,B8=L0,z8={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},L4={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},$8={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function W8(r){var e="of:="+r.replace(av,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function H8(r){return r.replace(/\./,"!")}var Lu=typeof Map<"u";function cv(r,e,t){var n=0,s=r.length;if(t){if(Lu?t.has(e):Object.prototype.hasOwnProperty.call(t,e)){for(var a=Lu?t.get(e):t[e];n<a.length;++n)if(r[a[n]].t===e)return r.Count++,a[n]}}else for(;n<s;++n)if(r[n].t===e)return r.Count++,n;return r[s]={t:e},r.Count++,r.Unique++,t&&(Lu?(t.has(e)||t.set(e,[]),t.get(e).push(s)):(Object.prototype.hasOwnProperty.call(t,e)||(t[e]=[]),t[e].push(s))),s}function U0(r,e){var t={min:r+1,max:r+1},n=-1;return e.MDW&&(da=e.MDW),e.width!=null?t.customWidth=1:e.wpx!=null?n=Jf(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(t.width=Cg(n),t.customWidth=1):e.width!=null&&(t.width=e.width),e.hidden&&(t.hidden=!0),e.level!=null&&(t.outlineLevel=t.level=e.level),t}function M4(r,e){if(r){var t=[.7,.7,.75,.75,.3,.3];r.left==null&&(r.left=t[0]),r.right==null&&(r.right=t[1]),r.top==null&&(r.top=t[2]),r.bottom==null&&(r.bottom=t[3]),r.header==null&&(r.header=t[4]),r.footer==null&&(r.footer=t[5])}}function Eo(r,e,t){var n=t.revssf[e.z!=null?e.z:"General"],s=60,a=r.length;if(n==null&&t.ssf){for(;s<392;++s)if(t.ssf[s]==null){jT(e.z,s),t.ssf[s]=e.z,t.revssf[e.z]=n=s;break}}for(s=0;s!=a;++s)if(r[s].numFmtId===n)return s;return r[a]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function G8(r,e,t){if(r&&r["!ref"]){var n=mr(r["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+t+"): "+r["!ref"])}}function q8(r){if(r.length===0)return"";for(var e='<mergeCells count="'+r.length+'">',t=0;t!=r.length;++t)e+='<mergeCell ref="'+zr(r[t])+'"/>';return e+"</mergeCells>"}function K8(r,e,t,n,s){var a=!1,l={},u=null;if(n.bookType!=="xlsx"&&e.vbaraw){var h=e.SheetNames[t];try{e.Workbook&&(h=e.Workbook.Sheets[t].CodeName||h)}catch{}a=!0,l.codeName=Zu(Xt(h))}if(r&&r["!outline"]){var f={summaryBelow:1,summaryRight:1};r["!outline"].above&&(f.summaryBelow=0),r["!outline"].left&&(f.summaryRight=0),u=(u||"")+Le("outlinePr",null,f)}!a&&!u||(s[s.length]=Le("sheetPr",u,l))}var Y8=["objects","scenarios","selectLockedCells","selectUnlockedCells"],X8=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Q8(r){var e={sheet:1};return Y8.forEach(function(t){r[t]!=null&&r[t]&&(e[t]="1")}),X8.forEach(function(t){r[t]!=null&&!r[t]&&(e[t]="0")}),r.password&&(e.password=_4(r.password).toString(16).toUpperCase()),Le("sheetProtection",null,e)}function J8(r){return M4(r),Le("pageMargins",null,r)}function Z8(r,e){for(var t=["<cols>"],n,s=0;s!=e.length;++s)(n=e[s])&&(t[t.length]=Le("col",null,U0(s,n)));return t[t.length]="</cols>",t.join("")}function eM(r,e,t,n){var s=typeof r.ref=="string"?r.ref:zr(r.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var a=t.Workbook.Names,l=Cs(s);l.s.r==l.e.r&&(l.e.r=Cs(e["!ref"]).e.r,s=zr(l));for(var u=0;u<a.length;++u){var h=a[u];if(h.Name=="_xlnm._FilterDatabase"&&h.Sheet==n){h.Ref="'"+t.SheetNames[n]+"'!"+s;break}}return u==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+t.SheetNames[n]+"'!"+s}),Le("autoFilter",null,{ref:s})}function tM(r,e,t,n){var s={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Le("sheetViews",Le("sheetView",null,s),{})}function rM(r,e,t,n){if(r.c&&t["!comments"].push([e,r.c]),r.v===void 0&&typeof r.f!="string"||r.t==="z"&&!r.f)return"";var s="",a=r.t,l=r.v;if(r.t!=="z")switch(r.t){case"b":s=r.v?"1":"0";break;case"n":s=""+r.v;break;case"e":s=Sd[r.v];break;case"d":n&&n.cellDates?s=Hn(r.v,-1).toISOString():(r=ls(r),r.t="n",s=""+(r.v=os(Hn(r.v)))),typeof r.z>"u"&&(r.z=Ar[14]);break;default:s=r.v;break}var u=vn("v",Xt(s)),h={r:e},f=Eo(n.cellXfs,r,n);switch(f!==0&&(h.s=f),r.t){case"n":break;case"d":h.t="d";break;case"b":h.t="b";break;case"e":h.t="e";break;case"z":break;default:if(r.v==null){delete r.t;break}if(r.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){u=vn("v",""+cv(n.Strings,r.v,n.revStrings)),h.t="s";break}h.t="str";break}if(r.t!=a&&(r.t=a,r.v=l),typeof r.f=="string"&&r.f){var g=r.F&&r.F.slice(0,e.length)==e?{t:"array",ref:r.F}:null;u=Le("f",Xt(r.f),g)+(r.v!=null?u:"")}return r.l&&t["!links"].push([e,r.l]),r.D&&(h.cm=1),Le("c",u,h)}function nM(r,e,t,n){var s=[],a=[],l=mr(r["!ref"]),u="",h,f="",g=[],x=0,v=0,_=r["!rows"],S=Array.isArray(r),w={r:f},T,j=-1;for(v=l.s.c;v<=l.e.c;++v)g[v]=jn(v);for(x=l.s.r;x<=l.e.r;++x){for(a=[],f=wn(x),v=l.s.c;v<=l.e.c;++v){h=g[v]+f;var D=S?(r[x]||[])[v]:r[h];D!==void 0&&(u=rM(D,h,r,e))!=null&&a.push(u)}(a.length>0||_&&_[x])&&(w={r:f},_&&_[x]&&(T=_[x],T.hidden&&(w.hidden=1),j=-1,T.hpx?j=Zf(T.hpx):T.hpt&&(j=T.hpt),j>-1&&(w.ht=j,w.customHeight=1),T.level&&(w.outlineLevel=T.level)),s[s.length]=Le("row",a.join(""),w))}if(_)for(;x<_.length;++x)_&&_[x]&&(w={r:x+1},T=_[x],T.hidden&&(w.hidden=1),j=-1,T.hpx?j=Zf(T.hpx):T.hpt&&(j=T.hpt),j>-1&&(w.ht=j,w.customHeight=1),T.level&&(w.outlineLevel=T.level),s[s.length]=Le("row","",w));return s.join("")}function U4(r,e,t,n){var s=[$r,Le("worksheet",null,{xmlns:Dc[0],"xmlns:r":sn.r})],a=t.SheetNames[r],l=0,u="",h=t.Sheets[a];h==null&&(h={});var f=h["!ref"]||"A1",g=mr(f);if(g.e.c>16383||g.e.r>1048575){if(e.WTF)throw new Error("Range "+f+" exceeds format limit A1:XFD1048576");g.e.c=Math.min(g.e.c,16383),g.e.r=Math.min(g.e.c,1048575),f=zr(g)}n||(n={}),h["!comments"]=[];var x=[];K8(h,t,r,e,s),s[s.length]=Le("dimension",null,{ref:f}),s[s.length]=tM(h,e,r,t),e.sheetFormat&&(s[s.length]=Le("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),h["!cols"]!=null&&h["!cols"].length>0&&(s[s.length]=Z8(h,h["!cols"])),s[l=s.length]="<sheetData/>",h["!links"]=[],h["!ref"]!=null&&(u=nM(h,e),u.length>0&&(s[s.length]=u)),s.length>l+1&&(s[s.length]="</sheetData>",s[l]=s[l].replace("/>",">")),h["!protect"]&&(s[s.length]=Q8(h["!protect"])),h["!autofilter"]!=null&&(s[s.length]=eM(h["!autofilter"],h,t,r)),h["!merges"]!=null&&h["!merges"].length>0&&(s[s.length]=q8(h["!merges"]));var v=-1,_,S=-1;return h["!links"].length>0&&(s[s.length]="<hyperlinks>",h["!links"].forEach(function(w){w[1].Target&&(_={ref:w[0]},w[1].Target.charAt(0)!="#"&&(S=Yt(n,-1,Xt(w[1].Target).replace(/#.*$/,""),Ut.HLINK),_["r:id"]="rId"+S),(v=w[1].Target.indexOf("#"))>-1&&(_.location=Xt(w[1].Target.slice(v+1))),w[1].Tooltip&&(_.tooltip=Xt(w[1].Tooltip)),s[s.length]=Le("hyperlink",null,_))}),s[s.length]="</hyperlinks>"),delete h["!links"],h["!margins"]!=null&&(s[s.length]=J8(h["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(s[s.length]=vn("ignoredErrors",Le("ignoredError",null,{numberStoredAsText:1,sqref:f}))),x.length>0&&(S=Yt(n,-1,"../drawings/drawing"+(r+1)+".xml",Ut.DRAW),s[s.length]=Le("drawing",null,{"r:id":"rId"+S}),h["!drawing"]=x),h["!comments"].length>0&&(S=Yt(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Ut.VML),s[s.length]=Le("legacyDrawing",null,{"r:id":"rId"+S}),h["!legacy"]=S),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function sM(r,e){var t={},n=r.l+e;t.r=r.read_shift(4),r.l+=4;var s=r.read_shift(2);r.l+=1;var a=r.read_shift(1);return r.l=n,a&7&&(t.level=a&7),a&16&&(t.hidden=!0),a&32&&(t.hpt=s/20),t}function iM(r,e,t){var n=ye(145),s=(t["!rows"]||[])[r]||{};n.write_shift(4,r),n.write_shift(4,0);var a=320;s.hpx?a=Zf(s.hpx)*20:s.hpt&&(a=s.hpt*20),n.write_shift(2,a),n.write_shift(1,0);var l=0;s.level&&(l|=s.level),s.hidden&&(l|=16),(s.hpx||s.hpt)&&(l|=32),n.write_shift(1,l),n.write_shift(1,0);var u=0,h=n.l;n.l+=4;for(var f={r,c:0},g=0;g<16;++g)if(!(e.s.c>g+1<<10||e.e.c<g<<10)){for(var x=-1,v=-1,_=g<<10;_<g+1<<10;++_){f.c=_;var S=Array.isArray(t)?(t[f.r]||[])[f.c]:t[Qt(f)];S&&(x<0&&(x=_),v=_)}x<0||(++u,n.write_shift(4,x),n.write_shift(4,v))}var w=n.l;return n.l=h,n.write_shift(4,u),n.l=w,n.length>n.l?n.slice(0,n.l):n}function aM(r,e,t,n){var s=iM(n,t,e);(s.length>17||(e["!rows"]||[])[n])&&Ee(r,0,s)}var oM=xl,lM=Fc;function cM(){}function uM(r,e){var t={},n=r[r.l];return++r.l,t.above=!(n&64),t.left=!(n&128),r.l+=18,t.name=wO(r),t}function dM(r,e,t){t==null&&(t=ye(84+4*r.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),t.write_shift(1,n);for(var s=1;s<3;++s)t.write_shift(1,0);return Yf({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),e4(r,t),t.slice(0,t.l)}function hM(r){var e=zs(r);return[e]}function fM(r,e,t){return t==null&&(t=ye(8)),ml(e,t)}function mM(r){var e=pl(r);return[e]}function pM(r,e,t){return t==null&&(t=ye(4)),gl(e,t)}function gM(r){var e=zs(r),t=r.read_shift(1);return[e,t,"b"]}function xM(r,e,t){return t==null&&(t=ye(9)),ml(e,t),t.write_shift(1,r.v?1:0),t}function vM(r){var e=pl(r),t=r.read_shift(1);return[e,t,"b"]}function yM(r,e,t){return t==null&&(t=ye(5)),gl(e,t),t.write_shift(1,r.v?1:0),t}function wM(r){var e=zs(r),t=r.read_shift(1);return[e,t,"e"]}function _M(r,e,t){return t==null&&(t=ye(9)),ml(e,t),t.write_shift(1,r.v),t}function EM(r){var e=pl(r),t=r.read_shift(1);return[e,t,"e"]}function bM(r,e,t){return t==null&&(t=ye(8)),gl(e,t),t.write_shift(1,r.v),t.write_shift(2,0),t.write_shift(1,0),t}function TM(r){var e=zs(r),t=r.read_shift(4);return[e,t,"s"]}function SM(r,e,t){return t==null&&(t=ye(12)),ml(e,t),t.write_shift(4,e.v),t}function NM(r){var e=pl(r),t=r.read_shift(4);return[e,t,"s"]}function CM(r,e,t){return t==null&&(t=ye(8)),gl(e,t),t.write_shift(4,e.v),t}function AM(r){var e=zs(r),t=Lc(r);return[e,t,"n"]}function IM(r,e,t){return t==null&&(t=ye(16)),ml(e,t),il(r.v,t),t}function kM(r){var e=pl(r),t=Lc(r);return[e,t,"n"]}function RM(r,e,t){return t==null&&(t=ye(12)),gl(e,t),il(r.v,t),t}function PM(r){var e=zs(r),t=t4(r);return[e,t,"n"]}function jM(r,e,t){return t==null&&(t=ye(12)),ml(e,t),r4(r.v,t),t}function DM(r){var e=pl(r),t=t4(r);return[e,t,"n"]}function OM(r,e,t){return t==null&&(t=ye(8)),gl(e,t),r4(r.v,t),t}function FM(r){var e=zs(r),t=tv(r);return[e,t,"is"]}function LM(r){var e=zs(r),t=Dn(r);return[e,t,"str"]}function MM(r,e,t){return t==null&&(t=ye(12+4*r.v.length)),ml(e,t),on(r.v,t),t.length>t.l?t.slice(0,t.l):t}function UM(r){var e=pl(r),t=Dn(r);return[e,t,"str"]}function VM(r,e,t){return t==null&&(t=ye(8+4*r.v.length)),gl(e,t),on(r.v,t),t.length>t.l?t.slice(0,t.l):t}function BM(r,e,t){var n=r.l+e,s=zs(r);s.r=t["!row"];var a=r.read_shift(1),l=[s,a,"b"];if(t.cellFormula){r.l+=2;var u=M0(r,n-r.l,t);l[3]=Cc(u,null,s,t.supbooks,t)}else r.l=n;return l}function zM(r,e,t){var n=r.l+e,s=zs(r);s.r=t["!row"];var a=r.read_shift(1),l=[s,a,"e"];if(t.cellFormula){r.l+=2;var u=M0(r,n-r.l,t);l[3]=Cc(u,null,s,t.supbooks,t)}else r.l=n;return l}function $M(r,e,t){var n=r.l+e,s=zs(r);s.r=t["!row"];var a=Lc(r),l=[s,a,"n"];if(t.cellFormula){r.l+=2;var u=M0(r,n-r.l,t);l[3]=Cc(u,null,s,t.supbooks,t)}else r.l=n;return l}function WM(r,e,t){var n=r.l+e,s=zs(r);s.r=t["!row"];var a=Dn(r),l=[s,a,"str"];if(t.cellFormula){r.l+=2;var u=M0(r,n-r.l,t);l[3]=Cc(u,null,s,t.supbooks,t)}else r.l=n;return l}var HM=xl,GM=Fc;function qM(r,e){return e==null&&(e=ye(4)),e.write_shift(4,r),e}function KM(r,e){var t=r.l+e,n=xl(r),s=rv(r),a=Dn(r),l=Dn(r),u=Dn(r);r.l=t;var h={rfx:n,relId:s,loc:a,display:u};return l&&(h.Tooltip=l),h}function YM(r,e){var t=ye(50+4*(r[1].Target.length+(r[1].Tooltip||"").length));Fc({s:an(r[0]),e:an(r[0])},t),nv("rId"+e,t);var n=r[1].Target.indexOf("#"),s=n==-1?"":r[1].Target.slice(n+1);return on(s||"",t),on(r[1].Tooltip||"",t),on("",t),t.slice(0,t.l)}function XM(){}function QM(r,e,t){var n=r.l+e,s=n4(r),a=r.read_shift(1),l=[s];if(l[2]=a,t.cellFormula){var u=U8(r,n-r.l,t);l[1]=u}else r.l=n;return l}function JM(r,e,t){var n=r.l+e,s=xl(r),a=[s];if(t.cellFormula){var l=B8(r,n-r.l,t);a[1]=l,r.l=n}else r.l=n;return a}function ZM(r,e,t){t==null&&(t=ye(18));var n=U0(r,e);t.write_shift(-4,r),t.write_shift(-4,r),t.write_shift(4,(n.width||10)*256),t.write_shift(4,0);var s=0;return e.hidden&&(s|=1),typeof n.width=="number"&&(s|=2),e.level&&(s|=e.level<<8),t.write_shift(2,s),t}var V4=["left","right","top","bottom","header","footer"];function e9(r){var e={};return V4.forEach(function(t){e[t]=Lc(r)}),e}function t9(r,e){return e==null&&(e=ye(48)),M4(r),V4.forEach(function(t){il(r[t],e)}),e}function r9(r){var e=r.read_shift(2);return r.l+=28,{RTL:e&32}}function n9(r,e,t){t==null&&(t=ye(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}function s9(r){var e=ye(24);return e.write_shift(4,4),e.write_shift(4,1),Fc(r,e),e}function i9(r,e){return e==null&&(e=ye(66)),e.write_shift(2,r.password?_4(r.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){t[1]?e.write_shift(4,r[t[0]]!=null&&!r[t[0]]?1:0):e.write_shift(4,r[t[0]]!=null&&r[t[0]]?0:1)}),e}function a9(){}function o9(){}function l9(r,e,t,n,s,a,l){if(e.v===void 0)return!1;var u="";switch(e.t){case"b":u=e.v?"1":"0";break;case"d":e=ls(e),e.z=e.z||Ar[14],e.v=os(Hn(e.v)),e.t="n";break;case"n":case"e":u=""+e.v;break;default:u=e.v;break}var h={r:t,c:n};switch(h.s=Eo(s.cellXfs,e,s),e.l&&a["!links"].push([Qt(h),e.l]),e.c&&a["!comments"].push([Qt(h),e.c]),e.t){case"s":case"str":return s.bookSST?(u=cv(s.Strings,e.v,s.revStrings),h.t="s",h.v=u,l?Ee(r,18,CM(e,h)):Ee(r,7,SM(e,h))):(h.t="str",l?Ee(r,17,VM(e,h)):Ee(r,6,MM(e,h))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?l?Ee(r,13,OM(e,h)):Ee(r,2,jM(e,h)):l?Ee(r,16,RM(e,h)):Ee(r,5,IM(e,h)),!0;case"b":return h.t="b",l?Ee(r,15,yM(e,h)):Ee(r,4,xM(e,h)),!0;case"e":return h.t="e",l?Ee(r,14,bM(e,h)):Ee(r,3,_M(e,h)),!0}return l?Ee(r,12,pM(e,h)):Ee(r,1,fM(e,h)),!0}function c9(r,e,t,n){var s=mr(e["!ref"]||"A1"),a,l="",u=[];Ee(r,145);var h=Array.isArray(e),f=s.e.r;e["!rows"]&&(f=Math.max(s.e.r,e["!rows"].length-1));for(var g=s.s.r;g<=f;++g){l=wn(g),aM(r,e,s,g);var x=!1;if(g<=s.e.r)for(var v=s.s.c;v<=s.e.c;++v){g===s.s.r&&(u[v]=jn(v)),a=u[v]+l;var _=h?(e[g]||[])[v]:e[a];if(!_){x=!1;continue}x=l9(r,_,g,v,n,e,x)}}Ee(r,146)}function u9(r,e){!e||!e["!merges"]||(Ee(r,177,qM(e["!merges"].length)),e["!merges"].forEach(function(t){Ee(r,176,GM(t))}),Ee(r,178))}function d9(r,e){!e||!e["!cols"]||(Ee(r,390),e["!cols"].forEach(function(t,n){t&&Ee(r,60,ZM(n,t))}),Ee(r,391))}function h9(r,e){!e||!e["!ref"]||(Ee(r,648),Ee(r,649,s9(mr(e["!ref"]))),Ee(r,650))}function f9(r,e,t){e["!links"].forEach(function(n){if(n[1].Target){var s=Yt(t,-1,n[1].Target.replace(/#.*$/,""),Ut.HLINK);Ee(r,494,YM(n,s))}}),delete e["!links"]}function m9(r,e,t,n){if(e["!comments"].length>0){var s=Yt(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Ut.VML);Ee(r,551,nv("rId"+s)),e["!legacy"]=s}}function p9(r,e,t,n){if(e["!autofilter"]){var s=e["!autofilter"],a=typeof s.ref=="string"?s.ref:zr(s.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var l=t.Workbook.Names,u=Cs(a);u.s.r==u.e.r&&(u.e.r=Cs(e["!ref"]).e.r,a=zr(u));for(var h=0;h<l.length;++h){var f=l[h];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==n){f.Ref="'"+t.SheetNames[n]+"'!"+a;break}}h==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+t.SheetNames[n]+"'!"+a}),Ee(r,161,Fc(mr(a))),Ee(r,162)}}function g9(r,e,t){Ee(r,133),Ee(r,137,n9(e,t)),Ee(r,138),Ee(r,134)}function x9(r,e){e["!protect"]&&Ee(r,535,i9(e["!protect"]))}function v9(r,e,t,n){var s=as(),a=t.SheetNames[r],l=t.Sheets[a]||{},u=a;try{t&&t.Workbook&&(u=t.Workbook.Sheets[r].CodeName||u)}catch{}var h=mr(l["!ref"]||"A1");if(h.e.c>16383||h.e.r>1048575){if(e.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],Ee(s,129),(t.vbaraw||l["!outline"])&&Ee(s,147,dM(u,l["!outline"])),Ee(s,148,lM(h)),g9(s,l,t.Workbook),d9(s,l),c9(s,l,r,e),x9(s,l),p9(s,l,t,r),u9(s,l),f9(s,l,n),l["!margins"]&&Ee(s,476,t9(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&h9(s,l),m9(s,l,r,n),Ee(s,130),s.end()}function y9(r,e){r.l+=10;var t=Dn(r);return{name:t}}var w9=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function _9(r){return!r.Workbook||!r.Workbook.WBProps?"false":J5(r.Workbook.WBProps.date1904)?"true":"false"}var E9="][*?/\\".split("");function B4(r,e){if(r.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return E9.forEach(function(n){if(r.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}function b9(r,e,t){r.forEach(function(n,s){B4(n);for(var a=0;a<s;++a)if(n==r[a])throw new Error("Duplicate Sheet Name: "+n);if(t){var l=e&&e[s]&&e[s].CodeName||n;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function T9(r){if(!r||!r.SheetNames||!r.Sheets)throw new Error("Invalid Workbook");if(!r.SheetNames.length)throw new Error("Workbook is empty");var e=r.Workbook&&r.Workbook.Sheets||[];b9(r.SheetNames,e,!!r.vbaraw);for(var t=0;t<r.SheetNames.length;++t)G8(r.Sheets[r.SheetNames[t]],r.SheetNames[t],t)}function z4(r){var e=[$r];e[e.length]=Le("workbook",null,{xmlns:Dc[0],"xmlns:r":sn.r});var t=r.Workbook&&(r.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};r.Workbook&&r.Workbook.WBProps&&(w9.forEach(function(u){r.Workbook.WBProps[u[0]]!=null&&r.Workbook.WBProps[u[0]]!=u[1]&&(n[u[0]]=r.Workbook.WBProps[u[0]])}),r.Workbook.WBProps.CodeName&&(n.codeName=r.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=Le("workbookPr",null,n);var s=r.Workbook&&r.Workbook.Sheets||[],a=0;if(s&&s[0]&&s[0].Hidden){for(e[e.length]="<bookViews>",a=0;a!=r.SheetNames.length&&!(!s[a]||!s[a].Hidden);++a);a==r.SheetNames.length&&(a=0),e[e.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",a=0;a!=r.SheetNames.length;++a){var l={name:Xt(r.SheetNames[a].slice(0,31))};if(l.sheetId=""+(a+1),l["r:id"]="rId"+(a+1),s[a])switch(s[a].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}e[e.length]=Le("sheet",null,l)}return e[e.length]="</sheets>",t&&(e[e.length]="<definedNames>",r.Workbook&&r.Workbook.Names&&r.Workbook.Names.forEach(function(u){var h={name:u.Name};u.Comment&&(h.comment=u.Comment),u.Sheet!=null&&(h.localSheetId=""+u.Sheet),u.Hidden&&(h.hidden="1"),u.Ref&&(e[e.length]=Le("definedName",Xt(u.Ref),h))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function S9(r,e){var t={};return t.Hidden=r.read_shift(4),t.iTabID=r.read_shift(4),t.strRelID=Ng(r),t.name=Dn(r),t}function N9(r,e){return e||(e=ye(127)),e.write_shift(4,r.Hidden),e.write_shift(4,r.iTabID),nv(r.strRelID,e),on(r.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function C9(r,e){var t={},n=r.read_shift(4);t.defaultThemeVersion=r.read_shift(4);var s=e>8?Dn(r):"";return s.length>0&&(t.CodeName=s),t.autoCompressPictures=!!(n&65536),t.backupFile=!!(n&64),t.checkCompatibility=!!(n&4096),t.date1904=!!(n&1),t.filterPrivacy=!!(n&8),t.hidePivotFieldList=!!(n&1024),t.promptedSolutions=!!(n&16),t.publishItems=!!(n&2048),t.refreshAllConnections=!!(n&262144),t.saveExternalLinkValues=!!(n&128),t.showBorderUnselectedTables=!!(n&4),t.showInkAnnotation=!!(n&32),t.showObjects=["all","placeholders","none"][n>>13&3],t.showPivotChartFilter=!!(n&32768),t.updateLinks=["userSet","never","always"][n>>8&3],t}function A9(r,e){e||(e=ye(72));var t=0;return r&&r.filterPrivacy&&(t|=8),e.write_shift(4,t),e.write_shift(4,0),e4(r&&r.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function I9(r,e,t){var n=r.l+e;r.l+=4,r.l+=1;var s=r.read_shift(4),a=_O(r),l=V8(r,0,t),u=rv(r);r.l=n;var h={Name:a,Ptg:l};return s<268435455&&(h.Sheet=s),u&&(h.Comment=u),h}function k9(r,e){Ee(r,143);for(var t=0;t!=e.SheetNames.length;++t){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[t]&&e.Workbook.Sheets[t].Hidden||0,s={Hidden:n,iTabID:t+1,strRelID:"rId"+(t+1),name:e.SheetNames[t]};Ee(r,156,N9(s))}Ee(r,144)}function R9(r,e){e||(e=ye(127));for(var t=0;t!=4;++t)e.write_shift(4,0);return on("SheetJS",e),on(Bf.version,e),on(Bf.version,e),on("7262",e),e.length>e.l?e.slice(0,e.l):e}function P9(r,e){e||(e=ye(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,r),e.write_shift(4,r);var t=120;return e.write_shift(1,t),e.length>e.l?e.slice(0,e.l):e}function j9(r,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var t=e.Workbook.Sheets,n=0,s=-1,a=-1;n<t.length;++n)!t[n]||!t[n].Hidden&&s==-1?s=n:t[n].Hidden==1&&a==-1&&(a=n);a>s||(Ee(r,135),Ee(r,158,P9(s)),Ee(r,136))}}function D9(r,e){var t=as();return Ee(t,131),Ee(t,128,R9()),Ee(t,153,A9(r.Workbook&&r.Workbook.WBProps||null)),j9(t,r),k9(t,r),Ee(t,132),t.end()}function O9(r,e,t){return(e.slice(-4)===".bin"?D9:z4)(r)}function F9(r,e,t,n,s){return(e.slice(-4)===".bin"?v9:U4)(r,t,n,s)}function L9(r,e,t){return(e.slice(-4)===".bin"?tL:T4)(r,t)}function M9(r,e,t){return(e.slice(-4)===".bin"?AF:w4)(r,t)}function U9(r,e,t){return(e.slice(-4)===".bin"?xL:I4)(r)}function V9(r){return(r.slice(-4)===".bin"?cL:C4)()}function B9(r,e){var t=[];return r.Props&&t.push(LO(r.Props,e)),r.Custprops&&t.push(MO(r.Props,r.Custprops)),t.join("")}function z9(){return""}function $9(r,e){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,s){var a=[];a.push(Le("NumberFormat",null,{"ss:Format":Xt(Ar[n.numFmtId])}));var l={"ss:ID":"s"+(21+s)};t.push(Le("Style",a.join(""),l))}),Le("Styles",t.join(""))}function $4(r){return Le("NamedRange",null,{"ss:Name":r.Name,"ss:RefersTo":"="+ov(r.Ref,{r:0,c:0})})}function W9(r){if(!((r||{}).Workbook||{}).Names)return"";for(var e=r.Workbook.Names,t=[],n=0;n<e.length;++n){var s=e[n];s.Sheet==null&&(s.Name.match(/^_xlfn\./)||t.push($4(s)))}return Le("Names",t.join(""))}function H9(r,e,t,n){if(!r||!((n||{}).Workbook||{}).Names)return"";for(var s=n.Workbook.Names,a=[],l=0;l<s.length;++l){var u=s[l];u.Sheet==t&&(u.Name.match(/^_xlfn\./)||a.push($4(u)))}return a.join("")}function G9(r,e,t,n){if(!r)return"";var s=[];if(r["!margins"]&&(s.push("<PageSetup>"),r["!margins"].header&&s.push(Le("Header",null,{"x:Margin":r["!margins"].header})),r["!margins"].footer&&s.push(Le("Footer",null,{"x:Margin":r["!margins"].footer})),s.push(Le("PageMargins",null,{"x:Bottom":r["!margins"].bottom||"0.75","x:Left":r["!margins"].left||"0.7","x:Right":r["!margins"].right||"0.7","x:Top":r["!margins"].top||"0.75"})),s.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[t])if(n.Workbook.Sheets[t].Hidden)s.push(Le("Visible",n.Workbook.Sheets[t].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<t&&!(n.Workbook.Sheets[a]&&!n.Workbook.Sheets[a].Hidden);++a);a==t&&s.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),r["!protect"]&&(s.push(vn("ProtectContents","True")),r["!protect"].objects&&s.push(vn("ProtectObjects","True")),r["!protect"].scenarios&&s.push(vn("ProtectScenarios","True")),r["!protect"].selectLockedCells!=null&&!r["!protect"].selectLockedCells?s.push(vn("EnableSelection","NoSelection")):r["!protect"].selectUnlockedCells!=null&&!r["!protect"].selectUnlockedCells&&s.push(vn("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){r["!protect"][l[0]]&&s.push("<"+l[1]+"/>")})),s.length==0?"":Le("WorksheetOptions",s.join(""),{xmlns:ws.x})}function q9(r){return r.map(function(e){var t=Q5(e.t||""),n=Le("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return Le("Comment",n,{"ss:Author":e.a})}).join("")}function K9(r,e,t,n,s,a,l){if(!r||r.v==null&&r.f==null)return"";var u={};if(r.f&&(u["ss:Formula"]="="+Xt(ov(r.f,l))),r.F&&r.F.slice(0,e.length)==e){var h=an(r.F.slice(e.length+1));u["ss:ArrayRange"]="RC:R"+(h.r==l.r?"":"["+(h.r-l.r)+"]")+"C"+(h.c==l.c?"":"["+(h.c-l.c)+"]")}if(r.l&&r.l.Target&&(u["ss:HRef"]=Xt(r.l.Target),r.l.Tooltip&&(u["x:HRefScreenTip"]=Xt(r.l.Tooltip))),t["!merges"])for(var f=t["!merges"],g=0;g!=f.length;++g)f[g].s.c!=l.c||f[g].s.r!=l.r||(f[g].e.c>f[g].s.c&&(u["ss:MergeAcross"]=f[g].e.c-f[g].s.c),f[g].e.r>f[g].s.r&&(u["ss:MergeDown"]=f[g].e.r-f[g].s.r));var x="",v="";switch(r.t){case"z":if(!n.sheetStubs)return"";break;case"n":x="Number",v=String(r.v);break;case"b":x="Boolean",v=r.v?"1":"0";break;case"e":x="Error",v=Sd[r.v];break;case"d":x="DateTime",v=new Date(r.v).toISOString(),r.z==null&&(r.z=r.z||Ar[14]);break;case"s":x="String",v=X5(r.v||"");break}var _=Eo(n.cellXfs,r,n);u["ss:StyleID"]="s"+(21+_),u["ss:Index"]=l.c+1;var S=r.v!=null?v:"",w=r.t=="z"?"":'<Data ss:Type="'+x+'">'+S+"</Data>";return(r.c||[]).length>0&&(w+=q9(r.c)),Le("Cell",w,u)}function Y9(r,e){var t='<Row ss:Index="'+(r+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=b4(e.hpt)),e.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(t+=' ss:Hidden="1"')),t+">"}function X9(r,e,t,n){if(!r["!ref"])return"";var s=mr(r["!ref"]),a=r["!merges"]||[],l=0,u=[];r["!cols"]&&r["!cols"].forEach(function(T,j){iv(T);var D=!!T.width,L=U0(j,T),M={"ss:Index":j+1};D&&(M["ss:Width"]=Qf(L.width)),T.hidden&&(M["ss:Hidden"]="1"),u.push(Le("Column",null,M))});for(var h=Array.isArray(r),f=s.s.r;f<=s.e.r;++f){for(var g=[Y9(f,(r["!rows"]||[])[f])],x=s.s.c;x<=s.e.c;++x){var v=!1;for(l=0;l!=a.length;++l)if(!(a[l].s.c>x)&&!(a[l].s.r>f)&&!(a[l].e.c<x)&&!(a[l].e.r<f)){(a[l].s.c!=x||a[l].s.r!=f)&&(v=!0);break}if(!v){var _={r:f,c:x},S=Qt(_),w=h?(r[f]||[])[x]:r[S];g.push(K9(w,S,r,e,t,n,_))}}g.push("</Row>"),g.length>2&&u.push(g.join(""))}return u.join("")}function Q9(r,e,t){var n=[],s=t.SheetNames[r],a=t.Sheets[s],l=a?H9(a,e,r,t):"";return l.length>0&&n.push("<Names>"+l+"</Names>"),l=a?X9(a,e,r,t):"",l.length>0&&n.push("<Table>"+l+"</Table>"),n.push(G9(a,e,r,t)),n.join("")}function J9(r,e){e||(e={}),r.SSF||(r.SSF=ls(Ar)),r.SSF&&(D0(),j0(r.SSF),e.revssf=O0(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF,e.cellXfs=[],Eo(e.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(B9(r,e)),t.push(z9()),t.push(""),t.push("");for(var n=0;n<r.SheetNames.length;++n)t.push(Le("Worksheet",Q9(n,e,r),{"ss:Name":Xt(r.SheetNames[n])}));return t[2]=$9(r,e),t[3]=W9(r),$r+Le("Workbook",t.join(""),{xmlns:ws.ss,"xmlns:o":ws.o,"xmlns:x":ws.x,"xmlns:ss":ws.ss,"xmlns:dt":ws.dt,"xmlns:html":ws.html})}var Vp={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Z9(r,e){var t=[],n=[],s=[],a=0,l,u=j_(G_,"n"),h=j_(q_,"n");if(r.Props)for(l=_n(r.Props),a=0;a<l.length;++a)(Object.prototype.hasOwnProperty.call(u,l[a])?t:Object.prototype.hasOwnProperty.call(h,l[a])?n:s).push([l[a],r.Props[l[a]]]);if(r.Custprops)for(l=_n(r.Custprops),a=0;a<l.length;++a)Object.prototype.hasOwnProperty.call(r.Props||{},l[a])||(Object.prototype.hasOwnProperty.call(u,l[a])?t:Object.prototype.hasOwnProperty.call(h,l[a])?n:s).push([l[a],r.Custprops[l[a]]]);var f=[];for(a=0;a<s.length;++a)f4.indexOf(s[a][0])>-1||u4.indexOf(s[a][0])>-1||s[a][1]!=null&&f.push(s[a]);n.length&&Jt.utils.cfb_add(e,"/SummaryInformation",J_(n,Vp.SI,h,q_)),(t.length||f.length)&&Jt.utils.cfb_add(e,"/DocumentSummaryInformation",J_(t,Vp.DSI,u,G_,f.length?f:null,Vp.UDI))}function eU(r,e){var t=e||{},n=Jt.utils.cfb_new({root:"R"}),s="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":s="/Workbook",t.biff=8;break;case"biff5":s="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return Jt.utils.cfb_add(n,s,W4(r,t)),t.biff==8&&(r.Props||r.Custprops)&&Z9(r,n),t.biff==8&&r.vbaraw&&vL(n,Jt.read(r.vbaraw,{type:typeof r.vbaraw=="string"?"binary":"buffer"})),n}var tU={0:{f:sM},1:{f:hM},2:{f:PM},3:{f:wM},4:{f:gM},5:{f:AM},6:{f:LM},7:{f:TM},8:{f:WM},9:{f:$M},10:{f:BM},11:{f:zM},12:{f:mM},13:{f:DM},14:{f:EM},15:{f:vM},16:{f:kM},17:{f:UM},18:{f:NM},19:{f:tv},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:I9},40:{},42:{},43:{f:LF},44:{f:OF},45:{f:VF},46:{f:zF},47:{f:BF},48:{},49:{f:mO},50:{},51:{f:sL},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:pF},62:{f:FM},63:{f:uL},64:{f:a9},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Di,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:r9},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:uM},148:{f:oM,p:16},151:{f:XM},152:{},153:{f:C9},154:{},155:{},156:{f:S9},157:{},158:{},159:{T:1,f:SF},160:{T:-1},161:{T:1,f:xl},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:HM},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:rL},336:{T:-1},337:{f:oL,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Ng},357:{},358:{},359:{},360:{T:1},361:{},362:{f:cF},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:QM},427:{f:JM},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:e9},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:cM},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:KM},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Ng},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:pL},633:{T:1},634:{T:-1},635:{T:1,f:fL},636:{T:-1},637:{f:vO},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:y9},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:o9},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Ve(r,e,t,n){var s=e;if(!isNaN(s)){var a=n||(t||[]).length||0,l=r.next(4);l.write_shift(2,s),l.write_shift(2,a),a>0&&Jx(t)&&r.push(t)}}function rU(r,e,t,n){var s=(t||[]).length||0;if(s<=8224)return Ve(r,e,t,s);var a=e;if(!isNaN(a)){for(var l=t.parts||[],u=0,h=0,f=0;f+(l[u]||8224)<=8224;)f+=l[u]||8224,u++;var g=r.next(4);for(g.write_shift(2,a),g.write_shift(2,f),r.push(t.slice(h,h+f)),h+=f;h<s;){for(g=r.next(4),g.write_shift(2,60),f=0;f+(l[u]||8224)<=8224;)f+=l[u]||8224,u++;g.write_shift(2,f),r.push(t.slice(h,h+f)),h+=f}}}function Cd(r,e,t){return r||(r=ye(7)),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,0),r.write_shift(1,0),r}function nU(r,e,t,n){var s=ye(9);return Cd(s,r,e),p4(t,n||"b",s),s}function sU(r,e,t){var n=ye(8+2*t.length);return Cd(n,r,e),n.write_shift(1,t.length),n.write_shift(t.length,t,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function iU(r,e,t,n){if(e.v!=null)switch(e.t){case"d":case"n":var s=e.t=="d"?os(Hn(e.v)):e.v;s==(s|0)&&s>=0&&s<65536?Ve(r,2,yF(t,n,s)):Ve(r,3,vF(t,n,s));return;case"b":case"e":Ve(r,5,nU(t,n,e.v,e.t));return;case"s":case"str":Ve(r,4,sU(t,n,(e.v||"").slice(0,255)));return}Ve(r,1,Cd(null,t,n))}function aU(r,e,t,n){var s=Array.isArray(e),a=mr(e["!ref"]||"A1"),l,u="",h=[];if(a.e.c>255||a.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),l=zr(a)}for(var f=a.s.r;f<=a.e.r;++f){u=wn(f);for(var g=a.s.c;g<=a.e.c;++g){f===a.s.r&&(h[g]=jn(g)),l=h[g]+u;var x=s?(e[f]||[])[g]:e[l];x&&iU(r,x,f,g)}}}function oU(r,e){for(var t=e||{},n=as(),s=0,a=0;a<r.SheetNames.length;++a)r.SheetNames[a]==t.sheet&&(s=a);if(s==0&&t.sheet&&r.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return Ve(n,t.biff==4?1033:t.biff==3?521:9,sv(r,16,t)),aU(n,r.Sheets[r.SheetNames[s]],s,t),Ve(n,10),n.end()}function lU(r,e,t){Ve(r,49,tF({sz:12,name:"Arial"},t))}function cU(r,e,t){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)e[s]!=null&&Ve(r,1054,sF(s,e[s],t))})}function uU(r,e){var t=ye(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),Ve(r,2151,t),t=ye(39),t.write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),v4(mr(e["!ref"]||"A1"),t),t.write_shift(4,4),Ve(r,2152,t)}function dU(r,e){for(var t=0;t<16;++t)Ve(r,224,e2({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){Ve(r,224,e2(n,0,e))})}function hU(r,e){for(var t=0;t<e["!links"].length;++t){var n=e["!links"][t];Ve(r,440,hF(n)),n[1].Tooltip&&Ve(r,2048,fF(n))}delete e["!links"]}function fU(r,e){if(e){var t=0;e.forEach(function(n,s){++t<=256&&n&&Ve(r,125,gF(U0(s,n),s))})}}function mU(r,e,t,n,s){var a=16+Eo(s.cellXfs,e,s);if(e.v==null&&!e.bf){Ve(r,513,al(t,n,a));return}if(e.bf)Ve(r,6,M8(e,t,n,s,a));else switch(e.t){case"d":case"n":var l=e.t=="d"?os(Hn(e.v)):e.v;Ve(r,515,lF(t,n,l,a));break;case"b":case"e":Ve(r,517,oF(t,n,e.v,a,s,e.t));break;case"s":case"str":if(s.bookSST){var u=cv(s.Strings,e.v,s.revStrings);Ve(r,253,rF(t,n,u,a))}else Ve(r,516,nF(t,n,(e.v||"").slice(0,255),a,s));break;default:Ve(r,513,al(t,n,a))}}function pU(r,e,t){var n=as(),s=t.SheetNames[r],a=t.Sheets[s]||{},l=(t||{}).Workbook||{},u=(l.Sheets||[])[r]||{},h=Array.isArray(a),f=e.biff==8,g,x="",v=[],_=mr(a["!ref"]||"A1"),S=f?65536:16384;if(_.e.c>255||_.e.r>=S){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");_.e.c=Math.min(_.e.c,255),_.e.r=Math.min(_.e.c,S-1)}Ve(n,2057,sv(t,16,e)),Ve(n,13,Ms(1)),Ve(n,12,Ms(100)),Ve(n,15,zn(!0)),Ve(n,17,zn(!1)),Ve(n,16,il(.001)),Ve(n,95,zn(!0)),Ve(n,42,zn(!1)),Ve(n,43,zn(!1)),Ve(n,130,Ms(1)),Ve(n,128,aF()),Ve(n,131,zn(!1)),Ve(n,132,zn(!1)),f&&fU(n,a["!cols"]),Ve(n,512,iF(_,e)),f&&(a["!links"]=[]);for(var w=_.s.r;w<=_.e.r;++w){x=wn(w);for(var T=_.s.c;T<=_.e.c;++T){w===_.s.r&&(v[T]=jn(T)),g=v[T]+x;var j=h?(a[w]||[])[T]:a[g];j&&(mU(n,j,w,T,e),f&&j.l&&a["!links"].push([g,j.l]))}}var D=u.CodeName||u.name||s;return f&&Ve(n,574,eF((l.Views||[])[0])),f&&(a["!merges"]||[]).length&&Ve(n,229,dF(a["!merges"])),f&&hU(n,a),Ve(n,442,x4(D)),f&&uU(n,a),Ve(n,10),n.end()}function gU(r,e,t){var n=as(),s=(r||{}).Workbook||{},a=s.Sheets||[],l=s.WBProps||{},u=t.biff==8,h=t.biff==5;if(Ve(n,2057,sv(r,5,t)),t.bookType=="xla"&&Ve(n,135),Ve(n,225,u?Ms(1200):null),Ve(n,193,BO(2)),h&&Ve(n,191),h&&Ve(n,192),Ve(n,226),Ve(n,92,XO("SheetJS",t)),Ve(n,66,Ms(u?1200:1252)),u&&Ve(n,353,Ms(0)),u&&Ve(n,448),Ve(n,317,xF(r.SheetNames.length)),u&&r.vbaraw&&Ve(n,211),u&&r.vbaraw){var f=l.CodeName||"ThisWorkbook";Ve(n,442,x4(f))}Ve(n,156,Ms(17)),Ve(n,25,zn(!1)),Ve(n,18,zn(!1)),Ve(n,19,Ms(0)),u&&Ve(n,431,zn(!1)),u&&Ve(n,444,Ms(0)),Ve(n,61,ZO()),Ve(n,64,zn(!1)),Ve(n,141,Ms(0)),Ve(n,34,zn(_9(r)=="true")),Ve(n,14,zn(!0)),u&&Ve(n,439,zn(!1)),Ve(n,218,Ms(0)),lU(n,r,t),cU(n,r.SSF,t),dU(n,t),u&&Ve(n,352,zn(!1));var g=n.end(),x=as();u&&Ve(x,140,mF()),u&&t.Strings&&rU(x,252,JO(t.Strings)),Ve(x,10);var v=x.end(),_=as(),S=0,w=0;for(w=0;w<r.SheetNames.length;++w)S+=(u?12:11)+(u?2:1)*r.SheetNames[w].length;var T=g.length+S+v.length;for(w=0;w<r.SheetNames.length;++w){var j=a[w]||{};Ve(_,133,QO({pos:T,hs:j.Hidden||0,dt:0,name:r.SheetNames[w]},t)),T+=e[w].length}var D=_.end();if(S!=D.length)throw new Error("BS8 "+S+" != "+D.length);var L=[];return g.length&&L.push(g),D.length&&L.push(D),v.length&&L.push(v),xn(L)}function xU(r,e){var t=e||{},n=[];r&&!r.SSF&&(r.SSF=ls(Ar)),r&&r.SSF&&(D0(),j0(r.SSF),t.revssf=O0(r.SSF),t.revssf[r.SSF[65535]]=0,t.ssf=r.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,uv(t),t.cellXfs=[],Eo(t.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={});for(var s=0;s<r.SheetNames.length;++s)n[n.length]=pU(s,t,r);return n.unshift(gU(r,n,t)),xn(n)}function W4(r,e){for(var t=0;t<=r.SheetNames.length;++t){var n=r.Sheets[r.SheetNames[t]];if(!(!n||!n["!ref"])){var s=Cs(n["!ref"]);s.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+r.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}}var a=e||{};switch(a.biff||2){case 8:case 5:return xU(r,e);case 4:case 3:case 2:return oU(r,e)}throw new Error("invalid type "+a.bookType+" for BIFF")}function vU(r,e,t,n){for(var s=r["!merges"]||[],a=[],l=e.s.c;l<=e.e.c;++l){for(var u=0,h=0,f=0;f<s.length;++f)if(!(s[f].s.r>t||s[f].s.c>l)&&!(s[f].e.r<t||s[f].e.c<l)){if(s[f].s.r<t||s[f].s.c<l){u=-1;break}u=s[f].e.r-s[f].s.r+1,h=s[f].e.c-s[f].s.c+1;break}if(!(u<0)){var g=Qt({r:t,c:l}),x=n.dense?(r[t]||[])[l]:r[g],v=x&&x.v!=null&&(x.h||Y5(x.w||(va(x),x.w)||""))||"",_={};u>1&&(_.rowspan=u),h>1&&(_.colspan=h),n.editable?v='<span contenteditable="true">'+v+"</span>":x&&(_["data-t"]=x&&x.t||"z",x.v!=null&&(_["data-v"]=x.v),x.z!=null&&(_["data-z"]=x.z),x.l&&(x.l.Target||"#").charAt(0)!="#"&&(v='<a href="'+x.l.Target+'">'+v+"</a>")),_.id=(n.id||"sjs")+"-"+g,a.push(Le("td",v,_))}}var S="<tr>";return S+a.join("")+"</tr>"}var yU='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',wU="</body></html>";function _U(r,e,t){var n=[];return n.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function H4(r,e){var t=e||{},n=t.header!=null?t.header:yU,s=t.footer!=null?t.footer:wU,a=[n],l=Cs(r["!ref"]);t.dense=Array.isArray(r),a.push(_U(r,l,t));for(var u=l.s.r;u<=l.e.r;++u)a.push(vU(r,l,u,t));return a.push("</table>"+s),a.join("")}function G4(r,e,t){var n=t||{},s=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?an(n.origin):n.origin;s=l.r,a=l.c}var u=e.getElementsByTagName("tr"),h=Math.min(n.sheetRows||1e7,u.length),f={s:{r:0,c:0},e:{r:s,c:a}};if(r["!ref"]){var g=Cs(r["!ref"]);f.s.r=Math.min(f.s.r,g.s.r),f.s.c=Math.min(f.s.c,g.s.c),f.e.r=Math.max(f.e.r,g.e.r),f.e.c=Math.max(f.e.c,g.e.c),s==-1&&(f.e.r=s=g.e.r+1)}var x=[],v=0,_=r["!rows"]||(r["!rows"]=[]),S=0,w=0,T=0,j=0,D=0,L=0;for(r["!cols"]||(r["!cols"]=[]);S<u.length&&w<h;++S){var M=u[S];if(o2(M)){if(n.display)continue;_[w]={hidden:!0}}var Z=M.children;for(T=j=0;T<Z.length;++T){var Q=Z[T];if(!(n.display&&o2(Q))){var N=Q.hasAttribute("data-v")?Q.getAttribute("data-v"):Q.hasAttribute("v")?Q.getAttribute("v"):Z5(Q.innerHTML),I=Q.getAttribute("data-z")||Q.getAttribute("z");for(v=0;v<x.length;++v){var A=x[v];A.s.c==j+a&&A.s.r<w+s&&w+s<=A.e.r&&(j=A.e.c+1-a,v=-1)}L=+Q.getAttribute("colspan")||1,((D=+Q.getAttribute("rowspan")||1)>1||L>1)&&x.push({s:{r:w+s,c:j+a},e:{r:w+s+(D||1)-1,c:j+a+(L||1)-1}});var P={t:"s",v:N},F=Q.getAttribute("data-t")||Q.getAttribute("t")||"";N!=null&&(N.length==0?P.t=F||"z":n.raw||N.trim().length==0||F=="s"||(N==="TRUE"?P={t:"b",v:!0}:N==="FALSE"?P={t:"b",v:!1}:isNaN(ua(N))?isNaN(Ju(N).getDate())||(P={t:"d",v:Hn(N)},n.cellDates||(P={t:"n",v:os(P.v)}),P.z=n.dateNF||Ar[14]):P={t:"n",v:ua(N)})),P.z===void 0&&I!=null&&(P.z=I);var V="",O=Q.getElementsByTagName("A");if(O&&O.length)for(var $e=0;$e<O.length&&!(O[$e].hasAttribute("href")&&(V=O[$e].getAttribute("href"),V.charAt(0)!="#"));++$e);V&&V.charAt(0)!="#"&&(P.l={Target:V}),n.dense?(r[w+s]||(r[w+s]=[]),r[w+s][j+a]=P):r[Qt({c:j+a,r:w+s})]=P,f.e.c<j+a&&(f.e.c=j+a),j+=L}}++w}return x.length&&(r["!merges"]=(r["!merges"]||[]).concat(x)),f.e.r=Math.max(f.e.r,w-1+s),r["!ref"]=zr(f),w>=h&&(r["!fullref"]=zr((f.e.r=u.length-S+w-1+s,f))),r}function q4(r,e){var t=e||{},n=t.dense?[]:{};return G4(n,r,e)}function EU(r,e){return fl(q4(r,e),e)}function o2(r){var e="",t=bU(r);return t&&(e=t(r).getPropertyValue("display")),e||(e=r.style&&r.style.display),e==="none"}function bU(r){return r.ownerDocument.defaultView&&typeof r.ownerDocument.defaultView.getComputedStyle=="function"?r.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var TU=(function(){var r=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+ed({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+r+"</office:document-styles>";return function(){return $r+e}})(),l2=(function(){var r=function(a){return Xt(a).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,t=`          <table:covered-table-cell/>
`,n=function(a,l,u){var h=[];h.push('      <table:table table:name="'+Xt(l.SheetNames[u])+`" table:style-name="ta1">
`);var f=0,g=0,x=Cs(a["!ref"]||"A1"),v=a["!merges"]||[],_=0,S=Array.isArray(a);if(a["!cols"])for(g=0;g<=x.e.c;++g)h.push("        <table:table-column"+(a["!cols"][g]?' table:style-name="co'+a["!cols"][g].ods+'"':"")+`></table:table-column>
`);var w="",T=a["!rows"]||[];for(f=0;f<x.s.r;++f)w=T[f]?' table:style-name="ro'+T[f].ods+'"':"",h.push("        <table:table-row"+w+`></table:table-row>
`);for(;f<=x.e.r;++f){for(w=T[f]?' table:style-name="ro'+T[f].ods+'"':"",h.push("        <table:table-row"+w+`>
`),g=0;g<x.s.c;++g)h.push(e);for(;g<=x.e.c;++g){var j=!1,D={},L="";for(_=0;_!=v.length;++_)if(!(v[_].s.c>g)&&!(v[_].s.r>f)&&!(v[_].e.c<g)&&!(v[_].e.r<f)){(v[_].s.c!=g||v[_].s.r!=f)&&(j=!0),D["table:number-columns-spanned"]=v[_].e.c-v[_].s.c+1,D["table:number-rows-spanned"]=v[_].e.r-v[_].s.r+1;break}if(j){h.push(t);continue}var M=Qt({r:f,c:g}),Z=S?(a[f]||[])[g]:a[M];if(Z&&Z.f&&(D["table:formula"]=Xt(W8(Z.f)),Z.F&&Z.F.slice(0,M.length)==M)){var Q=Cs(Z.F);D["table:number-matrix-columns-spanned"]=Q.e.c-Q.s.c+1,D["table:number-matrix-rows-spanned"]=Q.e.r-Q.s.r+1}if(!Z){h.push(e);continue}switch(Z.t){case"b":L=Z.v?"TRUE":"FALSE",D["office:value-type"]="boolean",D["office:boolean-value"]=Z.v?"true":"false";break;case"n":L=Z.w||String(Z.v||0),D["office:value-type"]="float",D["office:value"]=Z.v||0;break;case"s":case"str":L=Z.v==null?"":Z.v,D["office:value-type"]="string";break;case"d":L=Z.w||Hn(Z.v).toISOString(),D["office:value-type"]="date",D["office:date-value"]=Hn(Z.v).toISOString(),D["table:style-name"]="ce1";break;default:h.push(e);continue}var N=r(L);if(Z.l&&Z.l.Target){var I=Z.l.Target;I=I.charAt(0)=="#"?"#"+H8(I.slice(1)):I,I.charAt(0)!="#"&&!I.match(/^\w+:/)&&(I="../"+I),N=Le("text:a",N,{"xlink:href":I.replace(/&/g,"&amp;")})}h.push("          "+Le("table:table-cell",Le("text:p",N,{}),D)+`
`)}h.push(`        </table:table-row>
`)}return h.push(`      </table:table>
`),h.join("")},s=function(a,l){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var u=0;l.SheetNames.map(function(f){return l.Sheets[f]}).forEach(function(f){if(f&&f["!cols"]){for(var g=0;g<f["!cols"].length;++g)if(f["!cols"][g]){var x=f["!cols"][g];if(x.width==null&&x.wpx==null&&x.wch==null)continue;iv(x),x.ods=u;var v=f["!cols"][g].wpx+"px";a.push('  <style:style style:name="co'+u+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+v+`"/>
`),a.push(`  </style:style>
`),++u}}});var h=0;l.SheetNames.map(function(f){return l.Sheets[f]}).forEach(function(f){if(f&&f["!rows"]){for(var g=0;g<f["!rows"].length;++g)if(f["!rows"][g]){f["!rows"][g].ods=h;var x=f["!rows"][g].hpx+"px";a.push('  <style:style style:name="ro'+h+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+x+`"/>
`),a.push(`  </style:style>
`),++h}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(l,u){var h=[$r],f=ed({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),g=ed({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});u.bookType=="fods"?(h.push("<office:document"+f+g+`>
`),h.push(l4().replace(/office:document-meta/g,"office:meta"))):h.push("<office:document-content"+f+`>
`),s(h,l),h.push(`  <office:body>
`),h.push(`    <office:spreadsheet>
`);for(var x=0;x!=l.SheetNames.length;++x)h.push(n(l.Sheets[l.SheetNames[x]],l,x));return h.push(`    </office:spreadsheet>
`),h.push(`  </office:body>
`),u.bookType=="fods"?h.push("</office:document>"):h.push("</office:document-content>"),h.join("")}})();function K4(r,e){if(e.bookType=="fods")return l2(r,e);var t=Kx(),n="",s=[],a=[];return n="mimetype",wt(t,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",wt(t,n,l2(r,e)),s.push([n,"text/xml"]),a.push([n,"ContentFile"]),n="styles.xml",wt(t,n,TU(r,e)),s.push([n,"text/xml"]),a.push([n,"StylesFile"]),n="meta.xml",wt(t,n,$r+l4()),s.push([n,"text/xml"]),a.push([n,"MetadataFile"]),n="manifest.rdf",wt(t,n,FO(a)),s.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",wt(t,n,DO(s)),t}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function e0(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function SU(r){return typeof TextEncoder<"u"?new TextEncoder().encode(r):ai(Zu(r))}function NU(r,e){e:for(var t=0;t<=r.length-e.length;++t){for(var n=0;n<e.length;++n)if(r[t+n]!=e[n])continue e;return!0}return!1}function vo(r){var e=r.reduce(function(s,a){return s+a.length},0),t=new Uint8Array(e),n=0;return r.forEach(function(s){t.set(s,n),n+=s.length}),t}function CU(r,e,t){var n=Math.floor(t==0?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,s=t/Math.pow(10,n-6176);r[e+15]|=n>>7,r[e+14]|=(n&127)<<1;for(var a=0;s>=1;++a,s/=256)r[e+a]=s&255;r[e+15]|=t>=0?0:128}function td(r,e){var t=e?e[0]:0,n=r[t]&127;e:if(r[t++]>=128&&(n|=(r[t]&127)<<7,r[t++]<128||(n|=(r[t]&127)<<14,r[t++]<128)||(n|=(r[t]&127)<<21,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,28),++t,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,35),++t,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,42),++t,r[t++]<128)))break e;return e&&(e[0]=t),n}function Kt(r){var e=new Uint8Array(7);e[0]=r&127;var t=1;e:if(r>127){if(e[t-1]|=128,e[t]=r>>7&127,++t,r<=16383||(e[t-1]|=128,e[t]=r>>14&127,++t,r<=2097151)||(e[t-1]|=128,e[t]=r>>21&127,++t,r<=268435455)||(e[t-1]|=128,e[t]=r/256>>>21&127,++t,r<=34359738367)||(e[t-1]|=128,e[t]=r/65536>>>21&127,++t,r<=4398046511103))break e;e[t-1]|=128,e[t]=r/16777216>>>21&127,++t}return e.slice(0,t)}function gc(r){var e=0,t=r[e]&127;e:if(r[e++]>=128){if(t|=(r[e]&127)<<7,r[e++]<128||(t|=(r[e]&127)<<14,r[e++]<128)||(t|=(r[e]&127)<<21,r[e++]<128))break e;t|=(r[e]&127)<<28}return t}function qr(r){for(var e=[],t=[0];t[0]<r.length;){var n=t[0],s=td(r,t),a=s&7;s=Math.floor(s/8);var l=0,u;if(s==0)break;switch(a){case 0:{for(var h=t[0];r[t[0]++]>=128;);u=r.slice(h,t[0])}break;case 5:l=4,u=r.slice(t[0],t[0]+l),t[0]+=l;break;case 1:l=8,u=r.slice(t[0],t[0]+l),t[0]+=l;break;case 2:l=td(r,t),u=r.slice(t[0],t[0]+l),t[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(s," at offset ").concat(n))}var f={data:u,type:a};e[s]==null?e[s]=[f]:e[s].push(f)}return e}function mn(r){var e=[];return r.forEach(function(t,n){t.forEach(function(s){s.data&&(e.push(Kt(n*8+s.type)),s.type==2&&e.push(Kt(s.data.length)),e.push(s.data))})}),vo(e)}function ri(r){for(var e,t=[],n=[0];n[0]<r.length;){var s=td(r,n),a=qr(r.slice(n[0],n[0]+s));n[0]+=s;var l={id:gc(a[1][0].data),messages:[]};a[2].forEach(function(u){var h=qr(u.data),f=gc(h[3][0].data);l.messages.push({meta:h,data:r.slice(n[0],n[0]+f)}),n[0]+=f}),(e=a[3])!=null&&e[0]&&(l.merge=gc(a[3][0].data)>>>0>0),t.push(l)}return t}function Jl(r){var e=[];return r.forEach(function(t){var n=[];n[1]=[{data:Kt(t.id),type:0}],n[2]=[],t.merge!=null&&(n[3]=[{data:Kt(+!!t.merge),type:0}]);var s=[];t.messages.forEach(function(l){s.push(l.data),l.meta[3]=[{type:0,data:Kt(l.data.length)}],n[2].push({data:mn(l.meta),type:2})});var a=mn(n);e.push(Kt(a.length)),e.push(a),s.forEach(function(l){return e.push(l)})}),vo(e)}function AU(r,e){if(r!=0)throw new Error("Unexpected Snappy chunk type ".concat(r));for(var t=[0],n=td(e,t),s=[];t[0]<e.length;){var a=e[t[0]]&3;if(a==0){var l=e[t[0]++]>>2;if(l<60)++l;else{var u=l-59;l=e[t[0]],u>1&&(l|=e[t[0]+1]<<8),u>2&&(l|=e[t[0]+2]<<16),u>3&&(l|=e[t[0]+3]<<24),l>>>=0,l++,t[0]+=u}s.push(e.slice(t[0],t[0]+l)),t[0]+=l;continue}else{var h=0,f=0;if(a==1?(f=(e[t[0]]>>2&7)+4,h=(e[t[0]++]&224)<<3,h|=e[t[0]++]):(f=(e[t[0]++]>>2)+1,a==2?(h=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(h=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),s=[vo(s)],h==0)throw new Error("Invalid offset 0");if(h>s[0].length)throw new Error("Invalid offset beyond length");if(f>=h)for(s.push(s[0].slice(-h)),f-=h;f>=s[s.length-1].length;)s.push(s[s.length-1]),f-=s[s.length-1].length;s.push(s[0].slice(-h,-h+f))}}var g=vo(s);if(g.length!=n)throw new Error("Unexpected length: ".concat(g.length," != ").concat(n));return g}function ni(r){for(var e=[],t=0;t<r.length;){var n=r[t++],s=r[t]|r[t+1]<<8|r[t+2]<<16;t+=3,e.push(AU(n,r.slice(t,t+s))),t+=s}if(t!==r.length)throw new Error("data is not a valid framed stream!");return vo(e)}function Zl(r){for(var e=[],t=0;t<r.length;){var n=Math.min(r.length-t,268435455),s=new Uint8Array(4);e.push(s);var a=Kt(n),l=a.length;e.push(a),n<=60?(l++,e.push(new Uint8Array([n-1<<2]))):n<=256?(l+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(l+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(l+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(l+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(r.slice(t,t+n)),l+=n,s[0]=0,s[1]=l&255,s[2]=l>>8&255,s[3]=l>>16&255,t+=n}return vo(e)}function Bp(r,e){var t=new Uint8Array(32),n=e0(t),s=12,a=0;switch(t[0]=5,r.t){case"n":t[1]=2,CU(t,s,r.v),a|=1,s+=16;break;case"b":t[1]=6,n.setFloat64(s,r.v?1:0,!0),a|=2,s+=8;break;case"s":if(e.indexOf(r.v)==-1)throw new Error("Value ".concat(r.v," missing from SST!"));t[1]=3,n.setUint32(s,e.indexOf(r.v),!0),a|=8,s+=4;break;default:throw"unsupported cell type "+r.t}return n.setUint32(8,a,!0),t.slice(0,s)}function zp(r,e){var t=new Uint8Array(32),n=e0(t),s=12,a=0;switch(t[0]=3,r.t){case"n":t[2]=2,n.setFloat64(s,r.v,!0),a|=32,s+=8;break;case"b":t[2]=6,n.setFloat64(s,r.v?1:0,!0),a|=32,s+=8;break;case"s":if(e.indexOf(r.v)==-1)throw new Error("Value ".concat(r.v," missing from SST!"));t[2]=3,n.setUint32(s,e.indexOf(r.v),!0),a|=16,s+=4;break;default:throw"unsupported cell type "+r.t}return n.setUint32(4,a,!0),t.slice(0,s)}function qa(r){var e=qr(r);return td(e[1][0].data)}function IU(r,e,t){var n,s,a,l;if(!((n=r[6])!=null&&n[0])||!((s=r[7])!=null&&s[0]))throw"Mutation only works on post-BNC storages!";var u=((l=(a=r[8])==null?void 0:a[0])==null?void 0:l.data)&&gc(r[8][0].data)>0||!1;if(u)throw"Math only works with normal offsets";for(var h=0,f=e0(r[7][0].data),g=0,x=[],v=e0(r[4][0].data),_=0,S=[],w=0;w<e.length;++w){if(e[w]==null){f.setUint16(w*2,65535,!0),v.setUint16(w*2,65535);continue}f.setUint16(w*2,g,!0),v.setUint16(w*2,_,!0);var T,j;switch(typeof e[w]){case"string":T=Bp({t:"s",v:e[w]},t),j=zp({t:"s",v:e[w]},t);break;case"number":T=Bp({t:"n",v:e[w]},t),j=zp({t:"n",v:e[w]},t);break;case"boolean":T=Bp({t:"b",v:e[w]},t),j=zp({t:"b",v:e[w]},t);break;default:throw new Error("Unsupported value "+e[w])}x.push(T),g+=T.length,S.push(j),_+=j.length,++h}for(r[2][0].data=Kt(h);w<r[7][0].data.length/2;++w)f.setUint16(w*2,65535,!0),v.setUint16(w*2,65535,!0);return r[6][0].data=vo(x),r[3][0].data=vo(S),h}function kU(r,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=r.Sheets[r.SheetNames[0]];r.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Cs(t["!ref"]);n.s.r=n.s.c=0;var s=!1;n.e.c>9&&(s=!0,n.e.c=9),n.e.r>49&&(s=!0,n.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(zr(n)));var a=t0(t,{range:n,header:1}),l=["~Sh33tJ5~"];a.forEach(function(ee){return ee.forEach(function(J){typeof J=="string"&&l.push(J)})});var u={},h=[],f=Jt.read(e.numbers,{type:"base64"});f.FileIndex.map(function(ee,J){return[ee,f.FullPaths[J]]}).forEach(function(ee){var J=ee[0],te=ee[1];if(J.type==2&&J.name.match(/\.iwa/)){var ce=J.content,be=ni(ce),Pe=ri(be);Pe.forEach(function(Me){h.push(Me.id),u[Me.id]={deps:[],location:te,type:gc(Me.messages[0].meta[1][0].data)}})}}),h.sort(function(ee,J){return ee-J});var g=h.filter(function(ee){return ee>1}).map(function(ee){return[ee,Kt(ee)]});f.FileIndex.map(function(ee,J){return[ee,f.FullPaths[J]]}).forEach(function(ee){var J=ee[0];if(ee[1],!!J.name.match(/\.iwa/)){var te=ri(ni(J.content));te.forEach(function(ce){ce.messages.forEach(function(be){g.forEach(function(Pe){ce.messages.some(function(Me){return gc(Me.meta[1][0].data)!=11006&&NU(Me.data,Pe[1])})&&u[Pe[0]].deps.push(ce.id)})})})}});for(var x=Jt.find(f,u[1].location),v=ri(ni(x.content)),_,S=0;S<v.length;++S){var w=v[S];w.id==1&&(_=w)}var T=qa(qr(_.messages[0].data)[1][0].data);for(x=Jt.find(f,u[T].location),v=ri(ni(x.content)),S=0;S<v.length;++S)w=v[S],w.id==T&&(_=w);for(T=qa(qr(_.messages[0].data)[2][0].data),x=Jt.find(f,u[T].location),v=ri(ni(x.content)),S=0;S<v.length;++S)w=v[S],w.id==T&&(_=w);for(T=qa(qr(_.messages[0].data)[2][0].data),x=Jt.find(f,u[T].location),v=ri(ni(x.content)),S=0;S<v.length;++S)w=v[S],w.id==T&&(_=w);var j=qr(_.messages[0].data);{j[6][0].data=Kt(n.e.r+1),j[7][0].data=Kt(n.e.c+1);var D=qa(j[46][0].data),L=Jt.find(f,u[D].location),M=ri(ni(L.content));{for(var Z=0;Z<M.length&&M[Z].id!=D;++Z);if(M[Z].id!=D)throw"Bad ColumnRowUIDMapArchive";var Q=qr(M[Z].messages[0].data);Q[1]=[],Q[2]=[],Q[3]=[];for(var N=0;N<=n.e.c;++N){var I=[];I[1]=I[2]=[{type:0,data:Kt(N+420690)}],Q[1].push({type:2,data:mn(I)}),Q[2].push({type:0,data:Kt(N)}),Q[3].push({type:0,data:Kt(N)})}Q[4]=[],Q[5]=[],Q[6]=[];for(var A=0;A<=n.e.r;++A)I=[],I[1]=I[2]=[{type:0,data:Kt(A+726270)}],Q[4].push({type:2,data:mn(I)}),Q[5].push({type:0,data:Kt(A)}),Q[6].push({type:0,data:Kt(A)});M[Z].messages[0].data=mn(Q)}L.content=Zl(Jl(M)),L.size=L.content.length,delete j[46];var P=qr(j[4][0].data);{P[7][0].data=Kt(n.e.r+1);var F=qr(P[1][0].data),V=qa(F[2][0].data);L=Jt.find(f,u[V].location),M=ri(ni(L.content));{if(M[0].id!=V)throw"Bad HeaderStorageBucket";var O=qr(M[0].messages[0].data);for(A=0;A<a.length;++A){var $e=qr(O[2][0].data);$e[1][0].data=Kt(A),$e[4][0].data=Kt(a[A].length),O[2][A]={type:O[2][0].type,data:mn($e)}}M[0].messages[0].data=mn(O)}L.content=Zl(Jl(M)),L.size=L.content.length;var je=qa(P[2][0].data);L=Jt.find(f,u[je].location),M=ri(ni(L.content));{if(M[0].id!=je)throw"Bad HeaderStorageBucket";for(O=qr(M[0].messages[0].data),N=0;N<=n.e.c;++N)$e=qr(O[2][0].data),$e[1][0].data=Kt(N),$e[4][0].data=Kt(n.e.r+1),O[2][N]={type:O[2][0].type,data:mn($e)};M[0].messages[0].data=mn(O)}L.content=Zl(Jl(M)),L.size=L.content.length;var Te=qa(P[4][0].data);(function(){for(var ee=Jt.find(f,u[Te].location),J=ri(ni(ee.content)),te,ce=0;ce<J.length;++ce){var be=J[ce];be.id==Te&&(te=be)}var Pe=qr(te.messages[0].data);{Pe[3]=[];var Me=[];l.forEach(function(ot,zt){Me[1]=[{type:0,data:Kt(zt)}],Me[2]=[{type:0,data:Kt(1)}],Me[3]=[{type:2,data:SU(ot)}],Pe[3].push({type:2,data:mn(Me)})})}te.messages[0].data=mn(Pe);var Fe=Jl(J),mt=Zl(Fe);ee.content=mt,ee.size=ee.content.length})();var Ge=qr(P[3][0].data);{var Se=Ge[1][0];delete Ge[2];var pe=qr(Se.data);{var Y=qa(pe[2][0].data);(function(){for(var ee=Jt.find(f,u[Y].location),J=ri(ni(ee.content)),te,ce=0;ce<J.length;++ce){var be=J[ce];be.id==Y&&(te=be)}var Pe=qr(te.messages[0].data);{delete Pe[6],delete Ge[7];var Me=new Uint8Array(Pe[5][0].data);Pe[5]=[];for(var Fe=0,mt=0;mt<=n.e.r;++mt){var ot=qr(Me);Fe+=IU(ot,a[mt],l),ot[1][0].data=Kt(mt),Pe[5].push({data:mn(ot),type:2})}Pe[1]=[{type:0,data:Kt(n.e.c+1)}],Pe[2]=[{type:0,data:Kt(n.e.r+1)}],Pe[3]=[{type:0,data:Kt(Fe)}],Pe[4]=[{type:0,data:Kt(n.e.r+1)}]}te.messages[0].data=mn(Pe);var zt=Jl(J),ct=Zl(zt);ee.content=ct,ee.size=ee.content.length})()}Se.data=mn(pe)}P[3][0].data=mn(Ge)}j[4][0].data=mn(P)}_.messages[0].data=mn(j);var se=Jl(v),W=Zl(se);return x.content=W,x.size=x.content.length,f}function RU(r){return function(t){for(var n=0;n!=r.length;++n){var s=r[n];t[s[0]]===void 0&&(t[s[0]]=s[1]),s[2]==="n"&&(t[s[0]]=Number(t[s[0]]))}}}function uv(r){RU([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(r)}function PU(r,e){return e.bookType=="ods"?K4(r,e):e.bookType=="numbers"?kU(r,e):e.bookType=="xlsb"?jU(r,e):DU(r,e)}function jU(r,e){oc=1024,r&&!r.SSF&&(r.SSF=ls(Ar)),r&&r.SSF&&(D0(),j0(r.SSF),e.revssf=O0(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Lu?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t=e.bookType=="xlsb"?"bin":"xml",n=k4.indexOf(e.bookType)>-1,s=i4();uv(e=e||{});var a=Kx(),l="",u=0;if(e.cellXfs=[],Eo(e.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={}),l="docProps/core.xml",wt(a,l,c4(r.Props,e)),s.coreprops.push(l),Yt(e.rels,2,l,Ut.CORE_PROPS),l="docProps/app.xml",!(r.Props&&r.Props.SheetNames))if(!r.Workbook||!r.Workbook.Sheets)r.Props.SheetNames=r.SheetNames;else{for(var h=[],f=0;f<r.SheetNames.length;++f)(r.Workbook.Sheets[f]||{}).Hidden!=2&&h.push(r.SheetNames[f]);r.Props.SheetNames=h}for(r.Props.Worksheets=r.Props.SheetNames.length,wt(a,l,d4(r.Props)),s.extprops.push(l),Yt(e.rels,3,l,Ut.EXT_PROPS),r.Custprops!==r.Props&&_n(r.Custprops||{}).length>0&&(l="docProps/custom.xml",wt(a,l,h4(r.Custprops)),s.custprops.push(l),Yt(e.rels,4,l,Ut.CUST_PROPS)),u=1;u<=r.SheetNames.length;++u){var g={"!id":{}},x=r.Sheets[r.SheetNames[u-1]],v=(x||{})["!type"]||"sheet";switch(v){case"chart":default:l="xl/worksheets/sheet"+u+"."+t,wt(a,l,F9(u-1,l,e,r,g)),s.sheets.push(l),Yt(e.wbrels,-1,"worksheets/sheet"+u+"."+t,Ut.WS[0])}if(x){var _=x["!comments"],S=!1,w="";_&&_.length>0&&(w="xl/comments"+u+"."+t,wt(a,w,U9(_,w)),s.comments.push(w),Yt(g,-1,"../comments"+u+"."+t,Ut.CMNT),S=!0),x["!legacy"]&&S&&wt(a,"xl/drawings/vmlDrawing"+u+".vml",A4(u,x["!comments"])),delete x["!comments"],delete x["!legacy"]}g["!id"].rId1&&wt(a,o4(l),mc(g))}return e.Strings!=null&&e.Strings.length>0&&(l="xl/sharedStrings."+t,wt(a,l,M9(e.Strings,l,e)),s.strs.push(l),Yt(e.wbrels,-1,"sharedStrings."+t,Ut.SST)),l="xl/workbook."+t,wt(a,l,O9(r,l)),s.workbooks.push(l),Yt(e.rels,1,l,Ut.WB),l="xl/theme/theme1.xml",wt(a,l,N4(r.Themes,e)),s.themes.push(l),Yt(e.wbrels,-1,"theme/theme1.xml",Ut.THEME),l="xl/styles."+t,wt(a,l,L9(r,l,e)),s.styles.push(l),Yt(e.wbrels,-1,"styles."+t,Ut.STY),r.vbaraw&&n&&(l="xl/vbaProject.bin",wt(a,l,r.vbaraw),s.vba.push(l),Yt(e.wbrels,-1,"vbaProject.bin",Ut.VBA)),l="xl/metadata."+t,wt(a,l,V9(l)),s.metadata.push(l),Yt(e.wbrels,-1,"metadata."+t,Ut.XLMETA),wt(a,"[Content_Types].xml",a4(s,e)),wt(a,"_rels/.rels",mc(e.rels)),wt(a,"xl/_rels/workbook."+t+".rels",mc(e.wbrels)),delete e.revssf,delete e.ssf,a}function DU(r,e){oc=1024,r&&!r.SSF&&(r.SSF=ls(Ar)),r&&r.SSF&&(D0(),j0(r.SSF),e.revssf=O0(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Lu?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t="xml",n=k4.indexOf(e.bookType)>-1,s=i4();uv(e=e||{});var a=Kx(),l="",u=0;if(e.cellXfs=[],Eo(e.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={}),l="docProps/core.xml",wt(a,l,c4(r.Props,e)),s.coreprops.push(l),Yt(e.rels,2,l,Ut.CORE_PROPS),l="docProps/app.xml",!(r.Props&&r.Props.SheetNames))if(!r.Workbook||!r.Workbook.Sheets)r.Props.SheetNames=r.SheetNames;else{for(var h=[],f=0;f<r.SheetNames.length;++f)(r.Workbook.Sheets[f]||{}).Hidden!=2&&h.push(r.SheetNames[f]);r.Props.SheetNames=h}r.Props.Worksheets=r.Props.SheetNames.length,wt(a,l,d4(r.Props)),s.extprops.push(l),Yt(e.rels,3,l,Ut.EXT_PROPS),r.Custprops!==r.Props&&_n(r.Custprops||{}).length>0&&(l="docProps/custom.xml",wt(a,l,h4(r.Custprops)),s.custprops.push(l),Yt(e.rels,4,l,Ut.CUST_PROPS));var g=["SheetJ5"];for(e.tcid=0,u=1;u<=r.SheetNames.length;++u){var x={"!id":{}},v=r.Sheets[r.SheetNames[u-1]],_=(v||{})["!type"]||"sheet";switch(_){case"chart":default:l="xl/worksheets/sheet"+u+"."+t,wt(a,l,U4(u-1,e,r,x)),s.sheets.push(l),Yt(e.wbrels,-1,"worksheets/sheet"+u+"."+t,Ut.WS[0])}if(v){var S=v["!comments"],w=!1,T="";if(S&&S.length>0){var j=!1;S.forEach(function(D){D[1].forEach(function(L){L.T==!0&&(j=!0)})}),j&&(T="xl/threadedComments/threadedComment"+u+"."+t,wt(a,T,dL(S,g,e)),s.threadedcomments.push(T),Yt(x,-1,"../threadedComments/threadedComment"+u+"."+t,Ut.TCMNT)),T="xl/comments"+u+"."+t,wt(a,T,I4(S)),s.comments.push(T),Yt(x,-1,"../comments"+u+"."+t,Ut.CMNT),w=!0}v["!legacy"]&&w&&wt(a,"xl/drawings/vmlDrawing"+u+".vml",A4(u,v["!comments"])),delete v["!comments"],delete v["!legacy"]}x["!id"].rId1&&wt(a,o4(l),mc(x))}return e.Strings!=null&&e.Strings.length>0&&(l="xl/sharedStrings."+t,wt(a,l,w4(e.Strings,e)),s.strs.push(l),Yt(e.wbrels,-1,"sharedStrings."+t,Ut.SST)),l="xl/workbook."+t,wt(a,l,z4(r)),s.workbooks.push(l),Yt(e.rels,1,l,Ut.WB),l="xl/theme/theme1.xml",wt(a,l,N4(r.Themes,e)),s.themes.push(l),Yt(e.wbrels,-1,"theme/theme1.xml",Ut.THEME),l="xl/styles."+t,wt(a,l,T4(r,e)),s.styles.push(l),Yt(e.wbrels,-1,"styles."+t,Ut.STY),r.vbaraw&&n&&(l="xl/vbaProject.bin",wt(a,l,r.vbaraw),s.vba.push(l),Yt(e.wbrels,-1,"vbaProject.bin",Ut.VBA)),l="xl/metadata."+t,wt(a,l,C4()),s.metadata.push(l),Yt(e.wbrels,-1,"metadata."+t,Ut.XLMETA),g.length>1&&(l="xl/persons/person.xml",wt(a,l,hL(g)),s.people.push(l),Yt(e.wbrels,-1,"persons/person.xml",Ut.PEOPLE)),wt(a,"[Content_Types].xml",a4(s,e)),wt(a,"_rels/.rels",mc(e.rels)),wt(a,"xl/_rels/workbook."+t+".rels",mc(e.wbrels)),delete e.revssf,delete e.ssf,a}function OU(r,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];case"base64":t=xa(r.slice(0,12));break;case"binary":t=r;break;case"array":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function Y4(r,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return bd(e.file,Jt.write(r,{type:Bt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Jt.write(r,e)}function FU(r,e){var t=ls(e||{}),n=PU(r,t);return LU(n,t)}function LU(r,e){var t={},n=Bt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(t.compression="DEFLATE"),e.password)t.type=n;else switch(e.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":t.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var s=r.FullPaths?Jt.write(r,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!e.compression}):r.generate(t);if(typeof Deno<"u"&&typeof s=="string"){if(e.type=="binary"||e.type=="base64")return s;s=new Uint8Array(P0(s))}return e.password&&typeof encrypt_agile<"u"?Y4(encrypt_agile(s,e.password),e):e.type==="file"?bd(e.file,s):e.type=="string"?ju(s):s}function MU(r,e){var t=e||{},n=eU(r,t);return Y4(n,t)}function Ni(r,e,t){t||(t="");var n=t+r;switch(e.type){case"base64":return Qu(Zu(n));case"binary":return Zu(n);case"string":return r;case"file":return bd(e.file,n,"utf8");case"buffer":return Bt?wa(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Ni(n,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function UU(r,e){switch(e.type){case"base64":return Qu(r);case"binary":return r;case"string":return r;case"file":return bd(e.file,r,"binary");case"buffer":return Bt?wa(r,"binary"):r.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function rf(r,e){switch(e.type){case"string":case"base64":case"binary":for(var t="",n=0;n<r.length;++n)t+=String.fromCharCode(r[n]);return e.type=="base64"?Qu(t):e.type=="string"?ju(t):t;case"file":return bd(e.file,r);case"buffer":return r;default:throw new Error("Unrecognized type "+e.type)}}function X4(r,e){f5(),T9(r);var t=ls(e||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t.type=="array"){t.type="binary";var n=X4(r,t);return t.type="array",P0(n)}var s=0;if(t.sheet&&(typeof t.sheet=="number"?s=t.sheet:s=r.SheetNames.indexOf(t.sheet),!r.SheetNames[s]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return Ni(J9(r,t),t);case"slk":case"sylk":return Ni(_F.from_sheet(r.Sheets[r.SheetNames[s]],t),t);case"htm":case"html":return Ni(H4(r.Sheets[r.SheetNames[s]],t),t);case"txt":return UU(J4(r.Sheets[r.SheetNames[s]],t),t);case"csv":return Ni(dv(r.Sheets[r.SheetNames[s]],t),t,"\uFEFF");case"dif":return Ni(EF.from_sheet(r.Sheets[r.SheetNames[s]],t),t);case"dbf":return rf(wF.from_sheet(r.Sheets[r.SheetNames[s]],t),t);case"prn":return Ni(bF.from_sheet(r.Sheets[r.SheetNames[s]],t),t);case"rtf":return Ni(kF.from_sheet(r.Sheets[r.SheetNames[s]],t),t);case"eth":return Ni(y4.from_sheet(r.Sheets[r.SheetNames[s]],t),t);case"fods":return Ni(K4(r,t),t);case"wk1":return rf(t2.sheet_to_wk1(r.Sheets[r.SheetNames[s]],t),t);case"wk3":return rf(t2.book_to_wk3(r,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),rf(W4(r,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),MU(r,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return FU(r,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function VU(r){if(!r.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},t=r.file.slice(r.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(r.bookType=t.slice(1)),r.bookType=e[r.bookType]||r.bookType}}function Q4(r,e,t){var n={};return n.type="file",n.file=e,VU(n),X4(r,n)}function BU(r,e,t,n,s,a,l,u){var h=wn(t),f=u.defval,g=u.raw||!Object.prototype.hasOwnProperty.call(u,"raw"),x=!0,v=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(v,"__rowNum__",{value:t,enumerable:!1})}catch{v.__rowNum__=t}else v.__rowNum__=t;if(!l||r[t])for(var _=e.s.c;_<=e.e.c;++_){var S=l?r[t][_]:r[n[_]+h];if(S===void 0||S.t===void 0){if(f===void 0)continue;a[_]!=null&&(v[a[_]]=f);continue}var w=S.v;switch(S.t){case"z":if(w==null)break;continue;case"e":w=w==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+S.t)}if(a[_]!=null){if(w==null)if(S.t=="e"&&w===null)v[a[_]]=null;else if(f!==void 0)v[a[_]]=f;else if(g&&w===null)v[a[_]]=null;else continue;else v[a[_]]=g&&(S.t!=="n"||S.t==="n"&&u.rawNumbers!==!1)?w:va(S,w,u);w!=null&&(x=!1)}}return{row:v,isempty:x}}function t0(r,e){if(r==null||r["!ref"]==null)return[];var t={t:"n",v:0},n=0,s=1,a=[],l=0,u="",h={s:{r:0,c:0},e:{r:0,c:0}},f=e||{},g=f.range!=null?f.range:r["!ref"];switch(f.header===1?n=1:f.header==="A"?n=2:Array.isArray(f.header)?n=3:f.header==null&&(n=0),typeof g){case"string":h=mr(g);break;case"number":h=mr(r["!ref"]),h.s.r=g;break;default:h=g}n>0&&(s=0);var x=wn(h.s.r),v=[],_=[],S=0,w=0,T=Array.isArray(r),j=h.s.r,D=0,L={};T&&!r[j]&&(r[j]=[]);var M=f.skipHidden&&r["!cols"]||[],Z=f.skipHidden&&r["!rows"]||[];for(D=h.s.c;D<=h.e.c;++D)if(!(M[D]||{}).hidden)switch(v[D]=jn(D),t=T?r[j][D]:r[v[D]+x],n){case 1:a[D]=D-h.s.c;break;case 2:a[D]=v[D];break;case 3:a[D]=f.header[D-h.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),u=l=va(t,null,f),w=L[l]||0,!w)L[l]=1;else{do u=l+"_"+w++;while(L[u]);L[l]=w,L[u]=1}a[D]=u}for(j=h.s.r+s;j<=h.e.r;++j)if(!(Z[j]||{}).hidden){var Q=BU(r,h,j,v,n,a,T,f);(Q.isempty===!1||(n===1?f.blankrows!==!1:f.blankrows))&&(_[S++]=Q.row)}return _.length=S,_}var c2=/"/g;function zU(r,e,t,n,s,a,l,u){for(var h=!0,f=[],g="",x=wn(t),v=e.s.c;v<=e.e.c;++v)if(n[v]){var _=u.dense?(r[t]||[])[v]:r[n[v]+x];if(_==null)g="";else if(_.v!=null){h=!1,g=""+(u.rawNumbers&&_.t=="n"?_.v:va(_,null,u));for(var S=0,w=0;S!==g.length;++S)if((w=g.charCodeAt(S))===s||w===a||w===34||u.forceQuotes){g='"'+g.replace(c2,'""')+'"';break}g=="ID"&&(g='"ID"')}else _.f!=null&&!_.F?(h=!1,g="="+_.f,g.indexOf(",")>=0&&(g='"'+g.replace(c2,'""')+'"')):g="";f.push(g)}return u.blankrows===!1&&h?null:f.join(l)}function dv(r,e){var t=[],n=e??{};if(r==null||r["!ref"]==null)return"";var s=mr(r["!ref"]),a=n.FS!==void 0?n.FS:",",l=a.charCodeAt(0),u=n.RS!==void 0?n.RS:`
`,h=u.charCodeAt(0),f=new RegExp((a=="|"?"\\|":a)+"+$"),g="",x=[];n.dense=Array.isArray(r);for(var v=n.skipHidden&&r["!cols"]||[],_=n.skipHidden&&r["!rows"]||[],S=s.s.c;S<=s.e.c;++S)(v[S]||{}).hidden||(x[S]=jn(S));for(var w=0,T=s.s.r;T<=s.e.r;++T)(_[T]||{}).hidden||(g=zU(r,s,T,x,l,h,a,n),g!=null&&(n.strip&&(g=g.replace(f,"")),(g||n.blankrows!==!1)&&t.push((w++?u:"")+g)));return delete n.dense,t.join("")}function J4(r,e){e||(e={}),e.FS="	",e.RS=`
`;var t=dv(r,e);return t}function $U(r){var e="",t,n="";if(r==null||r["!ref"]==null)return[];var s=mr(r["!ref"]),a="",l=[],u,h=[],f=Array.isArray(r);for(u=s.s.c;u<=s.e.c;++u)l[u]=jn(u);for(var g=s.s.r;g<=s.e.r;++g)for(a=wn(g),u=s.s.c;u<=s.e.c;++u)if(e=l[u]+a,t=f?(r[g]||[])[u]:r[e],n="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;n=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)n=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)n=""+t.v;else if(t.t=="b")n=t.v?"TRUE":"FALSE";else if(t.w!==void 0)n="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?n="'"+t.v:n=""+t.v}}h[h.length]=e+"="+n}return h}function Z4(r,e,t){var n=t||{},s=+!n.skipHeader,a=r||{},l=0,u=0;if(a&&n.origin!=null)if(typeof n.origin=="number")l=n.origin;else{var h=typeof n.origin=="string"?an(n.origin):n.origin;l=h.r,u=h.c}var f,g={s:{c:0,r:0},e:{c:u,r:l+e.length-1+s}};if(a["!ref"]){var x=mr(a["!ref"]);g.e.c=Math.max(g.e.c,x.e.c),g.e.r=Math.max(g.e.r,x.e.r),l==-1&&(l=x.e.r+1,g.e.r=l+e.length-1+s)}else l==-1&&(l=0,g.e.r=e.length-1+s);var v=n.header||[],_=0;e.forEach(function(w,T){_n(w).forEach(function(j){(_=v.indexOf(j))==-1&&(v[_=v.length]=j);var D=w[j],L="z",M="",Z=Qt({c:u+_,r:l+T+s});f=rd(a,Z),D&&typeof D=="object"&&!(D instanceof Date)?a[Z]=D:(typeof D=="number"?L="n":typeof D=="boolean"?L="b":typeof D=="string"?L="s":D instanceof Date?(L="d",n.cellDates||(L="n",D=os(D)),M=n.dateNF||Ar[14]):D===null&&n.nullError&&(L="e",D=0),f?(f.t=L,f.v=D,delete f.w,delete f.R,M&&(f.z=M)):a[Z]=f={t:L,v:D},M&&(f.z=M))})}),g.e.c=Math.max(g.e.c,u+v.length-1);var S=wn(l);if(s)for(_=0;_<v.length;++_)a[jn(_+u)+S]={t:"s",v:v[_]};return a["!ref"]=zr(g),a}function WU(r,e){return Z4(null,r,e)}function rd(r,e,t){if(typeof e=="string"){if(Array.isArray(r)){var n=an(e);return r[n.r]||(r[n.r]=[]),r[n.r][n.c]||(r[n.r][n.c]={t:"z"})}return r[e]||(r[e]={t:"z"})}return typeof e!="number"?rd(r,Qt(e)):rd(r,Qt({r:e,c:t||0}))}function HU(r,e){if(typeof e=="number"){if(e>=0&&r.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=r.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function GU(){return{SheetNames:[],Sheets:{}}}function qU(r,e,t,n){var s=1;if(!t)for(;s<=65535&&r.SheetNames.indexOf(t="Sheet"+s)!=-1;++s,t=void 0);if(!t||r.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&r.SheetNames.indexOf(t)>=0){var a=t.match(/(^.*?)(\d+)$/);s=a&&+a[2]||0;var l=a&&a[1]||t;for(++s;s<=65535&&r.SheetNames.indexOf(t=l+s)!=-1;++s);}if(B4(t),r.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return r.SheetNames.push(t),r.Sheets[t]=e,t}function KU(r,e,t){r.Workbook||(r.Workbook={}),r.Workbook.Sheets||(r.Workbook.Sheets=[]);var n=HU(r,e);switch(r.Workbook.Sheets[n]||(r.Workbook.Sheets[n]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}r.Workbook.Sheets[n].Hidden=t}function YU(r,e){return r.z=e,r}function eS(r,e,t){return e?(r.l={Target:e},t&&(r.l.Tooltip=t)):delete r.l,r}function XU(r,e,t){return eS(r,"#"+e,t)}function QU(r,e,t){r.c||(r.c=[]),r.c.push({t:e,a:t||"SheetJS"})}function JU(r,e,t,n){for(var s=typeof e!="string"?e:mr(e),a=typeof e=="string"?e:zr(e),l=s.s.r;l<=s.e.r;++l)for(var u=s.s.c;u<=s.e.c;++u){var h=rd(r,l,u);h.t="n",h.F=a,delete h.v,l==s.s.r&&u==s.s.c&&(h.f=t,n&&(h.D=!0))}return r}var xc={encode_col:jn,encode_row:wn,encode_cell:Qt,encode_range:zr,decode_col:ev,decode_row:Zx,split_cell:fO,decode_cell:an,decode_range:Cs,format_cell:va,sheet_add_aoa:ZT,sheet_add_json:Z4,sheet_add_dom:G4,aoa_to_sheet:Oc,json_to_sheet:WU,table_to_sheet:q4,table_to_book:EU,sheet_to_csv:dv,sheet_to_txt:J4,sheet_to_json:t0,sheet_to_html:H4,sheet_to_formulae:$U,sheet_to_row_object_array:t0,sheet_get_cell:rd,book_new:GU,book_append_sheet:qU,book_set_sheet_visibility:KU,cell_set_number_format:YU,cell_set_hyperlink:eS,cell_set_internal_link:XU,cell_add_comment:QU,sheet_set_array_formula:JU,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const ZU=({club:r,user:e,isSuccess:t,onSubmit:n,onClose:s})=>{var g;const[a,l]=U.useState({}),u=r.recruitmentQuestions&&r.recruitmentQuestions.length>0,h=(x,v)=>{l(_=>({..._,[x]:v}))},f=x=>{var _;x.preventDefault();const v=((_=r.recruitmentQuestions)==null?void 0:_.map((S,w)=>({question:S,answer:a[w]||""})))||[];n(v)};return c.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:s,children:c.jsx("div",{className:"bg-slate-900 border border-slate-700 rounded-lg shadow-xl max-w-lg w-full relative animate-form-enter",onClick:x=>x.stopPropagation(),children:t?c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-green-500/10 rounded-full flex items-center justify-center animate-circle-pulse",children:c.jsx("svg",{className:"w-16 h-16 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{className:"checkmark-path",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),c.jsx("h2",{className:"text-2xl font-bold text-white",children:"Application Submitted!"}),c.jsx("p",{className:"text-gray-400 mt-2",children:"The club admins will review your application shortly."})]}):c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:""}),c.jsxs("div",{className:"p-8",children:[c.jsxs("h2",{className:"text-2xl font-bold text-white text-center mb-1",children:["Apply to ",r.name]}),c.jsx("p",{className:"text-gray-400 text-center mb-6",children:"Your complete profile information will be shared with the admin."}),c.jsxs("form",{onSubmit:f,className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[u?(g=r.recruitmentQuestions)==null?void 0:g.map((x,v)=>c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:x}),c.jsx("textarea",{required:!0,rows:3,className:"block w-full px-3 py-2 bg-slate-800 border border-slate-600 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:a[v]||"",onChange:_=>h(v,_.target.value)})]},v)):c.jsx("div",{className:"text-center text-gray-300 bg-slate-800/50 p-4 rounded-md border border-slate-700",children:c.jsx("p",{children:"This club has no specific application questions. Click submit to send your joining request directly."})}),c.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-indigo-700 transition-colors",children:"Submit Application"})]})]})]})})})},nf=({label:r,id:e,...t})=>c.jsxs("div",{children:[c.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-gray-300 mb-1",children:r}),c.jsx("input",{id:e,...t,className:"block w-full px-3 py-2 bg-slate-800 border border-slate-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),e7=({label:r,id:e,...t})=>c.jsxs("div",{children:[c.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-gray-300 mb-1",children:r}),c.jsx("textarea",{id:e,...t,className:"block w-full px-3 py-2 bg-slate-800 border border-slate-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),t7=({application:r,onClose:e})=>c.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e,children:c.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-lg shadow-xl max-w-2xl w-full relative max-h-[80vh] flex flex-col",onClick:t=>t.stopPropagation(),children:[c.jsx("div",{className:"p-6 border-b border-slate-700 flex-shrink-0",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("img",{src:r.userImageUrl,className:"w-14 h-14 rounded-full mr-4",alt:r.userName}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-bold text-white",children:r.userName}),c.jsx("p",{className:"text-sm text-gray-400",children:r.userEmail}),c.jsxs("p",{className:"text-sm text-gray-400",children:[r.userBranch," - ",r.userYear]})]})]}),c.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white text-2xl",children:""})]})}),c.jsxs("div",{className:"p-6 overflow-y-auto",children:[c.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Application Responses"}),c.jsx("div",{className:"space-y-4",children:r.answers.map((t,n)=>c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-semibold text-gray-300",children:t.question}),c.jsx("p",{className:"text-gray-400 bg-slate-800 p-3 rounded-md mt-1 whitespace-pre-wrap",children:t.answer})]},n))})]})]})}),r7=({members:r,clubName:e,onClose:t,isClosing:n})=>c.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 animate-backdrop-fade-in",onClick:t,children:c.jsxs("div",{className:`bg-slate-900 border border-slate-700 rounded-lg shadow-xl max-w-2xl w-full max-h-[80vh] flex flex-col ${n?"animate-modal-content-exit":"animate-form-enter"}`,onClick:s=>s.stopPropagation(),children:[c.jsx("div",{className:"p-5 border-b border-slate-700 flex-shrink-0",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-bold text-white",children:"All Members"}),c.jsxs("p",{className:"text-gray-400",children:["of ",e]})]}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white text-2xl",children:""})]})}),c.jsx("div",{className:"p-6 overflow-y-auto",children:c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-x-6 gap-y-4",children:r.map(s=>c.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-md",children:[c.jsx("p",{className:"font-semibold text-white truncate",children:s.name}),c.jsx("p",{className:"text-sm text-indigo-400 truncate",children:s.position||"Member"})]},s.id))})})]})}),n7=({club:r,clubEvents:e,setEvents:t,user:n,applications:s,allUsers:a=[],onUpdateClub:l,onApplicationStatusChange:u,onNewApplication:h,onCreateEvent:f,onUpdateEvent:g,registrations:x,onAddClubMember:v,onRemoveClubMember:_,onUpdateClubMember:S})=>{var cr;const[w,T]=U.useState("ongoing"),[j,D]=U.useState("recruitment"),[L,M]=U.useState("idle"),[Z,Q]=U.useState(!1),[N,I]=U.useState(null),[A,P]=U.useState(null),[F,V]=U.useState(!1),[O,$e]=U.useState(!1),je=Bs(),[Te,Ge]=U.useState(r),[Se,pe]=U.useState(!1);U.useEffect(()=>{Ge(r)},[r]);const[Y,se]=U.useState(!0),[W,ee]=U.useState({rollNumber:"",position:"",imageUrl:""}),[J,te]=U.useState([]),[ce,be]=U.useState(null),Pe=ve=>{const et=ve.target.value;if(ee(_t=>({..._t,rollNumber:et})),et.length>=3){const _t=a.filter(vt=>vt.rollNumber&&vt.rollNumber.toLowerCase().includes(et.toLowerCase()));te(_t)}else te([]);be(null)},Me=ve=>{be(ve),ee(et=>({...et,rollNumber:ve.rollNumber||"",imageUrl:ve.imageUrl||""})),te([])},Fe=()=>{if(!ce||!W.position){alert("Please select a user and enter position.");return}if(Te.team.some(et=>et.id===ce.id)){alert("This user is already a member.");return}const ve={id:ce.id,name:ce.name,position:W.position,imageUrl:ce.imageUrl||void 0,rollNumber:ce.rollNumber};Ge(et=>({...et,team:[...et.team,ve]})),ee({rollNumber:"",position:"",imageUrl:""}),be(null),te([])},mt=U.useMemo(()=>["president","vice president","secretary","treasurer","head","lead","coordinator"],[]),ot=U.useCallback(ve=>ve?mt.some(et=>ve.toLowerCase().includes(et)):!1,[mt]),zt=U.useMemo(()=>{const ve=Te.team.filter(vt=>ot(vt.position)),et=Te.team.filter(vt=>!ot(vt.position));return[...ve,...et].slice(0,4)},[Te.team,ot]);U.useEffect(()=>{if(L==="success"){const ve=setTimeout(()=>{M("idle")},2500);return()=>clearTimeout(ve)}},[L]);const ct=ve=>{n&&(h({userId:n.id,userName:n.name,userImageUrl:`https://picsum.photos/seed/${n.name.replace(/\s+/g,"")}/200/200`,userEmail:n.email||"not-provided@college.edu",userYear:n.year||"N/A",userBranch:n.branch||"N/A",userMobile:n.mobile||"N/A",clubId:r.id,status:"pending",answers:ve}),M("success"),pe(!0))},xr=U.useMemo(()=>e.filter(ve=>ve.status===xt.Upcoming||ve.status===xt.Ongoing),[e]),Tt=U.useMemo(()=>e.filter(ve=>ve.status===xt.Past),[e]),he=(ve,et)=>{Ge(_t=>({..._t,[ve]:et}))},Ne=(ve,et)=>{Ge(_t=>{const vt=[..._t.recruitmentQuestions||[]];return vt[ve]=et,{..._t,recruitmentQuestions:vt}})},Be=()=>{Ge(ve=>({...ve,recruitmentQuestions:[...ve.recruitmentQuestions||[],""]}))},nt=ve=>{Ge(et=>{const _t=[...et.recruitmentQuestions||[]];return _t.length>1?{...et,recruitmentQuestions:_t.filter((vt,It)=>It!==ve)}:et})},pt=async()=>{const ve=Te.team.map(It=>{const kt=a.find(ir=>ir.id===It.id);return kt?{id:kt.id,name:kt.name,rollNumber:kt.rollNumber,imageUrl:It.imageUrl||kt.imageUrl,position:It.position}:It}),et=r.team||[],_t=Te.team||[],vt=et.filter(It=>!_t.some(kt=>kt.id===It.id));console.log("hola",vt);for(const It of vt)if(It.id)try{const kt=a.find(ir=>ir.id===It.id);if(kt&&Array.isArray(kt.managedClubIds)){const ir=kt.managedClubIds.filter(Gn=>Gn!==Te.id),ur=ir.length===0?"student":kt.role;await rr.updateClubMemberProfile(It.id,{managedClubIds:ir,role:ur})}}catch{}if(await l({...Te,team:ve}),n&&Te.team&&Te.id){for(const It of Te.team)if(It.id)try{const kt=a.find(ir=>ir.id===It.id);if(kt){const ir=Array.isArray(kt.managedClubIds)?Array.from(new Set([...kt.managedClubIds,Te.id])):[Te.id],ur=kt.role==="admin"?"admin":"contributor";await rr.updateClubMemberProfile(It.id,{managedClubIds:ir,role:ur,name:It.name})}}catch{}}},yt=()=>{$e(!0),setTimeout(()=>{V(!1),$e(!1)},300)},sr=U.useMemo(()=>s.filter(ve=>ve.status==="pending"),[s]),Ht=U.useMemo(()=>Te.team.some(ve=>ve.name===(n==null?void 0:n.name)),[Te.team,n]),Ft=U.useMemo(()=>s.some(ve=>ve.userId===(n==null?void 0:n.id)),[s,n])||Se,$t=(n==null?void 0:n.role)==="contributor"&&((cr=n==null?void 0:n.managedClubIds)==null?void 0:cr.includes(Te.id)),er=U.useMemo(()=>{var ve;if(!n)return!1;if(n.role==="admin"||r.adminIds&&r.adminIds.includes(n.id))return!0;if(n.role==="contributor"){const et=(ve=r.team)==null?void 0:ve.find(_t=>_t.id===n.id);if(et&&et.position&&et.position.toLowerCase().includes("admin"))return!0}return!1},[n,r]),As=U.useRef(null),En=U.useRef(null),[qe,At]=U.useState(!1),[Pt,Or]=U.useState(!1),cs=async(ve,et)=>{var vt;const _t=(vt=ve.target.files)==null?void 0:vt[0];if(_t){et==="logoUrl"&&At(!0),et==="bannerUrl"&&Or(!0);try{const It=await c5(_t,r.id,et==="logoUrl"?"logo":"banner");Ge(kt=>({...kt,[et]:It}))}catch{alert("Image upload failed")}finally{et==="logoUrl"&&At(!1),et==="bannerUrl"&&Or(!1)}}},bn=async(ve,et)=>{const _t=r.id;try{const vt=await R0(()=>Promise.resolve().then(()=>xT),void 0).then(ur=>ur.eventRegistrationService.getEventRegistrations(ve,_t));if(!vt||vt.length===0){alert("No registrations found for this event.");return}const It=vt.map(ur=>{var Gn;return{Name:ur.userName,Email:ur.userEmail,Phone:ur.userPhone||"",RollNumber:ur.userRollNumber||"",Branch:ur.userBranch||"",Year:ur.userYear||"",RegistrationDate:(Gn=ur.registrationDate)!=null&&Gn.seconds?new Date(ur.registrationDate.seconds*1e3).toLocaleString():"",Status:ur.status,PaymentStatus:ur.paymentStatus||"",CheckIn:ur.checkInStatus==="checked_in"?"Yes":"No"}}),kt=xc.json_to_sheet(It),ir=xc.book_new();xc.book_append_sheet(ir,kt,"Registrations"),Q4(ir,`${et.replace(/\s+/g,"_")}_registrations.xlsx`)}catch(vt){alert("Failed to download registrations."),console.error(vt)}};return c.jsxs(c.Fragment,{children:[L!=="idle"&&n&&c.jsx(ZU,{club:Te,user:n,isSuccess:L==="success",onSubmit:ct,onClose:()=>M("idle")}),Z&&c.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:c.jsx("div",{className:"bg-slate-900 border border-slate-700 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] flex flex-col",children:c.jsx(bg,{clubId:r.id,onClose:()=>Q(!1),onCreateEvent:ve=>{f(ve),Q(!1)}})})}),N&&c.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:c.jsx("div",{className:"bg-slate-900 border border-slate-700 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] flex flex-col",children:c.jsx(bg,{clubId:r.id,eventToEdit:N,onUpdateEvent:ve=>{g(ve),I(null)},onClose:()=>I(null)})})}),A&&c.jsx(t7,{application:A,onClose:()=>P(null)}),F&&c.jsx(r7,{members:Te.team,clubName:Te.name,onClose:yt,isClosing:O}),c.jsxs("div",{className:"bg-slate-950 text-white",children:[c.jsxs("div",{className:"relative h-64 md:h-80 w-full",children:[c.jsx("img",{src:Te.bannerUrl,alt:`${Te.name} banner`,className:"w-full h-full object-cover"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-950 via-slate-950/70 to-transparent"})]}),c.jsx("div",{className:"container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"relative -mt-20 md:-mt-24 flex flex-col md:flex-row items-center md:items-end gap-6",children:[c.jsx("img",{src:Te.logoUrl,alt:`${Te.name} logo`,className:"w-32 h-32 md:w-48 md:h-48 rounded-2xl border-4 border-slate-800 shadow-lg object-cover"}),c.jsxs("div",{className:"text-center md:text-left pb-4",children:[c.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold",children:Te.name}),c.jsx("p",{className:"text-lg text-gray-400 mt-1",children:Te.tagline})]})]})}),c.jsx("div",{className:"container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-12",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-start",children:[c.jsxs("div",{className:"lg:col-span-1 space-y-8 lg:sticky lg:top-24",children:[c.jsxs("div",{className:"bg-slate-900 p-6 rounded-2xl border border-slate-800",children:[c.jsx("h3",{className:"text-xl font-bold mb-4",children:"About Us"}),c.jsx("p",{className:"text-gray-400 whitespace-pre-wrap",children:Te.description})]}),!$t&&c.jsxs("div",{className:"bg-slate-900 p-6 rounded-2xl border border-slate-800 text-center",children:[c.jsx("h3",{className:"text-xl font-bold mb-2",children:"Interested in Joining?"}),Ht?c.jsx("p",{className:"text-green-400 font-semibold",children:"You are a member of this club!"}):Ft?c.jsx("p",{className:"text-yellow-400 font-semibold",children:"Your application is pending."}):c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"text-gray-400 text-sm mb-4",children:Te.recruitmentOpen?"Recruitment is currently open!":"Recruitment is closed, but you can still send a joining request."}),c.jsx("button",{onClick:()=>M("applying"),className:"w-full bg-indigo-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-indigo-700 transition-colors",children:Te.recruitmentOpen?"Apply Now":"Send Request"})]})]}),c.jsxs("div",{className:"bg-slate-900 p-6 rounded-2xl border border-slate-800",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-xl font-bold",children:"Our Team"}),Te.team.length>4&&c.jsx("button",{onClick:()=>V(!0),className:"text-sm text-indigo-400 hover:underline",children:"View All"})]}),c.jsx("div",{className:"space-y-4",children:zt.map(ve=>c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("img",{src:ve.imageUrl||`https://picsum.photos/seed/${ve.name.replace(/\s+/g,"")}/200/200`,alt:ve.name,className:"w-12 h-12 rounded-full object-cover"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-white",children:ve.name}),c.jsx("p",{className:"text-sm text-indigo-400",children:ve.position})]})]},ve.id))})]})]}),c.jsx("div",{className:"lg:col-span-2",children:er?c.jsxs("div",{className:"bg-slate-900 rounded-2xl border border-slate-800",children:[c.jsxs("div",{className:"p-4 border-b border-slate-800 flex items-center gap-2",children:[c.jsxs("button",{onClick:()=>D("recruitment"),className:`px-4 py-2 rounded-lg text-sm font-semibold ${j==="recruitment"?"bg-indigo-600":"hover:bg-slate-800"}`,children:["Recruitment (",sr.length,")"]}),c.jsx("button",{onClick:()=>D("members"),className:`px-4 py-2 rounded-lg text-sm font-semibold ${j==="members"?"bg-indigo-600":"hover:bg-slate-800"}`,children:"Members"}),c.jsx("button",{onClick:()=>D("events"),className:`px-4 py-2 rounded-lg text-sm font-semibold ${j==="events"?"bg-indigo-600":"hover:bg-slate-800"}`,children:"Events"}),c.jsx("button",{onClick:()=>D("payments"),className:`px-4 py-2 rounded-lg text-sm font-semibold ${j==="payments"?"bg-indigo-600":"hover:bg-slate-800"}`,children:"Payments"}),c.jsx("button",{onClick:()=>D("settings"),className:`px-4 py-2 rounded-lg text-sm font-semibold ${j==="settings"?"bg-indigo-600":"hover:bg-slate-800"}`,children:"Settings"})]}),c.jsxs("div",{className:"p-6",children:[j==="recruitment"&&c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-xl font-bold",children:"Pending Applications"}),sr.length>0?sr.map(ve=>c.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("img",{src:ve.userImageUrl,alt:ve.userName,className:"w-10 h-10 rounded-full"}),c.jsx("p",{className:"font-semibold",children:ve.userName})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>P(ve),className:"text-xs px-3 py-1.5 rounded-md bg-slate-700 hover:bg-slate-600",children:"View"}),c.jsx("button",{onClick:()=>u(Te.id,ve,"accepted"),className:"text-xs px-3 py-1.5 rounded-md bg-green-600 hover:bg-green-700",children:"Accept"}),c.jsx("button",{onClick:()=>u(Te.id,ve,"rejected"),className:"text-xs px-3 py-1.5 rounded-md bg-red-600 hover:bg-red-700",children:"Reject"})]})]},ve.id)):c.jsx("p",{className:"text-gray-400",children:"No pending applications."})]}),j==="members"&&c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold mb-4",children:"Manage Members"}),c.jsx("div",{className:"space-y-3 max-h-72 overflow-y-auto pr-2 mb-4",children:Te.team.map(ve=>c.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg flex items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[c.jsx("p",{className:"font-semibold text-white truncate",children:ve.name}),c.jsx("input",{type:"text",value:ve.position,onChange:et=>{Ge(_t=>({..._t,team:_t.team.map(vt=>vt.id===ve.id?{...vt,position:et.target.value}:vt)}))},placeholder:"Position",className:"flex-1 min-w-0 px-2 py-1 bg-slate-700 border border-slate-600 rounded-md text-sm",disabled:!er})]}),er&&c.jsx("button",{onClick:()=>Ge(et=>({...et,team:et.team.filter(_t=>_t.id!==ve.id)})),className:"text-xs px-3 py-1.5 rounded-md bg-red-600/50 hover:bg-red-600/80 text-red-300 flex-shrink-0",children:"Remove"})]},ve.id))}),er&&c.jsxs("div",{className:"border-t border-slate-700 pt-4 mt-4",children:[c.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Add New Member"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-end",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Roll Number"}),c.jsx("input",{type:"text",value:W.rollNumber,onChange:Pe,placeholder:"Enter roll number",className:"block w-full px-3 py-2 bg-slate-800 border border-slate-600 rounded-md"}),J.length>0&&c.jsx("div",{className:"bg-slate-900 border border-slate-700 rounded-md mt-1 max-h-40 overflow-y-auto z-10 absolute",children:J.map(ve=>c.jsxs("div",{className:"px-3 py-2 hover:bg-slate-800 cursor-pointer flex items-center gap-2",onClick:()=>Me(ve),children:[c.jsx("img",{src:ve.imageUrl||`https://picsum.photos/seed/${ve.name.replace(/\s+/g,"")}/40/40`,alt:ve.name,className:"w-6 h-6 rounded-full"}),c.jsx("span",{className:"font-semibold",children:ve.name}),c.jsx("span",{className:"text-xs text-gray-400",children:ve.rollNumber})]},ve.id))}),ce&&c.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[c.jsx("img",{src:ce.imageUrl||`https://picsum.photos/seed/${ce.name.replace(/\s+/g,"")}/40/40`,alt:ce.name,className:"w-6 h-6 rounded-full"}),c.jsx("span",{className:"font-semibold",children:ce.name}),c.jsx("span",{className:"text-xs text-gray-400",children:ce.rollNumber})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Position"}),c.jsx("input",{type:"text",value:W.position,onChange:ve=>ee(et=>({...et,position:ve.target.value})),placeholder:"Position",className:"block w-full px-3 py-2 bg-slate-800 border border-slate-600 rounded-md"})]})]}),c.jsx("button",{onClick:Fe,className:"mt-4 text-sm px-4 py-2 bg-green-600 hover:bg-green-700 rounded-md font-semibold",children:"+ Add Member"})]}),er&&c.jsx("div",{className:"mt-6 flex justify-end",children:c.jsx("button",{onClick:pt,className:"px-6 py-2 bg-indigo-600 text-white font-bold rounded-lg hover:bg-indigo-700",children:"Save All Changes"})})]}),j==="events"&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-xl font-bold",children:"Manage Events"}),c.jsx("button",{onClick:()=>Q(!0),className:"px-4 py-2 text-sm font-bold bg-indigo-600 rounded-lg hover:bg-indigo-700",children:"+ New Event"})]}),c.jsx("div",{className:"space-y-4",children:e.map(ve=>{ve.status,xt.Past;const et=ve.status===xt.Upcoming||ve.status===xt.Ongoing;return c.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold",children:ve.name}),c.jsxs("p",{className:"text-xs text-gray-400",children:[ve.date," - ",x[ve.id]||0," registrations"]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>je(`/events/${ve.id}`),className:"text-xs px-3 py-1.5 rounded-md bg-slate-700 hover:bg-slate-600",children:"View"}),et&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>I(ve),className:"text-xs px-3 py-1.5 rounded-md bg-indigo-600 hover:bg-indigo-700",children:"Edit"}),c.jsx("button",{onClick:()=>bn(ve.id,ve.name),className:"text-xs px-3 py-1.5 rounded-md bg-green-600 hover:bg-green-700",children:"Download List"})]})]})]},ve.id)})})]}),j==="payments"&&c.jsx("div",{children:c.jsx(l5,{clubId:Te.id,clubName:Te.name,isAdmin:er})}),j==="settings"&&c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold mb-4",children:"Club Settings"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Logo Image"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("img",{src:Te.logoUrl,alt:"Logo",className:"w-16 h-16 rounded-lg object-cover border border-slate-700"}),c.jsx("input",{type:"file",accept:"image/*",ref:As,onChange:ve=>cs(ve,"logoUrl"),className:"block",disabled:qe}),qe&&c.jsx("span",{className:"text-xs text-indigo-400",children:"Uploading..."})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Banner Image"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("img",{src:Te.bannerUrl,alt:"Banner",className:"w-32 h-16 rounded-lg object-cover border border-slate-700"}),c.jsx("input",{type:"file",accept:"image/*",ref:En,onChange:ve=>cs(ve,"bannerUrl"),className:"block",disabled:Pt}),Pt&&c.jsx("span",{className:"text-xs text-indigo-400",children:"Uploading..."})]})]}),c.jsx(nf,{label:"Club Name",id:"clubName",value:Te.name,onChange:ve=>he("name",ve.target.value)}),c.jsx(nf,{label:"Tagline",id:"tagline",value:Te.tagline,onChange:ve=>he("tagline",ve.target.value)}),c.jsx(nf,{label:"Logo Image URL",id:"logoUrl",value:Te.logoUrl,onChange:ve=>he("logoUrl",ve.target.value)}),c.jsx(nf,{label:"Banner Image URL",id:"bannerUrl",value:Te.bannerUrl,onChange:ve=>he("bannerUrl",ve.target.value)}),c.jsx(e7,{label:"Description",id:"description",value:Te.description,onChange:ve=>he("description",ve.target.value),rows:5}),c.jsxs("div",{className:"pt-4 border-t border-slate-700",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Recruitment Status"}),c.jsx("button",{type:"button",onClick:()=>he("recruitmentOpen",!Te.recruitmentOpen),className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors ${Te.recruitmentOpen?"bg-indigo-600":"bg-slate-700"}`,children:c.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform ${Te.recruitmentOpen?"translate-x-6":"translate-x-1"}`})}),c.jsx("span",{className:"ml-3 text-sm text-gray-400",children:Te.recruitmentOpen?"Open":"Closed"})]}),c.jsx("h4",{className:"font-semibold pt-4 border-t border-slate-700",children:"Recruitment Questions"}),(Te.recruitmentQuestions||[]).map((ve,et)=>c.jsxs("div",{className:"flex gap-2 items-center",children:[c.jsx("input",{type:"text",value:ve,onChange:_t=>Ne(et,_t.target.value),className:"flex-1 block w-full px-3 py-2 bg-slate-800 border border-slate-600 rounded-md"}),c.jsx("button",{onClick:()=>nt(et),className:"p-2 bg-red-600/20 text-red-400 rounded-md",children:""})]},et)),c.jsx("button",{onClick:Be,className:"text-sm px-3 py-1.5 rounded-md bg-slate-700 hover:bg-slate-600",children:"+ Add Question"})]}),n&&c.jsx("div",{className:"mt-8 pt-6 border-t border-slate-700",children:c.jsx(o5,{currentUser:n,club:Te,contributors:a.filter(ve=>ve.role==="contributor"),onContributorUpdate:()=>{}})}),c.jsx("div",{className:"mt-6 flex justify-end",children:c.jsx("button",{onClick:pt,className:"px-6 py-2 bg-indigo-600 text-white font-bold rounded-lg hover:bg-indigo-700",children:"Save Settings"})})]})]})]}):c.jsxs("div",{children:[c.jsxs("div",{className:"flex border-b border-slate-800 mb-6",children:[c.jsx("button",{onClick:()=>T("ongoing"),className:`px-6 py-3 font-semibold ${w==="ongoing"?"text-white border-b-2 border-indigo-500":"text-gray-400"}`,children:"Upcoming"}),c.jsx("button",{onClick:()=>T("past"),className:`px-6 py-3 font-semibold ${w==="past"?"text-white border-b-2 border-indigo-500":"text-gray-400"}`,children:"Past Events"})]}),w==="ongoing"&&c.jsx(E_,{title:"",events:xr,noEventsMessage:"No upcoming events scheduled."}),w==="past"&&c.jsx(E_,{title:"",events:Tt,noEventsMessage:"No past events found."})]})})]})})]})]})},$p=({label:r,id:e,...t})=>c.jsxs("div",{children:[c.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-gray-300 mb-1",children:r}),c.jsx("input",{id:e,...t,className:"block w-full px-3 py-2 bg-slate-800 border border-slate-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),s7=[{value:"Technical",label:"Technical"},{value:"Cultural",label:"Cultural"},{value:"Sports",label:"Sports"}],i7=({isOpen:r,onClose:e,students:t,onCreateClub:n})=>{const[s,a]=U.useState(""),[l,u]=U.useState(""),[h,f]=U.useState(""),[g,x]=U.useState(""),[v,_]=U.useState(""),[S,w]=U.useState([]),[T,j]=U.useState([]),[D,L]=U.useState(void 0),[M,Z]=U.useState([]),[Q,N]=U.useState(null),[I,A]=U.useState(""),[P,F]=U.useState(null),[V,O]=U.useState(""),[$e,je]=U.useState("Technical"),Te=async()=>{const pe=await rr.getStudentByRollNumber(I);N(pe||null),pe?(F(pe),O(""),console.log(pe)):(F(null),O("Student with this roll number not found."))},Ge=()=>{s&&l&&P&&n({name:s,tagline:l,description:h,logoUrl:g,bannerUrl:v,achievements:S,team:[{id:P.id,name:P.name,position:"Admin"}],recruitmentOpen:D,recruitmentQuestions:M,category:$e},P.id)};if(!r)return null;const Se=(pe,Y)=>{var W;const se=(W=pe.target.files)==null?void 0:W[0];if(se&&se.type.startsWith("image/")){const ee=new FileReader;ee.onloadend=()=>{Y==="logo"?x(ee.result):_(ee.result)},ee.readAsDataURL(se)}else se&&alert("Please select a valid image file.")};return c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm",onClick:e,children:c.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col animate-form-enter",onClick:pe=>pe.stopPropagation(),children:[c.jsxs("div",{className:"p-6 border-b border-slate-800 flex-shrink-0",children:[c.jsx("h2",{className:"text-2xl font-bold text-white",children:"Create a New Club"}),c.jsx("p",{className:"text-sm text-gray-400",children:"Provide basic details and assign an initial admin. More details can be added by the admin later."})]}),c.jsxs("div",{className:"p-6 space-y-4 overflow-y-auto flex-1",children:[c.jsx($p,{label:"Club Name",id:"clubName",type:"text",value:s,onChange:pe=>a(pe.target.value),required:!0,placeholder:"e.g., The Photography Club"}),c.jsx($p,{label:"Club Tagline",id:"tagline",type:"text",value:l,onChange:pe=>u(pe.target.value),required:!0,placeholder:"e.g., Capturing moments, creating memories."}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Club Category"}),c.jsx("select",{value:$e,onChange:pe=>je(pe.target.value),className:"block w-full px-3 py-2 bg-slate-800 border border-slate-600 rounded-md",children:s7.map(pe=>c.jsx("option",{value:pe.value,children:pe.label},pe.value))})]}),c.jsx($p,{label:"Description",id:"description",type:"text",value:h,onChange:pe=>f(pe.target.value),placeholder:"Short description"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-center",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"logo",className:"block text-sm font-medium text-gray-300 mb-1",children:"Club Logo (Optional)"}),c.jsx("input",{id:"logo",type:"file",accept:"image/*",onChange:pe=>Se(pe,"logo"),className:"block w-full text-sm text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-slate-700 file:text-white hover:file:bg-slate-600"})]}),g&&c.jsx("img",{src:g,alt:"Logo preview",className:"w-20 h-20 rounded-full object-cover border-2 border-slate-700 justify-self-center md:justify-self-start"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"banner",className:"block text-sm font-medium text-gray-300 mb-1",children:"Club Banner (Optional)"}),c.jsx("input",{id:"banner",type:"file",accept:"image/*",onChange:pe=>Se(pe,"banner"),className:"block w-full text-sm text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-slate-700 file:text-white hover:file:bg-slate-600"}),v&&c.jsx("img",{src:v,alt:"Banner preview",className:"w-full h-20 rounded-md object-cover border-2 border-slate-700 mt-2"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Recruitment Open"}),c.jsxs("select",{value:D===void 0?"":String(D),onChange:pe=>L(pe.target.value===""?void 0:pe.target.value==="true"),className:"block w-full px-3 py-2 bg-slate-800 border border-slate-600 rounded-md",children:[c.jsx("option",{value:"",children:" Not set "}),c.jsx("option",{value:"true",children:"Yes"}),c.jsx("option",{value:"false",children:"No"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Recruitment Questions (comma separated)"}),c.jsx("input",{className:"block w-full px-3 py-2 bg-slate-800 border border-slate-600 rounded-md",value:M.join(", "),onChange:pe=>Z(pe.target.value.split(",").map(Y=>Y.trimStart()))})]}),c.jsxs("div",{className:"pt-4 border-t border-slate-800",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Assign Initial Admin"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",placeholder:"Search student by Roll Number...",value:I,onChange:pe=>A(pe.target.value),className:"flex-grow px-3 py-2 bg-slate-800 border border-slate-600 rounded-md"}),c.jsx("button",{onClick:Te,className:"px-4 py-2 bg-slate-700 rounded-md font-semibold hover:bg-slate-600",children:"Search"})]}),V&&c.jsx("p",{className:"text-red-500 text-sm mt-2",children:V}),!P&&c.jsx("p",{className:"text-amber-400 text-xs mt-2",children:"Selecting the initial admin is required to create the club."}),P&&c.jsxs("div",{className:"mt-3 p-4 bg-green-900/50 border border-green-500/30 rounded-lg animate-fade-in-content flex items-center gap-3",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-white",children:Q==null?void 0:Q.name}),c.jsxs("p",{className:"text-sm text-gray-300",children:["Roll Number: ",(Q==null?void 0:Q.rollNumber)||"N/A"]}),c.jsx("p",{className:"text-sm text-green-300",children:"Student found and selected as admin."})]})]})]})]}),c.jsxs("div",{className:"p-6 border-t border-slate-800 flex justify-end gap-3 flex-shrink-0",children:[c.jsx("button",{onClick:e,className:"px-4 py-2 bg-slate-700 rounded-md font-semibold hover:bg-slate-600",children:"Cancel"}),c.jsx("button",{onClick:Ge,disabled:!s||!l||!P,className:"px-4 py-2 bg-indigo-600 rounded-md font-semibold hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Create Club & Assign"})]})]})})},Wp=({club:r,reverse:e=!1,user:t,applications:n})=>{const a=(l=>{const u=n.find(h=>h.clubId===l&&h.userId===t.id);return console.log(u),u?u.status==="pending"?"Application Pending":u.status==="accepted"?"Application Accepted":u.status==="rejected"?"Application Rejected":null:null})(r.id);return c.jsx(rn,{to:`/clubs/${r.id}`,className:"group block cursor-pointer bg-slate-900/50 hover:bg-slate-800/60 border border-slate-800 rounded-xl overflow-hidden shadow-lg hover:shadow-indigo-500/20 transition-all duration-300 transform hover:-translate-y-1 w-full",children:c.jsxs("div",{className:`flex flex-col ${e?"md:flex-row-reverse":"md:flex-row"} items-stretch`,children:[c.jsxs("div",{className:"md:w-2/5 relative overflow-hidden",style:{minHeight:256,maxHeight:256,height:256,display:"flex",alignItems:"center",justifyContent:"center"},children:[c.jsx("img",{src:r.bannerUrl,alt:`${r.name} banner`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",style:{minHeight:256,maxHeight:256,height:256}}),c.jsx("img",{src:r.logoUrl,alt:`${r.name} logo`,className:"absolute bottom-4 left-4 w-20 h-20 rounded-full border-4 border-slate-800 shadow-lg object-cover bg-slate-900",style:{objectFit:"cover"}})]}),c.jsxs("div",{className:"md:w-3/5 p-8 text-left flex flex-col justify-center",style:{minHeight:256},children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-3xl font-extrabold text-white",children:r.name}),c.jsx("p",{className:"mt-2 text-gray-300",children:r.tagline}),c.jsx("p",{className:"mt-4 text-gray-400 text-sm line-clamp-3",children:r.description}),c.jsx("div",{className:"mt-6",children:c.jsxs("span",{className:"text-indigo-500 font-semibold group-hover:text-indigo-400 transition-colors flex items-center",children:["View Details",c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-2 transform group-hover:translate-x-1 transition-transform",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]}),c.jsx("div",{className:"mt-4",children:a?c.jsx("span",{className:a==="Application Pending"?"text-yellow-400 font-semibold":a==="Application Accepted"?"text-green-400 font-semibold":"text-red-400 font-semibold",children:a}):c.jsx("span",{className:"text-gray-400",children:"Interested in Joining?"})})]})]})})},a7=({clubs:r,user:e,allUsers:t,applications:n,onCreateClub:s})=>{const[a,l]=U.useState(!1),u=U.useMemo(()=>t.filter(x=>x.role==="student"),[t]),h=r.filter(x=>["robotics","coding","aiml"].includes(x.id)),f=r.filter(x=>["cultural"].includes(x.id)),g=r.filter(x=>!["robotics","coding","aiml","cultural"].includes(x.id));return c.jsxs("section",{className:"py-16 relative container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[c.jsx(i7,{isOpen:a,onClose:()=>l(!1),students:u,onCreateClub:(x,v)=>{s(x,v),l(!1)}}),c.jsxs("div",{className:"relative z-10",children:[c.jsxs("div",{className:"flex justify-between items-start mb-12",children:[c.jsxs("div",{className:"text-left",children:[c.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-white tracking-tighter",children:"Student Clubs"}),c.jsx("p",{className:"mt-4 max-w-2xl text-lg text-gray-400",children:"Explore our vibrant student community and find your passion. All clubs, one hub."})]}),(e==null?void 0:e.role)==="admin"&&c.jsxs("button",{onClick:()=>l(!0),className:"flex-shrink-0 bg-indigo-600 text-white font-bold py-3 px-5 rounded-lg hover:bg-indigo-700 transition-colors flex items-center gap-2",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"New Club"]})]}),g.length>0&&c.jsx("div",{className:"mb-16",children:c.jsx("div",{className:"space-y-12",children:g.map((x,v)=>c.jsx(Wp,{club:x,reverse:v%2!==0,user:e,applications:n},x.id))})}),c.jsxs("div",{className:"mb-16",children:[c.jsx("h2",{className:"text-3xl font-bold text-white mb-8 border-l-4 border-indigo-500 pl-4",children:"Technical Clubs"}),c.jsx("div",{className:"space-y-12",children:h.map((x,v)=>c.jsx(Wp,{club:x,reverse:v%2!==0,user:e,applications:n},x.id))})]}),f.length>0&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-bold text-white mb-8 border-l-4 border-pink-500 pl-4",children:"Arts & Culture"}),c.jsx("div",{className:"space-y-12",children:f.map((x,v)=>c.jsx(Wp,{club:x,reverse:v%2!==0,user:e,applications:n},x.id))})]})]})]})},ec=3,o7=({event:r,onClose:e,onSave:t})=>{var Q,N,I,A;const[n,s]=U.useState(((Q=r.highlights)==null?void 0:Q.images)||[]),[a,l]=U.useState(((N=r.highlights)==null?void 0:N.guests)||[]),[u,h]=U.useState(((I=r.highlights)==null?void 0:I.winners)||[]),[f,g]=U.useState(((A=r.highlights)==null?void 0:A.galleryDriveLink)||""),[x,v]=U.useState(!1),_=P=>{const F=P.target.files;if(!F)return;const V=Array.from(F).filter(O=>O.type.startsWith("image/"));if(n.length+V.length>ec){alert(`You can upload a maximum of ${ec} images.`);return}s(O=>[...O,...V])},S=P=>s(F=>F.filter((V,O)=>O!==P)),w=(P,F)=>{l(V=>V.map((O,$e)=>$e===P?F:O))},T=()=>l(P=>[...P,""]),j=P=>l(F=>F.filter((V,O)=>O!==P)),D=(P,F,V)=>{h(O=>O.map(($e,je)=>je===P?{...$e,[F]:V}:$e))},L=()=>h(P=>[...P,{position:"",name:"",details:""}]),M=P=>h(F=>F.filter((V,O)=>O!==P)),Z=async()=>{v(!0);const P=await Promise.all(n.map(async je=>{if(je instanceof File)try{return await u5(je,r.organizerClubId,r.id)}catch{return alert("Failed to upload image. Please try again."),null}return je}));v(!1);const F=P.filter(je=>je&&/^https?:\/\/.+/i.test(je)),V=u.filter(je=>je.position&&je.name).map(je=>({position:je.position,name:je.name,details:je.details||""})),O=a.filter(Boolean),$e={images:F,guests:O,winners:V};f&&f.trim()&&($e.galleryDriveLink=f.trim()),await t($e),e()};return c.jsxs("div",{className:"p-6 overflow-y-auto flex-1",children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Edit Event Highlights"}),c.jsxs("div",{className:"mb-6",children:[c.jsxs("h3",{className:"text-lg font-semibold text-white mb-2",children:["Gallery Images ",c.jsxs("span",{className:"text-xs text-gray-400",children:["(max ",ec,")"]})]}),c.jsx("div",{className:"flex flex-wrap gap-4 mb-2",children:n.map((P,F)=>c.jsxs("div",{className:"relative",children:[P instanceof File?c.jsx("img",{src:URL.createObjectURL(P),alt:`Highlight ${F+1}`,className:"w-32 h-20 object-cover rounded"}):c.jsx("img",{src:P,alt:`Highlight ${F+1}`,className:"w-32 h-20 object-cover rounded"}),c.jsx("button",{onClick:()=>S(F),className:"absolute top-1 right-1 bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center",title:"Remove",disabled:x,children:""})]},F))}),c.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:_,className:"block mt-2",disabled:x||n.length>=ec}),x&&c.jsx("div",{className:"text-indigo-400 text-xs mt-2",children:"Uploading images..."}),n.length>=ec&&c.jsxs("div",{className:"text-xs text-red-400 mt-1",children:["Maximum ",ec," images allowed."]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Special Guests"}),a.map((P,F)=>c.jsxs("div",{className:"flex gap-2 mb-2",children:[c.jsx("input",{type:"text",value:P,onChange:V=>w(F,V.target.value),placeholder:"Guest Name",className:"flex-1 px-3 py-2 bg-slate-800 border border-slate-600 rounded-md text-white",disabled:x}),c.jsx("button",{onClick:()=>j(F),className:"px-2 py-1 bg-red-600 text-white rounded",disabled:x,children:"Remove"})]},F)),c.jsx("button",{onClick:T,className:"mt-2 px-3 py-1 bg-indigo-600 text-white rounded",disabled:x,children:"+ Add Guest"})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Winners"}),u.map((P,F)=>c.jsxs("div",{className:"flex gap-2 mb-2",children:[c.jsx("input",{type:"text",value:P.position,onChange:V=>D(F,"position",V.target.value),placeholder:"Position",className:"w-1/4 px-3 py-2 bg-slate-800 border border-slate-600 rounded-md text-white",disabled:x}),c.jsx("input",{type:"text",value:P.name,onChange:V=>D(F,"name",V.target.value),placeholder:"Name",className:"w-1/3 px-3 py-2 bg-slate-800 border border-slate-600 rounded-md text-white",disabled:x}),c.jsx("input",{type:"text",value:P.details||"",onChange:V=>D(F,"details",V.target.value),placeholder:"Details",className:"flex-1 px-3 py-2 bg-slate-800 border border-slate-600 rounded-md text-white",disabled:x}),c.jsx("button",{onClick:()=>M(F),className:"px-2 py-1 bg-red-600 text-white rounded",disabled:x,children:"Remove"})]},F)),c.jsx("button",{onClick:L,className:"mt-2 px-3 py-1 bg-indigo-600 text-white rounded",disabled:x,children:"+ Add Winner"})]}),c.jsxs("div",{className:"mb-6",children:[c.jsxs("h3",{className:"text-lg font-semibold text-white mb-2",children:["Gallery Drive Link ",c.jsx("span",{className:"text-xs text-gray-400",children:"(optional)"})]}),c.jsx("input",{type:"text",value:f,onChange:P=>g(P.target.value),placeholder:"Google Drive Gallery Link",className:"w-full px-3 py-2 bg-slate-800 border border-slate-600 rounded-md text-white",disabled:x})]}),c.jsxs("div",{className:"flex justify-end gap-3",children:[c.jsx("button",{onClick:e,className:"px-4 py-2 bg-slate-700 text-white rounded",disabled:x,children:"Cancel"}),c.jsx("button",{onClick:Z,className:"px-4 py-2 bg-indigo-600 text-white rounded",disabled:x,children:"Save Changes"})]})]})};class l7{constructor(){this.baseUrl="https://us-central1-evnty-124fb.cloudfunctions.net"}async createPaymentOrder(e){try{const t=await fetch(`${this.baseUrl}/createRazorpayOrder`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const s=await t.text();throw new Error(`HTTP error! status: ${t.status}, message: ${s}`)}return await t.json()}catch(t){throw console.error("Razorpay payment order creation failed:",t),t}}async verifyPaymentStatus(e){try{const t=await fetch(`${this.baseUrl}/getRazorpayPaymentStatus?orderId=${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok){const s=await t.text();throw new Error(`HTTP error! status: ${t.status}, message: ${s}`)}return await t.json()}catch(t){throw console.error("Razorpay payment status verification failed:",t),t}}async handlePaymentCallback(e){try{const t=await fetch(`${this.baseUrl}/handleRazorpayCallback`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const s=await t.text();throw new Error(`HTTP error! status: ${t.status}, message: ${s}`)}return(await t.json()).success===!0}catch(t){throw console.error("Razorpay payment callback handling failed:",t),t}}createPaymentRequest(e,t,n,s="sandbox"){return{amount:e.registrationFee||0,currency:"INR",orderId:n,customerId:t.id||"unknown",customerName:t.name,customerEmail:t.email||"",customerPhone:t.mobile||"",eventId:e.id,eventName:e.name,description:`Registration for ${e.name}`,mode:s}}async initializePayment(e){return new Promise((t,n)=>{const s=document.createElement("script");s.src="https://checkout.razorpay.com/v1/checkout.js",s.onload=()=>{const a={key:e.key,amount:e.amount,currency:e.currency,name:e.name,description:e.description,order_id:e.razorpayOrderId,prefill:e.prefill,notes:e.notes,handler:function(u){t(u)},modal:{ondismiss:function(){n(new Error("Payment cancelled by user"))}}};new window.Razorpay(a).open()},s.onerror=()=>{n(new Error("Failed to load Razorpay SDK"))},document.head.appendChild(s)})}}const gf=new l7;class c7{async initiatePayment(e){try{const t=`EVENT_${e.eventId}_${Date.now()}`,n={amount:e.amount,currency:e.currency,orderId:t,customerId:e.customerId,customerName:e.customerName,customerEmail:e.customerEmail,customerPhone:e.customerPhone,eventId:e.eventId,eventName:e.eventName,description:e.description,clubId:e.clubId,subMerchantAccountId:e.subMerchantAccountId,mode:"sandbox"},s=await gf.createPaymentOrder(n);return s.success&&s.razorpayOrderId?{success:!0,paymentId:s.razorpayOrderId,paymentUrl:s.razorpayOrderId,orderId:s.orderId||t}:{success:!1,error:s.error||"Failed to initiate payment"}}catch(t){return console.error("Payment initiation failed:",t),{success:!1,error:"Failed to initiate payment. Please try again."}}}async checkPaymentStatus(e){try{return await gf.verifyPaymentStatus(e)}catch(t){throw console.error("Payment status check failed:",t),new Error("Failed to check payment status")}}async verifyPaymentCallback(e){try{return await gf.handlePaymentCallback(e)}catch(t){return console.error("Payment verification failed:",t),!1}}async getSubMerchantAccountId(e){try{const t=bt(We,"clubs",e,"paymentDetails","razorpay"),n=await is(t);return n.exists()&&n.data().linked_account_id||null}catch(t){return console.error("Error fetching sub-merchant account ID:",t),null}}async createPaymentRequest(e,t,n){const s=await this.getSubMerchantAccountId(e.organizerClubId);return{amount:e.registrationFee||0,currency:"INR",orderId:n,customerId:t.id||"unknown",customerName:t.name,customerEmail:t.email||"",customerPhone:t.mobile||"",eventId:e.id,eventName:e.name,description:`Registration for ${e.name}`,clubId:e.organizerClubId,subMerchantAccountId:s}}}const u7=new c7,d7=({event:r,user:e,registrationId:t,isOpen:n,onClose:s,onPaymentSuccess:a,onPaymentFailure:l})=>{const[u,h]=U.useState(!1),[f,g]=U.useState(null),x=U.useRef(null);U.useEffect(()=>{n&&g(null)},[n]),U.useEffect(()=>{let S=!0;return new Promise((T,j)=>{if(window.Razorpay){T(window.Razorpay);return}const D=document.createElement("script");D.src="https://checkout.razorpay.com/v1/checkout.js",D.async=!0,D.onload=()=>{window.Razorpay?T(window.Razorpay):j(new Error("Razorpay SDK failed to initialize"))},D.onerror=()=>{j(new Error("Failed to load Razorpay SDK"))},document.head.appendChild(D)}).then(T=>{S&&(console.log("Razorpay SDK loaded:",T),x.current=T)}).catch(T=>{console.error("Razorpay SDK load error:",T),S&&(x.current={open:j=>{console.log("Mock Razorpay open called with:",j),setTimeout(()=>{const D={razorpay_payment_id:"mock_payment_id_"+Date.now(),razorpay_order_id:j.order_id,razorpay_signature:"mock_signature"};j.handler&&j.handler(D)},2e3)}})}),()=>{S=!1,x.current=null}},[]);const v=async()=>{r.registrationFee;const S=t&&t.trim()?t:`EVT_${r.id}_${Date.now()}`;try{const w=await u7.createPaymentRequest(r,e,S),T=await gf.createPaymentOrder(w);if(!T.success||!T.razorpayOrderId)throw new Error(T.error||"Failed to create payment order");return T}catch(w){throw console.error("Failed to create Razorpay payment order:",w),new Error(w.message||"Razorpay backend not configured. Please implement POST /api/payments/razorpay/order to return a razorpayOrderId.")}},_=async()=>{h(!0),g(null);try{const S=await v();if(!x.current)throw new Error("Razorpay SDK not loaded. Please refresh and try again.");const w=x.current;if(console.log("Available Razorpay methods:",Object.keys(w)),S.razorpayOrderId.startsWith("order_")&&S.razorpayOrderId.includes("_test")){console.log("Using mock payment form for demo order");const T=document.getElementById("razorpay-dropin-container");if(T)T.innerHTML=`
            <div style="padding: 20px; border: 1px solid #ccc; border-radius: 8px; background: #f9f9f9; color: #333;">
              <h3 style="margin: 0 0 15px 0; color: #333;">Demo Payment Form</h3>
              <p style="margin: 5px 0;"><strong>Amount:</strong> ${r.registrationFee||1}</p>
              <p style="margin: 5px 0;"><strong>Order ID:</strong> ${S.razorpayOrderId}</p>
              <p style="margin: 5px 0 15px 0; color: #666; font-size: 14px;">This is a demo payment form. Click "Pay Now" to simulate payment success.</p>
              <button onclick="window.mockPaymentSuccess('${S.razorpayOrderId}')" 
                      style="background: #4CAF50; color: white; padding: 12px 24px; border: none; border-radius: 6px; cursor: pointer; font-size: 16px; width: 100%;">
                Pay Now (Demo)
              </button>
            </div>
          `,window.mockPaymentSuccess=j=>{h(!1),a(j)};else throw new Error("Payment container not found")}else{console.log("Using Razorpay SDK for payment");const T={key:S.key,amount:S.amount,currency:S.currency,name:S.name,description:S.description,order_id:S.razorpayOrderId,prefill:S.prefill,notes:S.notes,handler:function(j){console.log("Payment successful:",j),h(!1),a(j.razorpay_payment_id)},modal:{ondismiss:function(){console.log("Payment cancelled by user"),h(!1),l("Payment cancelled by user")}}};w.open(T)}}catch(S){console.error(S),h(!1);const w=(S==null?void 0:S.message)||"Failed to initiate payment. Please try again.";g(w),l(w)}};return n?c.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"p-6 border-b border-slate-700 flex justify-between items-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-white",children:"Payment"}),c.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white transition-colors",disabled:u,children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("p",{className:"text-gray-300 mb-2",children:"Please complete your payment to confirm your registration."}),c.jsxs("div",{className:"flex justify-between items-center bg-slate-800/50 p-4 rounded-lg",children:[c.jsx("span",{className:"text-white font-semibold",children:"Amount"}),c.jsxs("span",{className:"text-green-400 font-bold text-lg",children:["",r.registrationFee||1]})]})]}),f&&c.jsx("div",{className:"bg-red-500/20 border border-red-500/50 text-red-400 px-4 py-3 rounded-lg mb-4",children:f}),c.jsx("div",{id:"razorpay-dropin-container",className:"mb-4"}),c.jsxs("button",{onClick:_,disabled:u,className:"w-full bg-indigo-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[u&&c.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),u?"Processing...":"Pay with Razorpay"]}),c.jsx("div",{className:"text-xs text-gray-400 mt-4",children:c.jsxs("span",{children:["Mode: ","Sandbox (Test)",". A backend endpoint must return a Razorpay orderId."]})})]})]})}):null},h7=({event:r,user:e,isOpen:t,onClose:n,onRegistrationSuccess:s})=>{const[a,l]=U.useState(!1),[u,h]=U.useState(!1),[f,g]=U.useState(null),[x,v]=U.useState(""),[_,S]=U.useState(null),[w,T]=U.useState(!1),[j,D]=U.useState(null),[L,M]=U.useState(null),[Z,Q]=U.useState(""),[N,I]=U.useState(""),[A,P]=U.useState([]),[F,V]=U.useState(null);U.useEffect(()=>{t&&e&&O()},[t,e,r.id]);const O=async()=>{try{const se=await br.isUserRegistered(r.id,e.id,r.organizerClubId);if(h(se),se){const ee=(await br.getUserRegistrations(e.id,r.organizerClubId,r.id)).find(J=>J.eventId===r.id);g(ee||null)}}catch(se){console.error("Error checking registration status:",se)}},$e=async se=>{var W;se.preventDefault(),l(!0),S(null);try{if(r.registrationFee&&r.registrationFee>0){T(!0),l(!1);return}let ee;e.isGuest?ee=await br.registerGuestForEvent(r.id,r.organizerClubId,{name:e.name,email:e.email||"",phone:e.mobile||"",college:e.collegeName||"GCET",year:e.year||"1",department:e.branch||"CSE"},{name:r.name||r.title||"Untitled Event",date:r.date||"TBD",location:r.location||"TBD",registrationFee:r.registrationFee},x.trim()||void 0):ee=await br.registerForEvent(r.id,e,{name:r.name||r.title||"Untitled Event",date:r.date||"TBD",location:r.location||"TBD",registrationFee:r.registrationFee,organizerClubId:r.organizerClubId},x.trim()||void 0),h(!0),s(ee),await O()}catch(ee){if(r.registrationFee&&r.registrationFee>0&&((W=ee==null?void 0:ee.message)!=null&&W.includes("should be created after payment"))){T(!0),D(""),S(null),l(!1);return}else S("Registration failed. Please try again.");console.error("Registration failed:",ee)}finally{r.registrationFee&&r.registrationFee>0||l(!1)}},je=async()=>{l(!0),S(null);try{const se=await br.searchTeams(r.id,r.organizerClubId,N.trim());P(se.map(W=>({id:W.id,name:W.name})))}catch{S("Failed to search teams. Please try again."),P([])}finally{l(!1)}},Te=async se=>{se.preventDefault(),l(!0),S(null);try{let W=null;if(L==="create"){if(l(!0),S(null),r.registrationFee&&r.registrationFee>0){T(!0),l(!1);return}W=await br.createTeam(r.id,r.organizerClubId,Z.trim(),{userId:e.id,userName:e.name,userEmail:e.email||""})}else L==="join"&&F&&(await br.joinTeam(r.id,r.organizerClubId,F,{userId:e.id,userName:e.name,userEmail:e.email||""}),W=F);if(!W)throw new Error("No team selected or created.");const ee=await br.registerForTeamEvent(r.id,e,{name:r.name||r.title||"Untitled Event",date:r.date||"TBD",location:r.location||"TBD",registrationFee:r.registrationFee,organizerClubId:r.organizerClubId},W,x.trim()||void 0);h(!0),s(ee),await O()}catch{S("Team registration failed. Please try again.")}finally{l(!1)}},Ge=async se=>{try{const W=await br.registerForPaidEvent(r.id,e,{name:r.name||r.title||"Untitled Event",date:r.date||"TBD",location:r.location||"TBD",registrationFee:r.registrationFee,organizerClubId:r.organizerClubId},se,x.trim()||void 0);await br.storeEventPayment({registrationId:W,eventId:r.id,clubId:r.organizerClubId,userId:e.id,userName:e.name,userEmail:e.email||"",amount:r.registrationFee||0,paymentId:se}),h(!0),s(W),T(!1),D(null),await O()}catch(W){console.log(),console.error("Error updating registration after payment:",W),S("Payment successful but registration update failed. Please contact support.")}},Se=se=>{S(se),T(!1),D(null)},pe=()=>{T(!1),D(null)};if(!t)return null;const Y=r.registrationType==="team";return c.jsxs("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:[c.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsx("div",{className:"p-6 border-b border-slate-700",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-white",children:"Event Registration"}),c.jsx("p",{className:"text-gray-400 mt-1",children:r.name||r.title||"Untitled Event"})]}),c.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-colors",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),c.jsx("div",{className:"p-6",children:u?c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx("svg",{className:"w-8 h-8 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),c.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"You're Registered!"}),c.jsx("p",{className:"text-gray-400 mb-6",children:"You have successfully registered for this event. Check your email for confirmation details."}),f&&c.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg mb-6 text-left",children:[c.jsx("h4",{className:"font-semibold text-white mb-2",children:"Registration Details"}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-400",children:"Status:"}),c.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${f.status==="confirmed"?"bg-green-500/20 text-green-400":f.status==="pending"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:f.status.charAt(0).toUpperCase()+f.status.slice(1)})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-400",children:"Registration ID:"}),c.jsx("span",{className:"text-white font-mono text-xs",children:f.id})]}),f.paymentStatus&&c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-400",children:"Payment:"}),c.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${f.paymentStatus==="paid"?"bg-green-500/20 text-green-400":f.paymentStatus==="pending"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:f.paymentStatus.charAt(0).toUpperCase()+f.paymentStatus.slice(1)})]})]})]}),c.jsx("div",{className:"flex gap-3 justify-center",children:c.jsx("button",{onClick:n,className:"px-6 py-2 bg-slate-700 text-white rounded-lg hover:bg-slate-600 transition-colors",children:"Close"})})]}):c.jsx(c.Fragment,{children:Y?c.jsxs(c.Fragment,{children:[!L&&c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"How do you want to register?"}),c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx("button",{className:"bg-indigo-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-indigo-700 transition-colors",onClick:()=>M("create"),children:"Create a New Team"}),c.jsx("button",{className:"bg-slate-700 text-white font-bold py-3 px-4 rounded-lg hover:bg-slate-600 transition-colors",onClick:()=>M("join"),children:"Join an Existing Team"}),c.jsx("button",{className:"bg-slate-800 text-gray-300 font-semibold py-2 px-4 rounded-lg hover:bg-slate-700 transition-colors",onClick:n,children:"Cancel"})]})]}),L==="create"&&c.jsxs("form",{onSubmit:Te,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Team Name"}),c.jsx("input",{type:"text",value:Z,onChange:se=>Q(se.target.value),required:!0,className:"w-full px-3 py-2 bg-slate-800 border border-slate-600 rounded-md text-white",placeholder:"Enter your team name"})]}),c.jsxs("div",{className:"flex gap-3 justify-end",children:[c.jsx("button",{type:"button",onClick:()=>M(null),className:"px-6 py-2 bg-slate-700 text-white rounded-lg hover:bg-slate-600 transition-colors",children:"Back"}),c.jsx("button",{type:"submit",disabled:a||!Z,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50",children:a?"Creating...":"Create Team & Register"})]})]}),L==="join"&&c.jsxs("form",{onSubmit:Te,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Search Team"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:N,onChange:se=>I(se.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-600 rounded-md text-white",placeholder:"Enter team name"}),c.jsx("button",{type:"button",onClick:je,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Search"})]}),A.length>0&&c.jsxs("div",{className:"mt-4",children:[c.jsx("h4",{className:"text-sm font-semibold text-gray-300 mb-2",children:"Teams Found:"}),c.jsx("ul",{className:"space-y-2",children:A.map(se=>c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-white",children:se.name}),c.jsx("button",{type:"button",onClick:()=>V(se.id),className:`px-3 py-1 rounded ${F===se.id?"bg-green-600 text-white":"bg-slate-700 text-gray-200 hover:bg-slate-600"}`,children:F===se.id?"Selected":"Join"})]},se.id))})]})]}),c.jsxs("div",{className:"flex gap-3 justify-end",children:[c.jsx("button",{type:"button",onClick:()=>M(null),className:"px-6 py-2 bg-slate-700 text-white rounded-lg hover:bg-slate-600 transition-colors",children:"Back"}),c.jsx("button",{type:"submit",disabled:a||!F,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50",children:a?"Joining...":"Join Team & Register"})]})]})]}):c.jsxs("form",{onSubmit:$e,className:"space-y-6",children:[c.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg",children:[c.jsx("h3",{className:"font-semibold text-white mb-3",children:"Event Information"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"Date:"}),c.jsx("span",{className:"text-white ml-2",children:r.date||"TBD"})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"Time:"}),c.jsx("span",{className:"text-white ml-2",children:r.time||"TBD"})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"Location:"}),c.jsx("span",{className:"text-white ml-2",children:r.location||"TBD"})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"Fee:"}),c.jsx("span",{className:"text-white ml-2",children:r.registrationFee&&r.registrationFee>0?`$${r.registrationFee}`:"Free"})]})]})]}),c.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg",children:[c.jsx("h3",{className:"font-semibold text-white mb-3",children:"Your Information"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Full Name"}),c.jsx("input",{type:"text",value:e.name,readOnly:!0,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Email"}),c.jsx("input",{type:"email",value:e.email,readOnly:!0,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Phone"}),c.jsx("input",{type:"tel",value:e.mobile||"Not provided",readOnly:!0,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Roll Number"}),c.jsx("input",{type:"text",value:e.rollNumber||"Not provided",readOnly:!0,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Branch"}),c.jsx("input",{type:"text",value:e.branch||"Not provided",readOnly:!0,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Year"}),c.jsx("input",{type:"text",value:e.year||"Not provided",readOnly:!0,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"additionalInfo",className:"block text-sm font-medium text-gray-400 mb-2",children:"Additional Information (Optional)"}),c.jsx("textarea",{id:"additionalInfo",value:x,onChange:se=>v(se.target.value),rows:3,placeholder:"Any special requirements, dietary restrictions, or other information...",className:"w-full px-3 py-2 bg-slate-800 border border-slate-600 rounded-md text-white placeholder-gray-500 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),_&&c.jsx("div",{className:"bg-red-500/20 border border-red-500/50 text-red-400 px-4 py-3 rounded-lg",children:_}),c.jsxs("div",{className:"flex gap-3 justify-end",children:[c.jsx("button",{type:"button",onClick:n,className:"px-6 py-2 bg-slate-700 text-white rounded-lg hover:bg-slate-600 transition-colors",children:"Cancel"}),c.jsxs("button",{type:"submit",disabled:a,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50 flex items-center gap-2",children:[a&&c.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a?"Registering...":"Confirm Registration"]})]})]})})})]}),w&&c.jsx(d7,{event:r,user:e,registrationId:j||"",isOpen:w,onClose:pe,onPaymentSuccess:Ge,onPaymentFailure:Se})]})},f7=({event:r,isManager:e})=>{const[t,n]=U.useState({totalRegistrations:0,confirmedRegistrations:0,pendingRegistrations:0,cancelledRegistrations:0,checkedInCount:0}),[s,a]=U.useState([]),[l,u]=U.useState(!0),[h,f]=U.useState(!1);U.useEffect(()=>{e&&g()},[r.id,e]);const g=async()=>{try{u(!0);const[v,_]=await Promise.all([br.getEventRegistrationStats(r.id,r.organizerClubId),br.getEventRegistrations(r.id,r.organizerClubId)]);n(v),a(_)}catch(v){console.error("Error loading registration data:",v)}finally{u(!1)}},x=async(v,_)=>{const S=r.organizerClubId;try{const w=await R0(()=>Promise.resolve().then(()=>xT),void 0).then(L=>L.eventRegistrationService.getEventRegistrations(v,S));if(!w||w.length===0){alert("No registrations found for this event.");return}const T=w.map(L=>{var M;return{Name:L.userName,Email:L.userEmail,Phone:L.userPhone||"",RollNumber:L.userRollNumber||"",Branch:L.userBranch||"",Year:L.userYear||"",RegistrationDate:(M=L.registrationDate)!=null&&M.seconds?new Date(L.registrationDate.seconds*1e3).toLocaleString():"",Status:L.status,PaymentStatus:L.paymentStatus||"",CheckIn:L.checkInStatus==="checked_in"?"Yes":"No"}}),j=xc.json_to_sheet(T),D=xc.book_new();xc.book_append_sheet(D,j,"Registrations"),Q4(D,`${_.replace(/\s+/g,"_")}_registrations.xlsx`)}catch(w){alert("Failed to download registrations."),console.error(w)}};return e?l?c.jsx("div",{className:"bg-slate-800/50 p-6 rounded-lg border border-slate-700",children:c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-6 bg-slate-700 rounded w-1/3 mb-4"}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-2 gap-4",children:[...Array(2)].map((v,_)=>c.jsx("div",{className:"h-20 bg-slate-700 rounded"},_))})]})}):c.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-lg border border-slate-700",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-6 gap-4",children:[c.jsx("h3",{className:"text-xl font-bold text-white",children:"Registration Statistics"}),c.jsx("button",{onClick:()=>f(!h),className:"text-indigo-400 hover:text-indigo-300 text-sm font-medium",children:h?"Hide Details":"Show Details"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[c.jsxs("div",{className:"bg-gradient-to-br from-indigo-500/30 via-indigo-600/20 to-indigo-900/20 p-6 rounded-2xl shadow-lg flex flex-col items-center justify-center text-center hover:scale-105 transition-transform duration-300",children:[c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("span",{className:"text-4xl font-extrabold text-indigo-400",children:t.totalRegistrations})}),c.jsx("div",{className:"text-sm text-gray-300 mt-2 tracking-wide",children:"Total Registrations"})]}),c.jsxs("button",{onClick:()=>x(r.id,r.name),className:"flex flex-col items-center justify-center p-6 rounded-2xl shadow-lg bg-gradient-to-br from-green-500/30 via-green-600/20 to-green-900/20 hover:from-green-500 hover:to-green-700 transition-all duration-300",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-8 h-8 text-green-400 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v2a2 2 0 002 2h12a2 2 0 002-2v-2M7 10l5 5m0 0l5-5m-5 5V4"})}),c.jsx("h1",{className:"text-sm font-semibold text-gray-200",children:"Download List"})]})]}),h&&c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"text-lg font-semibold text-white",children:"Registration Details"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-slate-700",children:[c.jsx("th",{className:"text-left py-2 text-gray-400",children:"Name"}),c.jsx("th",{className:"text-left py-2 text-gray-400",children:"Email"})]})}),c.jsx("tbody",{children:s.map(v=>c.jsxs("tr",{className:"border-b border-slate-800 hover:bg-slate-900/30 transition",children:[c.jsx("td",{className:"py-2 text-white",children:v.userName}),c.jsx("td",{className:"py-2 text-gray-400",children:v.userEmail})]},v.id))})]})})]})]}):null},m7=({event:r,user:e,onRegistrationUpdate:t})=>{var v;const[n,s]=U.useState(null),[a,l]=U.useState(!0);U.useEffect(()=>{e&&r?u():l(!1)},[e,r.id]);const u=async()=>{try{if(l(!0),await br.isUserRegistered(r.id,e.id,r.organizerClubId)){const w=(await br.getUserRegistrations(e.id,r.organizerClubId,r.id)).find(T=>T.eventId===r.id);s(w||null)}else s(null)}catch(_){console.error("Error checking registration status:",_)}finally{l(!1)}};if(!e||a||!n)return null;const f=(_=>{switch(_){case"confirmed":return{bgColor:"bg-green-500/10",borderColor:"border-green-500/30",textColor:"text-green-400",icon:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),title:"Registration Confirmed!",message:"You are successfully registered for this event. Check your email for confirmation details."};case"pending":return{bgColor:"bg-yellow-500/10",borderColor:"border-yellow-500/30",textColor:"text-yellow-400",icon:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),title:"Registration Pending",message:"Your registration is being reviewed. You will be notified once it's confirmed."};case"cancelled":return{bgColor:"bg-red-500/10",borderColor:"border-red-500/30",textColor:"text-red-400",icon:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),title:"Registration Cancelled",message:"Your registration for this event has been cancelled."};default:return{bgColor:"bg-gray-500/10",borderColor:"border-gray-500/30",textColor:"text-gray-400",icon:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),title:"Registration Status",message:"Your registration status is being processed."}}})(n.status),g=r.whatsappLink,x=r.registrationFee===0||r.registrationFee===null||r.registrationFee===void 0;return c.jsx("div",{className:`${f.bgColor} ${f.borderColor} border rounded-lg p-4 mb-6`,children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:`flex-shrink-0 ${f.textColor}`,children:f.icon}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:`text-lg font-semibold ${f.textColor} mb-1`,children:f.title}),c.jsx("p",{className:"text-gray-300 text-sm mb-3",children:f.message}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"Registration ID:"}),c.jsx("span",{className:"text-white ml-2 font-mono text-xs",children:((v=n.id)==null?void 0:v.slice(-8))||"N/A"})]}),n.status==="confirmed"?c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"Status:"}),c.jsx("span",{className:"ml-2 px-2 py-1 rounded text-xs font-medium bg-green-500/20 text-green-400",children:"Confirmed"})]}):c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"Status:"}),c.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs font-medium ${n.status==="pending"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:n.status.charAt(0).toUpperCase()+n.status.slice(1)})]}),n.paymentStatus&&!x&&c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"Payment:"}),c.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs font-medium ${n.paymentStatus==="paid"?"bg-green-500/20 text-green-400":n.paymentStatus==="pending"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:n.paymentStatus.charAt(0).toUpperCase()+n.paymentStatus.slice(1)})]})]}),n.additionalInfo&&c.jsxs("div",{className:"mt-3 p-3 bg-black/20 rounded",children:[c.jsx("span",{className:"text-gray-400 text-sm",children:"Additional Information:"}),c.jsx("p",{className:"text-white text-sm mt-1",children:n.additionalInfo})]}),c.jsx("div",{className:"mt-4 flex gap-3",children:n.status==="confirmed"&&g&&c.jsx("a",{href:g,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:"Join WhatsApp Group"})})]})]})})};class p7{constructor(){this.accountsCollection="phonepeAccounts",this.configurationsCollection="paymentConfigurations"}async createOrUpdateAccount(e){try{const t=this.cleanUndefinedValues(e),n=await this.getAccountByUserAndClub(e.userId,e.clubId);if(n){const s=bt(We,this.accountsCollection,n.id);return await Kr(s,{...t,updatedAt:tn()}),n.id}else{const s={...t,createdAt:tn(),updatedAt:tn()};return(await bs(ht(We,this.accountsCollection),s)).id}}catch(t){throw console.error("Error creating/updating PhonePe account:",t),t}}cleanUndefinedValues(e){const t={};for(const n in e)if(e[n]!==void 0)if(typeof e[n]=="object"&&e[n]!==null&&!Array.isArray(e[n])){const s=this.cleanUndefinedValues(e[n]);Object.keys(s).length>0&&(t[n]=s)}else t[n]=e[n];return t}async getAccountByUserAndClub(e,t){try{const n=_r(ht(We,this.accountsCollection),Er("userId","==",e),Er("clubId","==",t),Er("isActive","==",!0)),s=await or(n);if(s.empty)return null;const a=s.docs[0];return{id:a.id,...a.data()}}catch(n){return console.error("Error getting PhonePe account:",n),null}}async getUserAccounts(e){try{const t=_r(ht(We,this.accountsCollection),Er("userId","==",e),Er("isActive","==",!0));return(await or(t)).docs.map(s=>({id:s.id,...s.data()}))}catch(t){return console.error("Error getting user accounts:",t),[]}}async getClubAccounts(e){try{const t=_r(ht(We,this.accountsCollection),Er("clubId","==",e),Er("isActive","==",!0));return(await or(t)).docs.map(s=>({id:s.id,...s.data()}))}catch(t){return console.error("Error getting club accounts:",t),[]}}async getAccountById(e){try{const t=_r(ht(We,this.accountsCollection),Er("__name__","==",e)),n=await or(t);if(n.empty)return null;const s=n.docs[0];return{id:s.id,...s.data()}}catch(t){return console.error("Error getting account by ID:",t),null}}async deactivateAccount(e){try{const t=bt(We,this.accountsCollection,e);await Kr(t,{isActive:!1,updatedAt:tn()})}catch(t){throw console.error("Error deactivating account:",t),t}}async configureEventPayment(e){try{const t={...e,createdAt:tn(),updatedAt:tn()};return(await bs(ht(We,this.configurationsCollection),t)).id}catch(t){throw console.error("Error configuring event payment:",t),t}}async getEventPaymentConfig(e){try{const t=_r(ht(We,this.configurationsCollection),Er("eventId","==",e),Er("isEnabled","==",!0)),n=await or(t);if(n.empty)return null;const s=n.docs[0];return{id:s.id,...s.data()}}catch(t){return console.error("Error getting event payment config:",t),null}}async updatePaymentConfig(e,t){try{const n=bt(We,this.configurationsCollection,e);await Kr(n,{...t,updatedAt:tn()})}catch(n){throw console.error("Error updating payment config:",n),n}}async getAccountPaymentStats(e){try{return{totalEvents:0,totalRevenue:0,successfulPayments:0,failedPayments:0,pendingPayments:0}}catch(t){return console.error("Error getting payment stats:",t),{totalEvents:0,totalRevenue:0,successfulPayments:0,failedPayments:0,pendingPayments:0}}}async validateAccountCredentials(e,t,n){try{return!0}catch(s){return console.error("Error validating credentials:",s),!1}}}const lc=new p7;class g7{constructor(){this.collectionName="paymentConfigurations"}async createPaymentConfig(e){try{const n={...this.cleanUndefinedValues(e),createdAt:tn(),updatedAt:tn()};return(await bs(ht(We,this.collectionName),n)).id}catch(t){throw console.error("Error creating payment config:",t),t}}async getEventPaymentConfig(e){try{const t=_r(ht(We,this.collectionName),Er("eventId","==",e)),n=await or(t);if(n.empty)return null;const s=n.docs[0];return{id:s.id,...s.data()}}catch(t){return console.error("Error getting event payment config:",t),null}}async updatePaymentConfig(e,t){try{const n=bt(We,this.collectionName,e),s=this.cleanUndefinedValues(t);await Kr(n,{...s,updatedAt:tn()})}catch(n){throw console.error("Error updating payment config:",n),n}}async deletePaymentConfig(e){try{const t=bt(We,this.collectionName,e);await Px(t)}catch(t){throw console.error("Error deleting payment config:",t),t}}async getOrganizerPaymentConfigs(e){try{const t=_r(ht(We,this.collectionName),Er("organizerId","==",e),Er("isEnabled","==",!0));return(await or(t)).docs.map(s=>({id:s.id,...s.data()}))}catch(t){return console.error("Error getting organizer payment configs:",t),[]}}async getClubPaymentConfigs(e){try{const t=_r(ht(We,this.collectionName),Er("clubId","==",e),Er("isEnabled","==",!0));return(await or(t)).docs.map(s=>({id:s.id,...s.data()}))}catch(t){return console.error("Error getting club payment configs:",t),[]}}cleanUndefinedValues(e){const t={};for(const n in e)if(e[n]!==void 0)if(typeof e[n]=="object"&&e[n]!==null&&!Array.isArray(e[n])){const s=this.cleanUndefinedValues(e[n]);Object.keys(s).length>0&&(t[n]=s)}else t[n]=e[n];return t}}const sf=new g7,x7=({event:r,user:e,clubs:t,onConfigUpdate:n})=>{var Z;const[s,a]=U.useState([]),[l,u]=U.useState(null),[h,f]=U.useState(!1),[g,x]=U.useState(!1),[v,_]=U.useState(null),[S,w]=U.useState(null),[T,j]=U.useState({phonePeAccountId:"",isEnabled:!0,customFee:r.registrationFee||0,paymentDescription:`Registration for ${r.name}`,refundPolicy:"",paymentDeadline:"",specialInstructions:""});U.useEffect(()=>{D()},[r.id,e.id]);const D=async()=>{f(!0);try{const Q=await lc.getUserAccounts(e.id);a(Q);const N=await sf.getEventPaymentConfig(r.id);u(N),N&&j({phonePeAccountId:N.phonePeAccountId,isEnabled:N.isEnabled,customFee:N.customFee||r.registrationFee||0,paymentDescription:N.paymentDescription||`Registration for ${r.name}`,refundPolicy:N.refundPolicy||"",paymentDeadline:N.paymentDeadline||"",specialInstructions:N.specialInstructions||""})}catch(Q){console.error("Error loading payment config:",Q),_("Failed to load payment configuration")}finally{f(!1)}},L=async Q=>{Q.preventDefault(),f(!0),_(null),w(null);try{if(!T.phonePeAccountId)throw new Error("Please select a PhonePe account");const N={eventId:r.id,phonePeAccountId:T.phonePeAccountId,isEnabled:T.isEnabled,customFee:T.customFee,paymentDescription:T.paymentDescription,refundPolicy:T.refundPolicy||void 0,paymentDeadline:T.paymentDeadline||void 0,specialInstructions:T.specialInstructions||void 0,organizerId:e.id,clubId:r.organizerClubId};l?(await sf.updatePaymentConfig(l.id,N),w("Payment configuration updated successfully!")):(await sf.createPaymentConfig(N),w("Payment configuration created successfully!")),x(!1),D(),n==null||n()}catch(N){console.error("Error saving payment config:",N),_(N.message||"Failed to save payment configuration")}finally{f(!1)}},M=async()=>{if(!(!l||!window.confirm("Are you sure you want to delete this payment configuration?")))try{await sf.deletePaymentConfig(l.id),w("Payment configuration deleted successfully!"),u(null),j({phonePeAccountId:"",isEnabled:!0,customFee:r.registrationFee||0,paymentDescription:`Registration for ${r.name}`,refundPolicy:"",paymentDeadline:"",specialInstructions:""}),n==null||n()}catch(Q){console.error("Error deleting payment config:",Q),_("Failed to delete payment configuration")}};return h?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"animate-spin h-8 w-8 border-2 border-indigo-500 border-t-transparent rounded-full mx-auto"}),c.jsx("p",{className:"text-gray-400 mt-2",children:"Loading payment configuration..."})]}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-white",children:"Event Payment Configuration"}),c.jsxs("p",{className:"text-gray-400 mt-1",children:["Configure payment settings for ",r.name]})]}),c.jsx("button",{onClick:()=>x(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:l?"Edit Configuration":"Configure Payment"})]}),S&&c.jsx("div",{className:"bg-green-500/20 border border-green-500/50 text-green-400 px-4 py-3 rounded-lg",children:S}),v&&c.jsx("div",{className:"bg-red-500/20 border border-red-500/50 text-red-400 px-4 py-3 rounded-lg",children:v}),l&&!g&&c.jsxs("div",{className:"bg-slate-800 rounded-lg p-6",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-white",children:"Current Configuration"}),c.jsx("p",{className:"text-gray-400",children:"Payment settings for this event"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>x(!0),className:"px-3 py-1 bg-slate-700 text-white rounded hover:bg-slate-600 transition-colors text-sm",children:"Edit"}),c.jsx("button",{onClick:M,className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm",children:"Delete"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"Status:"}),c.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs font-medium ${l.isEnabled?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:l.isEnabled?"Enabled":"Disabled"})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"Registration Fee:"}),c.jsxs("span",{className:"text-white ml-2",children:["",l.customFee]})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"PhonePe Account:"}),c.jsx("span",{className:"text-white ml-2",children:((Z=s.find(Q=>Q.id===l.phonePeAccountId))==null?void 0:Z.accountName)||"Unknown"})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"Payment Description:"}),c.jsx("span",{className:"text-white ml-2",children:l.paymentDescription})]})]}),l.refundPolicy&&c.jsxs("div",{className:"mt-4",children:[c.jsx("span",{className:"text-gray-400",children:"Refund Policy:"}),c.jsx("p",{className:"text-white mt-1",children:l.refundPolicy})]}),l.paymentDeadline&&c.jsxs("div",{className:"mt-4",children:[c.jsx("span",{className:"text-gray-400",children:"Payment Deadline:"}),c.jsx("p",{className:"text-white mt-1",children:l.paymentDeadline})]}),l.specialInstructions&&c.jsxs("div",{className:"mt-4",children:[c.jsx("span",{className:"text-gray-400",children:"Special Instructions:"}),c.jsx("p",{className:"text-white mt-1",children:l.specialInstructions})]})]}),!l&&!g&&c.jsxs("div",{className:"text-center py-8 bg-slate-800/50 rounded-lg",children:[c.jsx("div",{className:"w-16 h-16 bg-gray-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),c.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"No Payment Configuration"}),c.jsx("p",{className:"text-gray-400 mb-4",children:"This event doesn't have payment configuration yet."}),c.jsx("button",{onClick:()=>x(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Configure Payment"})]}),g&&c.jsxs("div",{className:"bg-slate-800 rounded-lg p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:l?"Edit Payment Configuration":"Create Payment Configuration"}),c.jsxs("form",{onSubmit:L,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:["PhonePe Account ",c.jsx("span",{className:"text-red-400",children:"*"})]}),c.jsxs("select",{value:T.phonePeAccountId,onChange:Q=>j({...T,phonePeAccountId:Q.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0,children:[c.jsx("option",{value:"",children:"Select a PhonePe account"}),s.map(Q=>c.jsxs("option",{value:Q.id,children:[Q.accountName," (",Q.environment,")"]},Q.id))]})]}),c.jsx("div",{className:"flex items-center",children:c.jsxs("label",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"checkbox",checked:T.isEnabled,onChange:Q=>j({...T,isEnabled:Q.target.checked}),className:"h-4 w-4 rounded bg-slate-700 border-slate-500 text-indigo-600 focus:ring-indigo-500"}),c.jsx("span",{className:"text-white",children:"Enable payment for this event"})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Registration Fee ()"}),c.jsx("input",{type:"number",value:T.customFee,onChange:Q=>j({...T,customFee:parseFloat(Q.target.value)||0}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",min:"0",step:"0.01"}),c.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Event default: ",r.registrationFee||0]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Payment Description"}),c.jsx("input",{type:"text",value:T.paymentDescription,onChange:Q=>j({...T,paymentDescription:Q.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., Registration for Code-a-thon 2024"})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Refund Policy (Optional)"}),c.jsx("textarea",{value:T.refundPolicy,onChange:Q=>j({...T,refundPolicy:Q.target.value}),rows:3,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., Full refund if cancelled 24 hours before event"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Payment Deadline (Optional)"}),c.jsx("input",{type:"datetime-local",value:T.paymentDeadline,onChange:Q=>j({...T,paymentDeadline:Q.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Special Instructions (Optional)"}),c.jsx("textarea",{value:T.specialInstructions,onChange:Q=>j({...T,specialInstructions:Q.target.value}),rows:2,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., Payment includes lunch and t-shirt"})]})]}),c.jsxs("div",{className:"flex gap-3 justify-end",children:[c.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-6 py-2 bg-slate-700 text-white rounded-lg hover:bg-slate-600 transition-colors",children:"Cancel"}),c.jsxs("button",{type:"submit",disabled:h,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50 flex items-center gap-2",children:[h&&c.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),h?"Saving...":l?"Update Configuration":"Create Configuration"]})]})]})]})]})},v7={[xt.Upcoming]:"bg-green-500/10 text-green-400",[xt.Ongoing]:"bg-blue-500/10 text-blue-400",[xt.Past]:"bg-gray-500/10 text-gray-400"},y7=({event:r,clubs:e,user:t,registeredEventIds:n,onRegister:s,onUpdateEventHighlights:a,onUpdateEvent:l,onRegistrationUpdate:u})=>{var O,$e,je,Te,Ge,Se;const h=e.find(pe=>pe.id===r.organizerClubId),f=n.includes(r.id),g=(O=h==null?void 0:h.team)==null?void 0:O.find(pe=>{var Y;return((Y=pe.position)==null?void 0:Y.toLowerCase())==="admin"}),x=t&&g&&g.id===t.id,v=(t==null?void 0:t.role)==="contributor"&&(($e=t.managedClubIds)==null?void 0:$e.includes(r.organizerClubId)),_=(t==null?void 0:t.position)==="admin";console.log(t.role);const[S,w]=U.useState(!1),[T,j]=U.useState(!1),[D,L]=U.useState(!1),[M,Z]=U.useState(!1),[Q,N]=U.useState(null),I=_&&r.status!==xt.Past,A=async pe=>{if(console.log("yeaa"),pe.preventDefault(),!!t){Z(!0);try{await br.isUserRegistered(r.id,t.id)?u==null||u():L(!0)}catch(Y){console.error("Error checking registration status:",Y),N({message:"Error checking registration status. Please try again.",type:"error"})}finally{Z(!1)}}},P=pe=>{s(r.id),u==null||u(),L(!1)},F=async pe=>{function Y(se){if(Array.isArray(se))return se.filter(Boolean).map(Y);if(se&&typeof se=="object"){const W={};for(const ee in se){const J=se[ee];J!=null&&!(typeof J=="string"&&J.trim()==="")&&!(Array.isArray(J)&&J.length===0)&&(W[ee]=Y(J))}return W}return se}try{const{firestoreDataService:se}=await R0(async()=>{const{firestoreDataService:W}=await Promise.resolve().then(()=>TD);return{firestoreDataService:W}},void 0);await se.updateClubEvent(r.organizerClubId,r.id,{highlights:Y(pe)}),l({...r,highlights:Y(pe)}),w(!1)}catch(se){console.error("Failed to save highlights:",se),alert("Failed to save highlights. Please try again.")}},V=pe=>{l(pe),j(!1)};return c.jsxs(c.Fragment,{children:[S&&c.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:c.jsx("div",{className:"bg-slate-900 border border-slate-700 rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] flex flex-col",children:c.jsx(o7,{event:r,onClose:()=>w(!1),onSave:F})})}),T&&c.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:c.jsx("div",{className:"bg-slate-900 border border-slate-700 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] flex flex-col",children:c.jsx(bg,{clubId:r.organizerClubId,eventToEdit:r,onUpdateEvent:V,onClose:()=>j(!1)})})}),c.jsx("div",{className:"container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"bg-[#1D2434] rounded-lg shadow-xl overflow-hidden my-16",children:[c.jsxs("div",{className:"relative",children:[c.jsx("img",{className:"h-80 w-full object-cover",src:r.imageUrl,alt:r.name||r.title||"Event"}),c.jsx("div",{className:"absolute inset-0 bg-black/50"})]}),c.jsxs("div",{className:"p-8 md:p-12",children:[c.jsxs("div",{className:"relative -mt-24",children:[t&&c.jsx(m7,{event:r,user:t,onRegistrationUpdate:u}),c.jsxs("div",{className:"flex justify-between items-start flex-wrap gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-white",children:r.name||r.title||"Untitled Event"}),h&&c.jsxs(rn,{to:`/clubs/${h.id}`,className:"text-lg text-indigo-400 hover:underline mt-1",children:["Organized by ",h.name]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[I&&c.jsx("button",{onClick:()=>j(!0),className:"bg-indigo-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-indigo-700 transition-colors",children:"Edit Event"}),c.jsx("span",{className:`inline-flex items-center px-4 py-2 rounded-full text-md font-semibold ${v7[r.status]} flex-shrink-0`,children:r.status})]})]})]}),c.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-6 text-gray-300 border-y border-gray-800 py-6",children:[c.jsxs("div",{className:"flex items-start",children:[c.jsx("svg",{className:"h-6 w-6 mr-3 text-indigo-400 flex-shrink-0",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),c.jsxs("div",{children:[c.jsx("strong",{children:"Date & Time:"})," ",r.date," at ",r.time]})]}),c.jsxs("div",{className:"flex items-start",children:[c.jsxs("svg",{className:"h-6 w-6 mr-3 text-indigo-400 flex-shrink-0",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Venue:"})," ",r.location]})]}),c.jsxs("div",{className:"flex items-start",children:[c.jsx("svg",{className:"h-6 w-6 mr-3 text-indigo-400 flex-shrink-0",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),c.jsxs("div",{children:[c.jsx("strong",{children:"Fee:"})," ",r.registrationFee&&r.registrationFee>0?`$${r.registrationFee}`:"Free"]})]})]}),c.jsx("div",{className:"mt-8",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[c.jsxs("div",{className:"lg:col-span-2",children:[c.jsx("h2",{className:"text-2xl font-bold text-white",children:"About the Event"}),c.jsx("p",{className:"mt-4 text-gray-400 whitespace-pre-wrap",children:r.description}),r.rules.length>0&&c.jsxs(c.Fragment,{children:[c.jsx("h3",{className:"text-xl font-bold text-white mt-6",children:"Rules & Prerequisites"}),c.jsx("ul",{className:"mt-4 list-disc list-inside space-y-2 text-gray-400",children:r.rules.map((pe,Y)=>c.jsx("li",{children:pe},Y))})]}),(je=r.customSections)==null?void 0:je.map((pe,Y)=>c.jsxs("div",{className:"mt-6",children:[c.jsx("h3",{className:"text-xl font-bold text-white",children:pe.title}),c.jsx("p",{className:"mt-2 text-gray-400 whitespace-pre-wrap",children:pe.content})]},Y)),r.specialGuests&&r.specialGuests.length>0&&c.jsxs(c.Fragment,{children:[c.jsx("h3",{className:"text-xl font-bold text-white mt-6",children:"Special Guests"}),c.jsx("ul",{className:"mt-4 list-disc list-inside space-y-2 text-gray-400",children:r.specialGuests.map((pe,Y)=>c.jsx("li",{children:pe},Y))})]})]}),r.status!==xt.Past&&!v&&c.jsx("div",{className:"bg-gray-900/50 p-6 rounded-lg border border-gray-800",children:f?c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx("svg",{className:"w-8 h-8 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),c.jsx("h2",{className:"text-2xl font-bold text-white",children:" Already Registered!"}),c.jsx("p",{className:"mt-4 text-gray-300",children:"You have successfully registered for this event. Check the status banner above for more details."}),c.jsx("div",{className:"mt-6 flex gap-3 justify-center",children:c.jsx("button",{onClick:()=>L(!0),className:"bg-slate-700 text-white font-semibold py-2 px-4 rounded-lg hover:bg-slate-600 transition-colors",children:"View Details"})})]}):c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-white",children:"Register Now"}),c.jsx("p",{className:"text-gray-400 mt-2 text-sm mb-6",children:"Complete your registration with pre-filled profile information."}),c.jsxs("button",{onClick:A,disabled:M,className:"w-full bg-indigo-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-indigo-700 transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[M&&c.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),M?"Checking...":"Register for Event"]})]})}),(t==null?void 0:t.role)==="contributor"&&v&&c.jsxs("div",{className:"bg-gray-900/50 p-6 rounded-lg border border-gray-800",children:[c.jsx("h3",{className:"text-lg font-semibold text-white",children:"Event Details"}),c.jsx("p",{className:"text-gray-400 mt-2",children:"You are already a member of the event."})]}),I&&r.registrationFee&&r.registrationFee>0&&c.jsx("div",{className:"mt-8",children:c.jsx(x7,{event:r,user:t,clubs:e,onConfigUpdate:u})}),x&&c.jsx("div",{className:"mt-8",children:c.jsx(f7,{event:r,isManager:!0})})]})}),r.status===xt.Past&&c.jsxs("div",{className:"mt-12",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsx("h2",{className:"text-3xl font-bold text-white border-l-4 border-indigo-500 pl-4",children:"Event Highlights"}),v&&c.jsx("button",{onClick:()=>w(!0),className:"bg-indigo-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-indigo-700 transition-colors",children:"Add/Edit Highlights"})]}),r.highlights?c.jsxs(c.Fragment,{children:[((Te=r.highlights.images)==null?void 0:Te.length)>0&&c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-xl font-bold text-white",children:"Gallery"}),r.highlights.galleryDriveLink&&c.jsxs("a",{href:r.highlights.galleryDriveLink,target:"_blank",rel:"noopener noreferrer",className:"bg-slate-700 text-white font-semibold py-2 px-4 rounded-lg hover:bg-slate-600 transition-colors flex items-center gap-2 text-sm",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),"View More"]})]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:r.highlights.images.map((pe,Y)=>c.jsx("img",{src:pe,alt:`Highlight ${Y+1}`,className:"rounded-lg object-cover w-full h-48 hover:scale-105 transition-transform duration-300"},Y))})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[((Ge=r.highlights.guests)==null?void 0:Ge.length)>0&&c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Special Guests"}),c.jsx("ul",{className:"list-disc list-inside space-y-2 text-gray-400",children:r.highlights.guests.map((pe,Y)=>c.jsx("li",{children:pe},Y))})]}),((Se=r.highlights.winners)==null?void 0:Se.length)>0&&c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Winners"}),c.jsx("div",{className:"space-y-3",children:r.highlights.winners.map((pe,Y)=>c.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-md",children:[c.jsxs("p",{className:"font-bold text-indigo-400",children:[pe.position,": ",c.jsx("span",{className:"text-white",children:pe.name})]}),pe.details&&c.jsx("p",{className:"text-sm text-gray-400",children:pe.details})]},Y))})]})]})]}):c.jsx("div",{className:"text-center bg-slate-900 p-8 rounded-lg",children:c.jsx("p",{className:"text-gray-400",children:"No highlights have been added for this event yet."})})]})]})]})}),t&&c.jsx(h7,{event:r,user:t,isOpen:D,onClose:()=>L(!1),onRegistrationSuccess:P})]})},w7=({externalEvents:r})=>c.jsxs("section",{className:"container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-16",children:[c.jsx(Pn,{title:"External Opportunities",subtitle:"Explore major hackathons, national-level tech fests, internships, and workshops from other top institutions."}),c.jsx("div",{className:"space-y-6",children:r.map(e=>c.jsxs("div",{className:"bg-slate-900 p-6 rounded-lg shadow-md border border-slate-800 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 hover:border-indigo-500/50 transition-colors",children:[c.jsxs("div",{children:[c.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-800 text-gray-300",children:e.category}),c.jsx("h3",{className:"mt-2 text-xl font-bold text-white",children:e.name}),c.jsx("p",{className:"text-sm font-medium text-indigo-400",children:e.organizer}),c.jsx("p",{className:"mt-2 text-gray-400",children:e.description})]}),c.jsx("div",{className:"flex-shrink-0 mt-4 sm:mt-0",children:c.jsx("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-indigo-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-indigo-700 transition-colors duration-300",children:"Visit Site"})})]},e.id))})]}),tS=({label:r,id:e,...t})=>{const[n,s]=U.useState(!1);return c.jsxs("div",{children:[c.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-gray-400",children:r}),c.jsxs("div",{className:"relative mt-1",children:[c.jsx("input",{id:e,...t,type:n?"text":"password",className:"block w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-shadow pr-10"}),c.jsx("button",{type:"button",onClick:()=>s(!n),className:"absolute inset-y-0 right-0 px-3 flex items-center text-gray-500 hover:text-gray-300","aria-label":n?"Hide password":"Show password",children:n?c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a9.97 9.97 0 01-1.563 3.029m0 0l-2.14 2.14"})}):c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.522 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]})},_7=({isOpen:r,onClose:e})=>{const[t,n]=U.useState(""),[s,a]=U.useState(!1),[l,u]=U.useState(""),[h,f]=U.useState(""),g=async v=>{if(v.preventDefault(),a(!0),f(""),u(""),!/^[a-z0-9._%+-]+@gcet\.edu\.in$/i.test(t)){f("Only GCET college email addresses are allowed."),a(!1);return}try{await sE($n,t),u("Password reset email sent! Please check your inbox and follow the instructions."),n("")}catch(S){console.error("Password reset error:",S),f(S.message||"Failed to send password reset email. Please try again.")}finally{a(!1)}},x=()=>{n(""),f(""),u(""),e()};return r?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-slate-800 rounded-lg shadow-xl max-w-md w-full p-6 border border-slate-700",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-white",children:"Forgot Password"}),c.jsx("button",{onClick:x,className:"text-gray-400 hover:text-white transition-colors",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("form",{onSubmit:g,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),c.jsx("input",{type:"email",value:t,onChange:v=>n(v.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter your email address",required:!0})]}),h&&c.jsx("div",{className:"bg-red-500/20 border border-red-500/50 text-red-400 px-4 py-3 rounded",children:h}),l&&c.jsx("div",{className:"bg-green-500/20 border border-green-500/50 text-green-400 px-4 py-3 rounded",children:l}),c.jsxs("div",{className:"flex space-x-3 pt-4",children:[c.jsx("button",{type:"button",onClick:x,className:"flex-1 px-4 py-2 border border-slate-600 rounded-md text-gray-300 hover:bg-slate-700 transition-colors",children:"Cancel"}),c.jsx("button",{type:"submit",disabled:s||!t,className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?"Sending...":"Send Reset Email"})]})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsxs("p",{className:"text-sm text-gray-400",children:["Remember your password?"," ",c.jsx("button",{onClick:x,className:"text-indigo-400 hover:text-indigo-300 transition-colors",children:"Sign in instead"})]})})]})}):null};class E7{async generateOTP(e,t){try{return(await Pp(jp,"generateOTP")({email:e,userData:t})).data}catch(n){throw console.error("Error generating OTP:",n),new Error(n.message||"Failed to generate OTP")}}async verifyOTP(e,t){try{return(await Pp(jp,"verifyOTP")({email:e,otp:t})).data}catch(n){throw console.error("Error verifying OTP:",n),new Error(n.message||"Failed to verify OTP")}}async resendOTP(e,t){try{return(await Pp(jp,"resendOTP")({email:e,userData:t})).data}catch(n){throw console.error("Error resending OTP:",n),new Error(n.message||"Failed to resend OTP")}}}const rS=new E7,b7=({isOpen:r,onClose:e,email:t,onVerificationSuccess:n,mode:s,actionCode:a,password:l})=>{const[u,h]=U.useState(["","","","","",""]),[f,g]=U.useState(!1),[x,v]=U.useState(""),[_,S]=U.useState(""),[w,T]=U.useState(!1),[j,D]=U.useState(0),L=U.useRef([]);U.useEffect(()=>{r&&(h(["","","","","",""]),v(""),S(""),D(0))},[r]),U.useEffect(()=>{if(j>0){const P=setTimeout(()=>D(j-1),1e3);return()=>clearTimeout(P)}},[j]);const M=(P,F)=>{var O;if(F.length>1)return;const V=[...u];V[P]=F,h(V),F&&P<5&&((O=L.current[P+1])==null||O.focus())},Z=(P,F)=>{var V;F.key==="Backspace"&&!u[P]&&P>0&&((V=L.current[P-1])==null||V.focus())},Q=P=>{var je;P.preventDefault();const F=P.clipboardData.getData("text").replace(/\D/g,"").slice(0,6),V=[...u];for(let Te=0;Te<F.length;Te++)V[Te]=F[Te];h(V);const O=V.findIndex((Te,Ge)=>!Te&&Ge<6),$e=O!==-1?O:5;(je=L.current[$e])==null||je.focus()},N=async P=>{if(P.preventDefault(),u.join("").length!==6){v("Please enter all 6 digits");return}g(!0),v("");try{if(s==="email-verification"){const V=u.join(""),O=await rS.verifyOTP(t,V);O.success?(S("OTP verified successfully!"),setTimeout(()=>{n({email:t,verified:!0,userData:O.userData}),e()},1500)):v(O.message||"Invalid OTP. Please try again.")}else s==="password-reset"&&a&&(await yk($n,a),S("Code verified! You can now reset your password."),setTimeout(()=>{n({email:t,actionCode:a}),e()},1500))}catch(V){console.error("OTP verification error:",V),V.code==="auth/invalid-action-code"?v("Invalid or expired verification code"):V.code==="auth/expired-action-code"?v("Verification code has expired. Please request a new one."):v(V.message||"Verification failed. Please try again.")}finally{g(!1)}},I=async()=>{T(!0),v("");try{v(s==="email-verification"?"Please go back and try registering again to resend OTP.":"Unable to resend verification email. Please try again."),D(60)}catch(P){console.error("Resend verification error:",P),v("Failed to resend verification email. Please try again.")}finally{T(!1)}},A=()=>{h(["","","","","",""]),v(""),S(""),D(0),e()};return r?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-slate-800 rounded-lg shadow-xl max-w-md w-full p-6 border border-slate-700",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-white",children:s==="email-verification"?"Verify Email":"Verify Code"}),c.jsx("button",{onClick:A,className:"text-gray-400 hover:text-white transition-colors",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("p",{className:"text-gray-300 mb-2",children:s==="email-verification"?"We sent a 6-digit OTP to":"Enter the verification code sent to"}),c.jsx("p",{className:"text-white font-semibold",children:t}),s==="email-verification"&&c.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Please check your email and enter the OTP below."})]}),c.jsxs("form",{onSubmit:N,className:"space-y-6",children:[c.jsx("div",{className:"flex justify-center space-x-2",children:u.map((P,F)=>c.jsx("input",{ref:V=>L.current[F]=V,type:"text",inputMode:"numeric",pattern:"[0-9]*",value:P,onChange:V=>M(F,V.target.value),onKeyDown:V=>Z(F,V),onPaste:Q,className:"w-12 h-12 text-center text-xl font-bold bg-slate-700 border border-slate-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-indigo-500",maxLength:1,disabled:f},F))}),x&&c.jsx("div",{className:"bg-red-500/20 border border-red-500/50 text-red-400 px-4 py-3 rounded text-center",children:x}),_&&c.jsx("div",{className:"bg-green-500/20 border border-green-500/50 text-green-400 px-4 py-3 rounded text-center",children:_}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("button",{type:"submit",disabled:f||u.join("").length!==6,className:"w-full px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:f?"Verifying...":s==="email-verification"?"Verify OTP":"Verify Code"}),c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-sm text-gray-400 mb-2",children:s==="email-verification"?"Didn't receive the OTP?":"Didn't receive the code?"}),c.jsx("button",{type:"button",onClick:I,disabled:w||j>0,className:"text-indigo-400 hover:text-indigo-300 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:w?"Sending...":j>0?`Resend in ${j}s`:s==="email-verification"?"Resend OTP":"Resend Code"})]})]})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsxs("p",{className:"text-sm text-gray-400",children:["Wrong email?"," ",c.jsx("button",{onClick:A,className:"text-indigo-400 hover:text-indigo-300 transition-colors",children:"Go back"})]})})]})}):null};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T7=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),S7=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),u2=r=>{const e=S7(r);return e.charAt(0).toUpperCase()+e.slice(1)},nS=(...r)=>r.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim(),N7=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var C7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A7=U.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:l,...u},h)=>U.createElement("svg",{ref:h,...C7,width:e,height:e,stroke:r,strokeWidth:n?Number(t)*24/Number(e):t,className:nS("lucide",s),...!a&&!N7(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,g])=>U.createElement(f,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=(r,e)=>{const t=U.forwardRef(({className:n,...s},a)=>U.createElement(A7,{ref:a,iconNode:e,className:nS(`lucide-${T7(u2(r))}`,`lucide-${r}`,n),...s}));return t.displayName=u2(r),t};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I7=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],k7=V0("mail",I7);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R7=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],P7=V0("phone",R7);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],d2=V0("user",j7);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D7=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],O7=V0("x",D7),F7=({isOpen:r,onClose:e,onGuestLogin:t})=>{const[n,s]=U.useState({name:"",email:"",phone:"",college:"GCET",year:"1",department:"CSE"}),[a,l]=U.useState(!1),[u,h]=U.useState(""),f=async x=>{x.preventDefault(),l(!0),h("");try{if(!n.name.trim()){h("Name is required");return}if(!n.email.trim()){h("Email is required");return}if(!n.phone.trim()){h("Phone number is required");return}if(!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(n.email)){h("Please enter a valid email address");return}if(!/^[6-9]\d{9}$/.test(n.phone)){h("Please enter a valid 10-digit phone number");return}t(n)}catch(v){h("An error occurred. Please try again."),console.error("Guest login error:",v)}finally{l(!1)}},g=(x,v)=>{s(_=>({..._,[x]:v})),u&&h("")};return r?c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-slate-900 rounded-lg shadow-xl w-full max-w-md border border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-700",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-indigo-500/20 rounded-lg",children:c.jsx(d2,{className:"w-5 h-5 text-indigo-400"})}),c.jsx("h2",{className:"text-xl font-semibold text-white",children:"Guest Registration"})]}),c.jsx("button",{onClick:e,className:"text-slate-400 hover:text-white transition-colors",children:c.jsx(O7,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:f,className:"p-6 space-y-4",children:[u&&c.jsx("div",{className:"bg-red-500/10 border border-red-500/20 text-red-400 px-4 py-3 rounded-lg text-sm",children:u}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Full Name *"}),c.jsx("input",{type:"text",value:n.name,onChange:x=>g("name",x.target.value),className:"w-full px-4 py-3 bg-slate-800 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Enter your full name",required:!0})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:[c.jsx(k7,{className:"w-4 h-4 inline mr-2"}),"Email Address *"]}),c.jsx("input",{type:"email",value:n.email,onChange:x=>g("email",x.target.value),className:"w-full px-4 py-3 bg-slate-800 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"your.email@gmail.com",required:!0})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:[c.jsx(P7,{className:"w-4 h-4 inline mr-2"}),"Phone Number *"]}),c.jsx("input",{type:"tel",value:n.phone,onChange:x=>g("phone",x.target.value),className:"w-full px-4 py-3 bg-slate-800 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"9876543210",maxLength:10,required:!0})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Year"}),c.jsxs("select",{value:n.year,onChange:x=>g("year",x.target.value),className:"w-full px-4 py-3 bg-slate-800 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[c.jsx("option",{value:"1",children:"1st Year"}),c.jsx("option",{value:"2",children:"2nd Year"}),c.jsx("option",{value:"3",children:"3rd Year"}),c.jsx("option",{value:"4",children:"4th Year"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Department"}),c.jsxs("select",{value:n.department,onChange:x=>g("department",x.target.value),className:"w-full px-4 py-3 bg-slate-800 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[c.jsx("option",{value:"CSE",children:"CSE"}),c.jsx("option",{value:"IT",children:"IT"}),c.jsx("option",{value:"ECE",children:"ECE"}),c.jsx("option",{value:"EEE",children:"EEE"}),c.jsx("option",{value:"MECH",children:"MECH"}),c.jsx("option",{value:"CIVIL",children:"CIVIL"}),c.jsx("option",{value:"AERO",children:"AERO"}),c.jsx("option",{value:"AUTO",children:"AUTO"})]})]})]}),c.jsx("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"p-1 bg-blue-500/20 rounded",children:c.jsx(d2,{className:"w-4 h-4 text-blue-400"})}),c.jsxs("div",{className:"text-sm text-blue-300",children:[c.jsx("p",{className:"font-medium mb-1",children:"Guest Access"}),c.jsx("p",{className:"text-blue-400/80",children:"As a guest, you can register for events but cannot join clubs or access admin features."})]})]})}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-3 text-slate-300 hover:text-white border border-slate-600 hover:border-slate-500 rounded-lg transition-colors",children:"Cancel"}),c.jsx("button",{type:"submit",disabled:a,className:"flex-1 px-4 py-3 bg-indigo-600 hover:bg-indigo-700 disabled:bg-indigo-600/50 text-white rounded-lg transition-colors font-medium",children:a?"Registering...":"Register as Guest"})]})]})]})}):null},L7=({onLogin:r,onGuestClick:e,onSignUpClick:t})=>{const[n,s]=U.useState(""),[a,l]=U.useState(""),[u,h]=U.useState(""),[f,g]=U.useState(!1),[x,v]=U.useState(!1),_=async S=>{if(S.preventDefault(),h(""),!n||!a){h("Please enter both email and password.");return}if(!/^[a-z0-9._%+-]+@gcet\.edu\.in$/i.test(n)){h("Only GCET college email addresses are allowed.");return}g(!0);try{await r(n,a)}catch(T){h(T.message||"Failed to sign in. Please check your credentials."),g(!1)}};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"w-full max-w-md animate-flip-in",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h1",{className:"text-5xl font-extrabold text-white tracking-tighter",children:"GCET"}),c.jsx("p",{className:"text-gray-400 mt-2",children:"Welcome back! Please sign in to continue."})]}),c.jsxs("div",{className:"bg-gray-900/30 backdrop-blur-sm border border-gray-800 rounded-xl shadow-2xl p-8",children:[c.jsxs("form",{onSubmit:_,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",children:"Email Address"}),c.jsx("div",{className:"mt-1",children:c.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:S=>s(S.target.value),className:"block w-full px-3 py-2 bg-slate-800 border border-slate-600 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})})]}),c.jsx(tS,{label:"Password",id:"password",required:!0,value:a,onChange:S=>l(S.target.value)}),c.jsx("div",{className:"flex justify-end",children:c.jsx("button",{type:"button",onClick:()=>v(!0),className:"text-sm text-indigo-400 hover:text-indigo-300 transition-colors",children:"Forgot password?"})}),u&&c.jsx("div",{className:"bg-red-500/10 border border-red-500/30 text-red-400 text-sm p-3 rounded-md",children:u}),c.jsx("button",{type:"submit",disabled:f,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-bold text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900 focus:ring-indigo-500 transition-colors disabled:opacity-50",children:f?"Signing in...":"Sign in"})]}),c.jsxs("div",{className:"relative my-6",children:[c.jsx("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:c.jsx("div",{className:"w-full border-t border-slate-700"})}),c.jsx("div",{className:"relative flex justify-center text-sm",children:c.jsx("span",{className:"px-2 bg-slate-900 text-gray-400",children:"Or continue with"})})]}),c.jsxs("div",{className:"text-center mt-6 space-y-2",children:[c.jsxs("p",{className:"text-sm text-gray-400",children:["New student?"," ",c.jsx("button",{onClick:t,className:"font-medium text-indigo-400 hover:text-indigo-300",children:"Create an account"})]}),c.jsxs("p",{className:"text-sm text-gray-400",children:["Other college student?"," ",c.jsx("button",{onClick:e,className:"font-medium text-indigo-400 hover:text-indigo-300",children:"Continue as a guest"})]})]})]})]}),c.jsx(_7,{isOpen:x,onClose:()=>v(!1)})]})},M7=({onSignUp:r,onCreateProfileForExistingUser:e,onUserRegistered:t,onBack:n})=>{const[s,a]=U.useState({name:"",email:"",password:"",rollNumber:"",year:"1st Year",branch:"CSE",mobile:""}),[l,u]=U.useState(""),[h,f]=U.useState(!1),[g,x]=U.useState(!1),[v,_]=U.useState(null),[S,w]=U.useState(!1),T=L=>{a(M=>({...M,[L.target.name]:L.target.value}))},j=async L=>{if(L.preventDefault(),u(""),f(!0),!s.name||!s.email||!s.password||!s.rollNumber||!s.mobile){u("Please fill in all required fields."),f(!1);return}if(!/^[a-z0-9._%+-]+@gcet\.edu\.in$/i.test(s.email)){u("Only GCET college email addresses are allowed."),f(!1);return}if(s.password.length<6){u("Password must be at least 6 characters long."),f(!1);return}try{const Z=await rS.generateOTP(s.email,s);if(Z.success)_(s),w(!0),x(!0),f(!1);else throw new Error(Z.message||"Failed to generate OTP")}catch(Z){console.error("Registration error:",Z),Z.code==="auth/email-already-in-use"?u("An account with this email already exists. Please sign in instead."):Z.code==="auth/weak-password"?u("Password is too weak. Please choose a stronger password."):Z.code==="auth/invalid-email"?u("Please enter a valid email address."):u(Z.message||"Failed to create account. Please try again."),f(!1)}},D=async L=>{if(v)try{const{email:M,password:Z,...Q}=v,I=(await iE($n,M,Z)).user,A=await yn.createUserProfile(I,{name:Q.name,email:I.email||"",role:"student",...Q});if(A)x(!1),t(A);else throw new Error("Could not create user profile.")}catch(M){console.error("Registration error:",M),M.code==="auth/email-already-in-use"?u("An account with this email already exists. Please sign in instead."):M.code==="auth/weak-password"?u("Password is too weak. Please choose a stronger password."):M.code==="auth/invalid-email"?u("Please enter a valid email address."):u(M.message||"Failed to create account."),x(!1)}};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"w-full max-w-md animate-flip-in",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h1",{className:"text-3xl font-extrabold text-white tracking-tighter",children:"Create Student Account"}),c.jsx("p",{className:"text-gray-400 mt-2",children:"Join the campus hub and get started."})]}),c.jsx("div",{className:"bg-gray-900/30 backdrop-blur-sm border border-gray-800 rounded-xl shadow-2xl p-8",children:c.jsxs("form",{onSubmit:j,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300",children:"Full Name"}),c.jsx("input",{type:"text",name:"name",id:"name",value:s.name,onChange:T,required:!0,className:"mt-1 block w-full px-3 py-2 bg-slate-800 border border-slate-600 rounded-md"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"rollNumber",className:"block text-sm font-medium text-gray-300",children:"Roll Number"}),c.jsx("input",{type:"text",name:"rollNumber",id:"rollNumber",value:s.rollNumber,onChange:T,required:!0,className:"mt-1 block w-full px-3 py-2 bg-slate-800 border border-slate-600 rounded-md"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",children:"Email"}),c.jsx("input",{type:"email",name:"email",id:"email",value:s.email,onChange:T,required:!0,className:"mt-1 block w-full px-3 py-2 bg-slate-800 border border-slate-600 rounded-md"})]}),c.jsx(tS,{label:"Password",id:"password",name:"password",required:!0,value:s.password,onChange:T}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"year",className:"block text-sm font-medium text-gray-300",children:"Year"}),c.jsxs("select",{name:"year",id:"year",value:s.year,onChange:T,className:"mt-1 block w-full px-3 py-2 bg-slate-800 border border-slate-600 rounded-md",children:[c.jsx("option",{children:"1st Year"}),c.jsx("option",{children:"2nd Year"}),c.jsx("option",{children:"3rd Year"}),c.jsx("option",{children:"4th Year"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"branch",className:"block text-sm font-medium text-gray-300",children:"Branch"}),c.jsxs("select",{name:"branch",id:"branch",value:s.branch,onChange:T,className:"mt-1 block w-full px-3 py-2 bg-slate-800 border border-slate-600 rounded-md",children:[c.jsx("option",{children:"CSE"}),c.jsx("option",{children:"ECE"}),c.jsx("option",{children:"ME"}),c.jsx("option",{children:"IT"}),c.jsx("option",{children:"ARCH"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"mobile",className:"block text-sm font-medium text-gray-300",children:"Mobile Number"}),c.jsx("input",{type:"tel",name:"mobile",id:"mobile",value:s.mobile,onChange:T,required:!0,className:"mt-1 block w-full px-3 py-2 bg-slate-800 border border-slate-600 rounded-md"})]}),l&&c.jsx("p",{className:"text-sm text-red-500",children:l}),c.jsx("button",{type:"submit",disabled:h,className:"w-full flex justify-center py-3 px-4 bg-indigo-600 text-white font-bold rounded-md hover:bg-indigo-700 disabled:opacity-50",children:h?"Creating...":"Create Account"}),c.jsx("button",{type:"button",onClick:n,className:"w-full flex justify-center py-2 px-4 text-sm text-gray-400 hover:text-white",children:"Back to Login"})]})})]}),c.jsx(b7,{isOpen:g,onClose:()=>x(!1),email:s.email,onVerificationSuccess:D,mode:"email-verification",password:s.password})]})},U7=({onLogin:r,onRegisterAndLogin:e,onCreateProfileForExistingUser:t,onUserRegistered:n,onGuestLogin:s})=>{const[a,l]=U.useState("login"),[u,h]=U.useState(!1),f=x=>{s(x),h(!1)},g=()=>{switch(a){case"login":return c.jsx(L7,{onLogin:r,onGuestClick:()=>h(!0),onSignUpClick:()=>l("signup")});case"signup":return c.jsx(M7,{onSignUp:e,onCreateProfileForExistingUser:t,onUserRegistered:n,onBack:()=>l("login")});default:return null}};return c.jsxs("div",{className:"min-h-screen bg-[#10141D] flex flex-col items-center justify-center p-4 relative overflow-hidden",style:{perspective:"1200px"},children:[c.jsx("div",{className:"absolute top-0 -left-1/4 w-96 h-96 bg-purple-600 rounded-full mix-blend-soft-light filter blur-2xl opacity-20 animate-blob"}),c.jsx("div",{className:"absolute top-0 -right-1/4 w-96 h-96 bg-indigo-600 rounded-full mix-blend-soft-light filter blur-2xl opacity-20 animate-blob",style:{animationDelay:"2s"}}),c.jsx("div",{className:"absolute -bottom-1/4 left-1/3 w-96 h-96 bg-pink-600 rounded-full mix-blend-soft-light filter blur-2xl opacity-20 animate-blob",style:{animationDelay:"4s"}}),c.jsx("div",{className:"relative z-10 w-full max-w-md",children:g()}),c.jsx(F7,{isOpen:u,onClose:()=>h(!1),onGuestLogin:f})]})},V7={Recruitment:"bg-blue-500/10 text-blue-400","Event Result":"bg-green-500/10 text-green-400",Announcement:"bg-yellow-500/10 text-yellow-400"},B7=({news:r})=>c.jsxs("section",{className:"container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-16",children:[c.jsx(Pn,{title:"Campus News & Announcements",subtitle:"Stay up-to-date with the latest happenings, from event results to recruitment drives."}),c.jsx("div",{className:"space-y-8 max-w-4xl mx-auto",children:r.map(e=>c.jsxs("div",{className:"bg-slate-900 p-6 rounded-lg shadow-md border border-slate-800 transition-all duration-300 hover:border-indigo-500/50 hover:shadow-indigo-500/10",children:[c.jsxs("div",{className:"flex justify-between items-start flex-wrap gap-2",children:[c.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${V7[e.category]}`,children:e.category}),c.jsx("p",{className:"text-sm text-gray-500",children:e.date})]}),c.jsx("h3",{className:"mt-3 text-2xl font-bold text-white",children:e.title}),c.jsx("p",{className:"mt-2 text-gray-400",children:e.summary}),e.link&&c.jsx("div",{className:"mt-4",children:c.jsxs(rn,{to:e.link.path,className:"text-indigo-400 font-semibold hover:text-indigo-300 transition-colors flex items-center group",children:[e.link.text,c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 ml-1.5 transform group-hover:translate-x-1 transition-transform",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]},e.id))})]}),z7=({isOpen:r,onClose:e,userEmail:t})=>{const[n,s]=U.useState(t||""),[a,l]=U.useState(!1),[u,h]=U.useState(""),[f,g]=U.useState("");xf.useEffect(()=>{t&&s(t)},[t]);const x=async _=>{if(_.preventDefault(),l(!0),h(""),g(""),!n){h("Please enter your email address"),l(!1);return}if(!/^[a-z0-9._%+-]+@gcet\.edu\.in$/i.test(n)){h("Only GCET college email addresses are allowed."),l(!1);return}try{await sE($n,n),g("Password reset email sent! Please check your inbox and follow the instructions to set a new password."),s(""),setTimeout(()=>{e()},3e3)}catch(w){console.error("Password reset error:",w),w.code==="auth/user-not-found"?h("No account found with this email address"):w.code==="auth/invalid-email"?h("Please enter a valid email address"):h(w.message||"Failed to send password reset email. Please try again.")}finally{l(!1)}},v=()=>{s(""),h(""),g(""),e()};return r?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-slate-800 rounded-lg shadow-xl max-w-md w-full p-6 border border-slate-700",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-white",children:"Reset Password"}),c.jsx("button",{onClick:v,className:"text-gray-400 hover:text-white transition-colors",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsx("div",{className:"mb-6",children:c.jsx("p",{className:"text-gray-300 text-sm",children:"Enter your email address and we'll send you a link to reset your password."})}),c.jsxs("form",{onSubmit:x,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),c.jsx("input",{type:"email",value:n,onChange:_=>s(_.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter your email address",required:!0})]}),u&&c.jsx("div",{className:"bg-red-500/20 border border-red-500/50 text-red-400 px-4 py-3 rounded",children:u}),f&&c.jsx("div",{className:"bg-green-500/20 border border-green-500/50 text-green-400 px-4 py-3 rounded",children:f}),c.jsxs("div",{className:"flex space-x-3 pt-4",children:[c.jsx("button",{type:"button",onClick:v,className:"flex-1 px-4 py-2 border border-slate-600 rounded-md text-gray-300 hover:bg-slate-700 transition-colors",children:"Cancel"}),c.jsx("button",{type:"submit",disabled:a||!n,className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?"Sending...":"Send Reset Email"})]})]})]})}):null},$7=({user:r,onLogout:e,onOpenChangePassword:t})=>{const n=U.useRef(null),[s,a]=U.useState({}),[l,u]=U.useState(!1),h=U.useMemo(()=>{const _=new Set;return r.managedClubIds&&r.managedClubIds.forEach(S=>_.add(S)),Array.from(_)},[r.managedClubIds]);U.useEffect(()=>{(async()=>{u(!0);const S=await Promise.all(h.map(T=>rr.getClubById(T))),w={};S.forEach((T,j)=>{w[h[j]]=T}),a(w)})()},[r.id]);const f=_=>{const S=_.split(" ");return S.length>1?`${S[0][0]}${S[S.length-1][0]}`.toUpperCase():_.substring(0,2).toUpperCase()},g=U.useMemo(()=>{const _=["Student"];return r.managedClubIds&&r.managedClubIds.length>0&&_.push("Club Admin"),_},[r]),x=_=>{if(!n.current)return;const{left:S,top:w,width:T,height:j}=n.current.getBoundingClientRect(),D=_.clientX-S,M=((_.clientY-w)/j-.5)*-15,Z=(D/T-.5)*15;n.current.style.transform=`perspective(1000px) rotateX(${M}deg) rotateY(${Z}deg) scale3d(1.05, 1.05, 1.05)`},v=()=>{n.current&&(n.current.style.transform="perspective(1000px) rotateX(0) rotateY(0) scale3d(1, 1, 1)")};return c.jsxs("div",{ref:n,className:"bg-slate-900/50 p-8 rounded-2xl border border-slate-800 shadow-2xl relative overflow-hidden group transition-transform duration-300 ease-out",onMouseMove:x,onMouseLeave:v,style:{transformStyle:"preserve-3d"},children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/10 via-transparent to-purple-500/10 opacity-50 group-hover:opacity-100 transition-opacity"}),c.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-28 h-28 rounded-full bg-gradient-to-br from-indigo-600 to-purple-600 flex items-center justify-center text-5xl font-bold shadow-lg",children:f(r.name)}),c.jsx("div",{className:"absolute inset-0 rounded-full ring-4 ring-indigo-500/50 animate-pulse group-hover:animate-none"})]}),c.jsx("h2",{className:"text-3xl font-extrabold text-white mt-5",children:r.name}),c.jsx("p",{className:"text-gray-400 text-sm",children:r.email}),c.jsx("div",{className:"flex items-center space-x-2 mt-4",children:g.map(_=>c.jsx("span",{className:"px-3 py-1 text-xs font-semibold bg-slate-700 rounded-full shadow-sm",children:_},_))}),c.jsxs("div",{className:"mt-6 flex items-center space-x-3 border-t border-slate-700/50 pt-6",children:[c.jsxs("button",{onClick:t,className:"flex-1 text-sm px-4 py-2 rounded-lg bg-slate-800 hover:bg-slate-700 transition-colors text-gray-300 flex items-center justify-center gap-2",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H5v-2H3v-2H1v-4a6 6 0 016-6h4a6 6 0 016 6z"})}),"Change Password"]}),c.jsxs("button",{onClick:e,className:"flex-1 text-sm px-4 py-2 rounded-lg bg-red-600/20 hover:bg-red-600/40 transition-colors text-red-400 flex items-center justify-center gap-2",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})]})]})]})},W7=({user:r,onLogout:e,events:t,clubs:n,applications:s,registeredEventIds:a})=>{const[l,u]=U.useState("events"),[h,f]=U.useState(!1),g=Bs(),{upcomingEvents:x,pastEvents:v}=U.useMemo(()=>{const D=t.filter(L=>a.includes(L.id));return{upcomingEvents:D.filter(L=>L.status===xt.Upcoming||L.status===xt.Ongoing),pastEvents:D.filter(L=>L.status===xt.Past)}},[t,a]),{managedClubs:_,memberClubs:S}=U.useMemo(()=>{const D=n.filter(M=>{var Z;return(Z=M.team)==null?void 0:Z.some(Q=>Q.id===r.id&&Q.position==="Admin")}),L=n.filter(M=>{var Z;return(Z=M.team)==null?void 0:Z.some(Q=>Q.id===r.id&&Q.position!=="Admin")});return{managedClubs:D,memberClubs:L}},[n,s,r]),w=U.useMemo(()=>s.filter(D=>D.userName===r.name).map(D=>({...D,club:n.find(L=>L.id===D.clubId)})).filter(D=>D.club),[s,r.name,n]);U.useMemo(()=>s.filter(D=>{var L;return((L=r.managedClubIds)==null?void 0:L.includes(D.clubId))&&D.status==="pending"}).length,[s,r.managedClubIds]);const T=({tab:D,children:L,count:M})=>c.jsxs("button",{onClick:()=>u(D),className:`relative flex-1 py-4 text-sm font-bold transition-colors ${l===D?"text-white":"text-gray-400 hover:text-white"}`,children:[L,M&&M>0?c.jsx("span",{className:"absolute top-3 ml-2 text-xs bg-red-500 text-white rounded-full px-1.5 py-0.5",children:M}):null,l===D&&c.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-indigo-500"})]}),j={pending:{text:"text-yellow-400",bg:"bg-yellow-500/10",dot:"bg-yellow-500"},accepted:{text:"text-green-400",bg:"bg-green-500/10",dot:"bg-green-500"},rejected:{text:"text-red-400",bg:"bg-red-500/10",dot:"bg-red-500"}};return c.jsxs("div",{className:"container mx-auto max-w-4xl px-4 sm:px-6 lg:px-8 py-16",children:[c.jsx(z7,{isOpen:h,onClose:()=>f(!1),userEmail:r.email}),c.jsx($7,{user:r,onLogout:e,onOpenChangePassword:()=>f(!0)}),c.jsxs("div",{className:"mt-12",children:[c.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg flex",children:[c.jsx(T,{tab:"events",children:"Registered Events"}),c.jsx(T,{tab:"clubs",children:"My Clubs"}),c.jsx(T,{tab:"applications",children:"My Applications"})]}),c.jsxs("div",{className:"mt-6 animate-tab-content-enter",children:[l==="events"&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"font-semibold text-gray-300 text-lg px-2",children:"Upcoming & Ongoing"}),x.length>0?x.map((D,L)=>c.jsxs("button",{onClick:()=>g(`/events/${D.id}`),style:{animationDelay:`${L*100}ms`},className:"animate-staggered-fade-in w-full text-left p-4 rounded-lg bg-slate-900 hover:bg-slate-800 transition-colors border border-slate-800 hover:border-slate-700",children:[c.jsx("p",{className:"font-semibold truncate text-white",children:D.name}),c.jsxs("p",{className:"text-xs text-gray-400",children:[D.date," at ",D.time]})]},D.id)):c.jsx("p",{className:"text-sm text-gray-500 px-2",children:"You have no upcoming events."})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"font-semibold text-gray-300 text-lg px-2",children:"Past Events"}),v.length>0?v.map((D,L)=>c.jsxs("button",{onClick:()=>g(`/events/${D.id}`),style:{animationDelay:`${L*100}ms`},className:"animate-staggered-fade-in w-full text-left p-4 rounded-lg bg-slate-900 hover:bg-slate-800 transition-colors border border-slate-800 hover:border-slate-700",children:[c.jsx("p",{className:"font-semibold truncate text-white",children:D.name}),c.jsx("p",{className:"text-xs text-gray-400",children:D.date})]},D.id)):c.jsx("p",{className:"text-sm text-gray-500 px-2",children:"You haven't attended any past events."})]})]}),l==="clubs"&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"font-semibold text-gray-300 text-lg px-2",children:"Managed Clubs"}),_.length>0?_.map((D,L)=>c.jsx("div",{style:{animationDelay:`${L*100}ms`},className:"animate-staggered-fade-in p-4 rounded-lg bg-slate-900 border border-slate-800",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("img",{src:D.logoUrl,alt:D.name,className:"w-12 h-12 rounded-full"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-white",children:D.name}),c.jsx("span",{className:"text-xs font-bold text-indigo-400 bg-indigo-500/10 px-2 py-0.5 rounded-full",children:"Admin"})]})]}),c.jsx("button",{onClick:()=>g(`/clubs/${D.id}`),className:"px-4 py-2 text-xs font-bold bg-indigo-600 rounded-lg hover:bg-indigo-700",children:"Manage"})]})},D.id)):c.jsx("p",{className:"text-sm text-gray-500 px-2",children:"You do not manage any clubs."})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"font-semibold text-gray-300 text-lg px-2",children:"Club Memberships"}),S.length>0?S.map((D,L)=>c.jsxs("button",{onClick:()=>g(`/clubs/${D.id}`),style:{animationDelay:`${L*100}ms`},className:"animate-staggered-fade-in w-full text-left p-4 rounded-lg bg-slate-900 hover:bg-slate-800 transition-colors flex items-center space-x-3 border border-slate-800 hover:border-slate-700",children:[c.jsx("img",{src:D.logoUrl,alt:D.name,className:"w-12 h-12 rounded-full"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-white",children:D.name}),c.jsx("span",{className:"text-xs font-bold text-green-400 bg-green-500/10 px-2 py-0.5 rounded-full",children:"Member"})]})]},D.id)):c.jsx("p",{className:"text-sm text-gray-500 px-2",children:"You are not a member of any other clubs."})]})]}),l==="applications"&&c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"font-semibold text-gray-300 text-lg px-2",children:"Your Club Applications"}),w.length>0?w.map((D,L)=>c.jsxs("div",{style:{animationDelay:`${L*100}ms`},className:"animate-staggered-fade-in p-4 rounded-lg bg-slate-900 border border-slate-800 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("img",{src:D.club.logoUrl,alt:D.club.name,className:"w-12 h-12 rounded-full"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-white",children:D.club.name}),c.jsxs("p",{className:"text-xs text-gray-400",children:["Application sent on ",new Date().toLocaleDateString()]})]})]}),c.jsxs("div",{className:`${j[D.status].bg} ${j[D.status].text} text-xs font-bold px-3 py-1.5 rounded-full flex items-center gap-2`,children:[c.jsx("span",{className:`h-2 w-2 rounded-full ${j[D.status].dot}`}),c.jsx("span",{className:"capitalize",children:D.status})]})]},D.id)):c.jsx("p",{className:"text-sm text-gray-500 px-2",children:"You haven't applied to any clubs yet."})]})]})]})]})},H7=({user:r,clubs:e,onAccountUpdate:t})=>{const[n,s]=U.useState([]),[a,l]=U.useState(!1),[u,h]=U.useState(!1),[f,g]=U.useState(null),[x,v]=U.useState(null),[_,S]=U.useState(null),[w,T]=U.useState({clubId:"",accountName:"",merchantId:"",saltKey:"",saltIndex:"1",environment:"sandbox",phoneNumber:"",email:"",businessName:"",businessType:"",gstNumber:"",panNumber:"",bankAccountNumber:"",ifscCode:"",accountHolderName:""});U.useEffect(()=>{j()},[r.id]);const j=async()=>{l(!0);try{const N=await lc.getUserAccounts(r.id);s(N)}catch(N){console.error("Error loading accounts:",N),v("Failed to load accounts")}finally{l(!1)}},D=async N=>{N.preventDefault(),l(!0),v(null),S(null);try{if(!w.clubId||!w.merchantId||!w.saltKey)throw new Error("Please fill in all required fields");if(!await lc.validateAccountCredentials(w.merchantId,w.saltKey,w.saltIndex))throw new Error("Invalid PhonePe credentials. Please check your Merchant ID, Salt Key, and Salt Index.");const A={userId:r.id,clubId:w.clubId,merchantId:w.merchantId,saltKey:w.saltKey,saltIndex:w.saltIndex,environment:w.environment,isActive:!0,accountName:w.accountName};if(w.phoneNumber.trim()&&(A.phoneNumber=w.phoneNumber),w.email.trim()){if(!/^[a-z0-9._%+-]+@gcet\.edu\.in$/i.test(w.email))throw new Error("Only GCET college email addresses are allowed");A.email=w.email}w.businessName.trim()&&(A.businessName=w.businessName),w.businessType.trim()&&(A.businessType=w.businessType),w.gstNumber.trim()&&(A.gstNumber=w.gstNumber),w.panNumber.trim()&&(A.panNumber=w.panNumber),w.bankAccountNumber.trim()&&(A.bankAccountNumber=w.bankAccountNumber),w.ifscCode.trim()&&(A.ifscCode=w.ifscCode),w.accountHolderName.trim()&&(A.accountHolderName=w.accountHolderName),await lc.createOrUpdateAccount(A),S(f?"Account updated successfully!":"Account created successfully!"),h(!1),g(null),Z(),j(),t==null||t()}catch(I){console.error("Error saving account:",I),v(I.message||"Failed to save account")}finally{l(!1)}},L=N=>{g(N),T({clubId:N.clubId,accountName:N.accountName,merchantId:N.merchantId,saltKey:N.saltKey,saltIndex:N.saltIndex,environment:N.environment,phoneNumber:N.phoneNumber||"",email:N.email||"",businessName:N.businessName||"",businessType:N.businessType||"",gstNumber:N.gstNumber||"",panNumber:N.panNumber||"",bankAccountNumber:N.bankAccountNumber||"",ifscCode:N.ifscCode||"",accountHolderName:N.accountHolderName||""}),h(!0)},M=async N=>{if(window.confirm("Are you sure you want to deactivate this account?"))try{await lc.deactivateAccount(N),S("Account deactivated successfully!"),j(),t==null||t()}catch(I){console.error("Error deactivating account:",I),v("Failed to deactivate account")}},Z=()=>{T({clubId:"",accountName:"",merchantId:"",saltKey:"",saltIndex:"1",environment:"sandbox",phoneNumber:"",email:"",businessName:"",businessType:"",gstNumber:"",panNumber:"",bankAccountNumber:"",ifscCode:"",accountHolderName:""})},Q=()=>{h(!1),g(null),Z(),v(null),S(null)};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-white",children:"PhonePe Account Management"}),c.jsx("p",{className:"text-gray-400 mt-1",children:"Configure your PhonePe account to receive payments directly"})]}),c.jsx("button",{onClick:()=>h(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Add Account"})]}),_&&c.jsx("div",{className:"bg-green-500/20 border border-green-500/50 text-green-400 px-4 py-3 rounded-lg",children:_}),x&&c.jsx("div",{className:"bg-red-500/20 border border-red-500/50 text-red-400 px-4 py-3 rounded-lg",children:x}),!u&&c.jsx("div",{className:"space-y-4",children:a?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"animate-spin h-8 w-8 border-2 border-indigo-500 border-t-transparent rounded-full mx-auto"}),c.jsx("p",{className:"text-gray-400 mt-2",children:"Loading accounts..."})]}):n.length===0?c.jsxs("div",{className:"text-center py-8 bg-slate-800/50 rounded-lg",children:[c.jsx("div",{className:"w-16 h-16 bg-gray-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),c.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"No PhonePe Accounts"}),c.jsx("p",{className:"text-gray-400 mb-4",children:"You haven't configured any PhonePe accounts yet."}),c.jsx("button",{onClick:()=>h(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Add Your First Account"})]}):c.jsx("div",{className:"grid gap-4",children:n.map(N=>{const I=e.find(A=>A.id===N.clubId);return c.jsxs("div",{className:"bg-slate-800 rounded-lg p-6",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-white",children:N.accountName}),c.jsx("p",{className:"text-gray-400",children:(I==null?void 0:I.name)||"Unknown Club"}),c.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[c.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${N.environment==="production"?"bg-green-500/20 text-green-400":"bg-yellow-500/20 text-yellow-400"}`,children:N.environment==="production"?"Production":"Sandbox"}),c.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium bg-indigo-500/20 text-indigo-400",children:"Active"})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>L(N),className:"px-3 py-1 bg-slate-700 text-white rounded hover:bg-slate-600 transition-colors text-sm",children:"Edit"}),c.jsx("button",{onClick:()=>M(N.id),className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm",children:"Deactivate"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"Merchant ID:"}),c.jsx("span",{className:"text-white ml-2 font-mono",children:N.merchantId})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"Salt Index:"}),c.jsx("span",{className:"text-white ml-2",children:N.saltIndex})]}),N.businessName&&c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"Business:"}),c.jsx("span",{className:"text-white ml-2",children:N.businessName})]}),N.phoneNumber&&c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"Phone:"}),c.jsx("span",{className:"text-white ml-2",children:N.phoneNumber})]})]})]},N.id)})})}),u&&c.jsxs("div",{className:"bg-slate-800 rounded-lg p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:f?"Edit PhonePe Account":"Add PhonePe Account"}),c.jsxs("form",{onSubmit:D,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:["Club ",c.jsx("span",{className:"text-red-400",children:"*"})]}),c.jsxs("select",{value:w.clubId,onChange:N=>T({...w,clubId:N.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0,children:[c.jsx("option",{value:"",children:"Select a club"}),e.map(N=>c.jsx("option",{value:N.id,children:N.name},N.id))]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:["Account Name ",c.jsx("span",{className:"text-red-400",children:"*"})]}),c.jsx("input",{type:"text",value:w.accountName,onChange:N=>T({...w,accountName:N.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., Main Business Account",required:!0})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"text-md font-semibold text-white",children:"PhonePe Credentials"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:["Merchant ID ",c.jsx("span",{className:"text-red-400",children:"*"})]}),c.jsx("input",{type:"text",value:w.merchantId,onChange:N=>T({...w,merchantId:N.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"MERCHANT_ID",required:!0})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:["Salt Key ",c.jsx("span",{className:"text-red-400",children:"*"})]}),c.jsx("input",{type:"password",value:w.saltKey,onChange:N=>T({...w,saltKey:N.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"SALT_KEY",required:!0})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:["Salt Index ",c.jsx("span",{className:"text-red-400",children:"*"})]}),c.jsx("input",{type:"text",value:w.saltIndex,onChange:N=>T({...w,saltIndex:N.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"1",required:!0})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Environment"}),c.jsxs("select",{value:w.environment,onChange:N=>T({...w,environment:N.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[c.jsx("option",{value:"sandbox",children:"Sandbox (Testing)"}),c.jsx("option",{value:"production",children:"Production (Live)"})]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"text-md font-semibold text-white",children:"Business Information (Optional)"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Business Name"}),c.jsx("input",{type:"text",value:w.businessName,onChange:N=>T({...w,businessName:N.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Your Business Name"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Business Type"}),c.jsxs("select",{value:w.businessType,onChange:N=>T({...w,businessType:N.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[c.jsx("option",{value:"",children:"Select Business Type"}),c.jsx("option",{value:"education",children:"Education"}),c.jsx("option",{value:"technology",children:"Technology"}),c.jsx("option",{value:"entertainment",children:"Entertainment"}),c.jsx("option",{value:"sports",children:"Sports"}),c.jsx("option",{value:"other",children:"Other"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Phone Number"}),c.jsx("input",{type:"tel",value:w.phoneNumber,onChange:N=>T({...w,phoneNumber:N.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"+91 9876543210"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Email"}),c.jsx("input",{type:"email",value:w.email,onChange:N=>T({...w,email:N.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"business@example.com"})]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"text-md font-semibold text-white",children:"Bank Information (Optional)"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Account Holder Name"}),c.jsx("input",{type:"text",value:w.accountHolderName,onChange:N=>T({...w,accountHolderName:N.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Account Holder Name"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Account Number"}),c.jsx("input",{type:"text",value:w.bankAccountNumber,onChange:N=>T({...w,bankAccountNumber:N.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Bank Account Number"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"IFSC Code"}),c.jsx("input",{type:"text",value:w.ifscCode,onChange:N=>T({...w,ifscCode:N.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"IFSC Code"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"PAN Number"}),c.jsx("input",{type:"text",value:w.panNumber,onChange:N=>T({...w,panNumber:N.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"PAN Number"})]})]})]}),c.jsxs("div",{className:"flex gap-3 justify-end",children:[c.jsx("button",{type:"button",onClick:Q,className:"px-6 py-2 bg-slate-700 text-white rounded-lg hover:bg-slate-600 transition-colors",children:"Cancel"}),c.jsxs("button",{type:"submit",disabled:a,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50 flex items-center gap-2",children:[a&&c.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a?"Saving...":f?"Update Account":"Create Account"]})]})]})]})]})},G7=({user:r,clubs:e})=>{const[t,n]=U.useState([]),[s,a]=U.useState([]),[l,u]=U.useState({totalRevenue:0,totalEvents:0,successfulPayments:0,failedPayments:0,pendingPayments:0,thisMonthRevenue:0,lastMonthRevenue:0}),[h,f]=U.useState(!1),[g,x]=U.useState("all"),[v,_]=U.useState("30d");U.useEffect(()=>{S()},[r.id,g,v]);const S=async()=>{f(!0);try{const M=await lc.getUserAccounts(r.id);n(M);const Z=w();a(Z);const Q=T(Z);u(Q)}catch(M){console.error("Error loading dashboard data:",M)}finally{f(!1)}},w=()=>{const M=["Code-a-thon 2024","Tech Fest","Hackathon","Workshop","Seminar"],Z=["Tech Club","Coding Club","Innovation Club"],Q=["success","success","success","failed","pending"],N=["UPI","Card","Net Banking"];return Array.from({length:50},(I,A)=>({id:`txn_${A+1}`,eventId:`event_${A+1}`,eventName:M[A%M.length],userId:`user_${A+1}`,userName:`User ${A+1}`,amount:Math.floor(Math.random()*1e3)+100,status:Q[A%Q.length],paymentMethod:N[A%N.length],transactionId:`TXN${Date.now()}${A}`,timestamp:new Date(Date.now()-Math.random()*30*24*60*60*1e3).toISOString(),clubId:`club_${A%Z.length+1}`,clubName:Z[A%Z.length]}))},T=M=>{const Z=M.filter(O=>O.status==="success"),Q=M.filter(O=>O.status==="failed"),N=M.filter(O=>O.status==="pending"),I=Z.reduce((O,$e)=>O+$e.amount,0),A=new Date,P=new Date(A.getFullYear(),A.getMonth()-1,1),F=Z.filter(O=>new Date(O.timestamp)>=new Date(A.getFullYear(),A.getMonth(),1)),V=Z.filter(O=>new Date(O.timestamp)>=P&&new Date(O.timestamp)<new Date(A.getFullYear(),A.getMonth(),1));return{totalRevenue:I,totalEvents:new Set(M.map(O=>O.eventId)).size,successfulPayments:Z.length,failedPayments:Q.length,pendingPayments:N.length,thisMonthRevenue:F.reduce((O,$e)=>O+$e.amount,0),lastMonthRevenue:V.reduce((O,$e)=>O+$e.amount,0)}},j=s.filter(M=>g!=="all"?M.clubId===g:!0),D=M=>`${M.toLocaleString()}`,L=M=>new Date(M).toLocaleDateString();return h?c.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin h-12 w-12 border-4 border-indigo-500 border-t-transparent rounded-full mx-auto"}),c.jsx("p",{className:"text-white mt-4",children:"Loading payment dashboard..."})]})}):c.jsx("div",{className:"min-h-screen bg-slate-900 p-6",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Payment Dashboard"}),c.jsx("p",{className:"text-gray-400",children:"Track your earnings and payment analytics"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[c.jsx("div",{className:"bg-slate-800 rounded-lg p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-400 text-sm",children:"Total Revenue"}),c.jsx("p",{className:"text-2xl font-bold text-white",children:D(l.totalRevenue)})]}),c.jsx("div",{className:"w-12 h-12 bg-green-500/20 rounded-full flex items-center justify-center",children:c.jsx("svg",{className:"w-6 h-6 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})})]})}),c.jsx("div",{className:"bg-slate-800 rounded-lg p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-400 text-sm",children:"This Month"}),c.jsx("p",{className:"text-2xl font-bold text-white",children:D(l.thisMonthRevenue)}),c.jsxs("p",{className:"text-xs text-gray-400",children:["vs ",D(l.lastMonthRevenue)," last month"]})]}),c.jsx("div",{className:"w-12 h-12 bg-blue-500/20 rounded-full flex items-center justify-center",children:c.jsx("svg",{className:"w-6 h-6 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})}),c.jsx("div",{className:"bg-slate-800 rounded-lg p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-400 text-sm",children:"Successful Payments"}),c.jsx("p",{className:"text-2xl font-bold text-white",children:l.successfulPayments}),c.jsxs("p",{className:"text-xs text-green-400",children:[(l.successfulPayments/(l.successfulPayments+l.failedPayments)*100).toFixed(1),"% success rate"]})]}),c.jsx("div",{className:"w-12 h-12 bg-green-500/20 rounded-full flex items-center justify-center",children:c.jsx("svg",{className:"w-6 h-6 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]})}),c.jsx("div",{className:"bg-slate-800 rounded-lg p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-400 text-sm",children:"Total Events"}),c.jsx("p",{className:"text-2xl font-bold text-white",children:l.totalEvents}),c.jsx("p",{className:"text-xs text-gray-400",children:"Events with payments"})]}),c.jsx("div",{className:"w-12 h-12 bg-purple-500/20 rounded-full flex items-center justify-center",children:c.jsx("svg",{className:"w-6 h-6 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]})})]}),c.jsxs("div",{className:"flex gap-4 mb-6",children:[c.jsxs("select",{value:g,onChange:M=>x(M.target.value),className:"px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[c.jsx("option",{value:"all",children:"All Clubs"}),e.map(M=>c.jsx("option",{value:M.id,children:M.name},M.id))]}),c.jsxs("select",{value:v,onChange:M=>_(M.target.value),className:"px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[c.jsx("option",{value:"7d",children:"Last 7 days"}),c.jsx("option",{value:"30d",children:"Last 30 days"}),c.jsx("option",{value:"90d",children:"Last 90 days"}),c.jsx("option",{value:"1y",children:"Last year"})]})]}),c.jsxs("div",{className:"bg-slate-800 rounded-lg overflow-hidden",children:[c.jsx("div",{className:"px-6 py-4 border-b border-slate-700",children:c.jsx("h3",{className:"text-lg font-semibold text-white",children:"Recent Transactions"})}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-slate-700/50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Event"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"User"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Amount"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Method"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Date"})]})}),c.jsx("tbody",{className:"divide-y divide-slate-700",children:j.slice(0,20).map(M=>c.jsxs("tr",{className:"hover:bg-slate-700/50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-medium text-white",children:M.eventName}),c.jsx("div",{className:"text-sm text-gray-400",children:M.clubName})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm text-white",children:M.userName})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm font-medium text-white",children:D(M.amount)})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${M.status==="success"?"bg-green-500/20 text-green-400":M.status==="failed"?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-400"}`,children:M.status.charAt(0).toUpperCase()+M.status.slice(1)})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm text-gray-400",children:M.paymentMethod})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm text-gray-400",children:L(M.timestamp)})})]},M.id))})]})})]}),c.jsxs("div",{className:"mt-8 bg-slate-800 rounded-lg p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"PhonePe Account Status"}),t.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"w-16 h-16 bg-gray-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),c.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"No PhonePe Accounts"}),c.jsx("p",{className:"text-gray-400 mb-4",children:"You need to configure a PhonePe account to receive payments."})]}):c.jsx("div",{className:"grid gap-4",children:t.map(M=>{const Z=e.find(Q=>Q.id===M.clubId);return c.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-700/50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-12 h-12 bg-indigo-500/20 rounded-full flex items-center justify-center",children:c.jsx("svg",{className:"w-6 h-6 text-indigo-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-white font-medium",children:M.accountName}),c.jsx("p",{className:"text-gray-400 text-sm",children:(Z==null?void 0:Z.name)||"Unknown Club"})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${M.environment==="production"?"bg-green-500/20 text-green-400":"bg-yellow-500/20 text-yellow-400"}`,children:M.environment==="production"?"Production":"Sandbox"}),c.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium bg-green-500/20 text-green-400",children:"Active"})]})]},M.id)})})]})]})})},af=({title:r,value:e,icon:t,delay:n})=>c.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-xl border border-slate-800 flex items-center gap-5 animate-staggered-fade-in",style:{animationDelay:`${n}ms`},children:[c.jsx("div",{className:"w-12 h-12 bg-indigo-600/20 text-indigo-400 rounded-lg flex items-center justify-center",children:t}),c.jsxs("div",{children:[c.jsx("div",{className:"text-3xl font-extrabold text-white",children:e}),c.jsx("div",{className:"text-sm font-semibold text-gray-400",children:r})]})]}),q7=({isOpen:r,onClose:e,students:t,clubs:n,onAssign:s})=>{const[a,l]=U.useState(""),[u,h]=U.useState(null),[f,g]=U.useState([]),[x,v]=U.useState(""),_=()=>{const j=t.find(D=>D.rollNumber===a&&D.role==="student");j?(h(j),v("")):(h(null),v("Student not found or is already a contributor/admin."))},S=j=>{g(D=>D.includes(j)?D.filter(L=>L!==j):[...D,j])},w=()=>{u&&f.length>0&&(s(u.id,f),T())},T=()=>{l(""),h(null),g([]),v(""),e()};return r?c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm",onClick:T,children:c.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-lg shadow-xl w-full max-w-2xl animate-form-enter",onClick:j=>j.stopPropagation(),children:[c.jsx("div",{className:"p-6 border-b border-slate-800",children:c.jsx("h2",{className:"text-2xl font-bold text-white",children:"Assign Contributor Role"})}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",placeholder:"Search student by Roll Number...",value:a,onChange:j=>l(j.target.value),className:"flex-grow px-3 py-2 bg-slate-800 border border-slate-600 rounded-md"}),c.jsx("button",{onClick:_,className:"px-4 py-2 bg-indigo-600 rounded-md font-semibold hover:bg-indigo-700",children:"Search"})]}),x&&c.jsx("p",{className:"text-red-500 text-sm",children:x}),u&&c.jsxs("div",{className:"animate-fade-in-content",children:[c.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-lg",children:[c.jsx("p",{className:"font-bold text-white",children:u.name}),c.jsx("p",{className:"text-sm text-gray-400",children:u.rollNumber})]}),c.jsx("h3",{className:"font-semibold mt-4 mb-2 text-white",children:"Select clubs to manage:"}),c.jsx("div",{className:"max-h-48 overflow-y-auto space-y-2 pr-2",children:n.map(j=>c.jsxs("label",{className:"flex items-center gap-3 p-2 rounded-md hover:bg-slate-800 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:f.includes(j.id),onChange:()=>S(j.id),className:"h-4 w-4 rounded bg-slate-700 border-slate-500 text-indigo-600 focus:ring-indigo-500"}),c.jsx("img",{src:j.logoUrl,alt:j.name,className:"w-8 h-8 rounded-full"}),c.jsx("span",{className:"text-gray-300",children:j.name})]},j.id))})]})]}),c.jsxs("div",{className:"p-6 border-t border-slate-800 flex justify-end gap-3",children:[c.jsx("button",{onClick:T,className:"px-4 py-2 bg-slate-700 rounded-md font-semibold hover:bg-slate-600",children:"Cancel"}),c.jsx("button",{onClick:w,disabled:!u||f.length===0,className:"px-4 py-2 bg-indigo-600 rounded-md font-semibold hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Assign Role"})]})]})}):null},K7=({contributor:r,clubs:e,onRevoke:t,currentUserId:n})=>{const[s,a]=U.useState(!1),l=U.useMemo(()=>e.filter(u=>{var h;return(h=r.managedClubIds)==null?void 0:h.includes(u.id)}),[e,r]);return c.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-lg transition-all duration-300",children:[c.jsxs("button",{onClick:()=>a(!s),className:"w-full p-4 flex justify-between items-center text-left",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-white",children:r.name}),c.jsx("p",{className:"text-sm text-gray-400",children:r.rollNumber})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"flex -space-x-4",children:l.slice(0,3).map(u=>c.jsx("img",{src:u.logoUrl,alt:u.name,className:"w-8 h-8 rounded-full border-2 border-slate-700"},u.id))}),c.jsx("span",{className:`transform transition-transform duration-300 ${s?"rotate-180":""}`,children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]}),c.jsx("div",{className:`overflow-hidden transition-all duration-500 ease-in-out ${s?"max-h-96":"max-h-0"}`,children:c.jsxs("div",{className:"px-4 pb-4 space-y-3",children:[c.jsx("p",{className:"font-semibold text-gray-300 border-t border-slate-700 pt-3",children:"Managed Clubs:"}),l.map(u=>c.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-800/50 rounded-md",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("img",{src:u.logoUrl,alt:u.name,className:"w-8 h-8 rounded-full"}),c.jsx("span",{className:"text-gray-300",children:u.name})]}),c.jsx("button",{onClick:async()=>{try{await zx(r.id,u.id,n),t(r.id,u.id)}catch(h){console.error("Error revoking contributor:",h)}},className:"px-3 py-1 text-xs bg-red-600/50 text-red-300 hover:bg-red-600/80 rounded-md",children:"Revoke"})]},u.id)),c.jsx("button",{onClick:async()=>{try{await $x(r.id,n),t(r.id)}catch(u){console.error("Error revoking all contributor access:",u)}},className:"w-full mt-2 px-3 py-2 text-sm bg-red-800/50 text-red-300 hover:bg-red-800/80 rounded-md font-semibold",children:"Revoke All Contributor Access"})]})})]})},Y7=({user:r,events:e,clubs:t,allUsers:n,onAssignRole:s,onRevokeRole:a})=>{const[l,u]=U.useState("management"),[h,f]=U.useState(""),[g,x]=U.useState(!1),{students:v,contributors:_}=U.useMemo(()=>({students:n.filter(Z=>Z.role==="student"),contributors:n.filter(Z=>Z.role==="contributor")}),[n]),S=U.useMemo(()=>_.filter(Z=>{var Q;return Z.name.toLowerCase().includes(h.toLowerCase())||((Q=Z.rollNumber)==null?void 0:Q.toLowerCase().includes(h.toLowerCase()))}),[_,h]),[w,T]=U.useState([]),[j,D]=U.useState(!1),L=async()=>{D(!0);try{const Z=[];for(const Q of e)if(Q.organizerClubId)try{(await R0(async()=>{const{collection:I,getDocs:A,db:P}=await Promise.resolve().then(()=>Bj);return{collection:I,getDocs:A,db:P}},void 0).then(({collection:I,getDocs:A,db:P})=>A(I(P,"events",Q.organizerClubId,"clubEvents",Q.id,"payments")))).forEach(I=>{Z.push({eventId:Q.id,eventName:Q.name,...I.data()})})}catch{}T(Z)}catch{T([])}finally{D(!1)}},M=({tab:Z,children:Q})=>c.jsxs("button",{onClick:()=>u(Z),className:`relative flex-1 py-4 text-sm font-bold transition-colors ${l===Z?"text-white":"text-gray-400 hover:text-white"}`,children:[Q,l===Z&&c.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-indigo-500 animate-slide-down-fade"})]});return c.jsxs("div",{className:"container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-12",children:[c.jsx(q7,{isOpen:g,onClose:()=>x(!1),students:v,clubs:t,onAssign:s}),c.jsxs("div",{className:"text-center mb-10",children:[c.jsx("h1",{className:"text-4xl font-extrabold text-white",children:"Administrator Dashboard"}),c.jsxs("p",{className:"text-lg text-gray-400",children:["Welcome, ",r.name,"."]})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:[c.jsx(af,{title:"Total Clubs",value:t.length,delay:100,icon:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),c.jsx(af,{title:"Total Events",value:e.length,delay:200,icon:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),c.jsx(af,{title:"Student Body",value:v.length,delay:300,icon:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),c.jsx(af,{title:"Contributors",value:_.length,delay:400,icon:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.522 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),c.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg flex",children:[c.jsx(M,{tab:"management",children:"User Management"}),c.jsx(M,{tab:"analytics",children:"Analytics"})]}),c.jsxs("div",{className:"mt-8 animate-tab-content-enter",children:[l==="management"&&c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-lg p-6 space-y-4",children:[c.jsx("h2",{className:"text-xl font-bold text-white",children:"Assign Contributor Role"}),c.jsx("p",{className:"text-sm text-gray-400 italic",children:"Note: Role change requests are handled offline. Use this tool to update the application's contributor mapping."}),c.jsx("button",{onClick:()=>x(!0),className:"w-full bg-indigo-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-indigo-700 transition-colors",children:"Assign Role to Student"})]}),c.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-lg p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("h2",{className:"text-xl font-bold text-white",children:["Current Contributors (",S.length,")"]}),c.jsx("input",{type:"text",placeholder:"Filter by name or roll no...",value:h,onChange:Z=>f(Z.target.value),className:"px-3 py-1.5 bg-slate-800 border border-slate-600 rounded-md text-sm w-1/2"})]}),c.jsx("div",{className:"space-y-3 max-h-[50vh] overflow-y-auto pr-2",children:S.map((Z,Q)=>c.jsx(K7,{contributor:Z,clubs:t,onRevoke:a,currentUserId:r.id},Z.id))})]})]}),l==="analytics"&&c.jsxs("div",{className:"text-center bg-slate-900 p-12 rounded-lg border border-slate-800",children:[c.jsx("div",{className:"inline-block p-4 bg-yellow-500/10 rounded-full mb-4",children:c.jsx("svg",{className:"w-12 h-12 text-yellow-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),c.jsx("h2",{className:"text-3xl font-bold text-white",children:"Analytics Section Coming Soon!"}),c.jsx("p",{className:"mt-2 text-gray-400 max-w-lg mx-auto",children:"We are currently building a powerful analytics dashboard to provide insights into event popularity, user engagement, and club growth. Please check back later."})]}),l==="payments"&&c.jsx(G7,{user:r,clubs:t}),l==="phonepe"&&c.jsx("div",{className:"space-y-6",children:c.jsx(H7,{user:r,clubs:t})}),l==="eventpayments"&&c.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-lg p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-xl font-bold text-white",children:"Event Payments"}),c.jsx("button",{onClick:L,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",disabled:j,children:j?"Loading...":"Refresh"})]}),j?c.jsx("div",{className:"text-gray-400",children:"Loading payments..."}):w.length===0?c.jsx("div",{className:"text-gray-400",children:"No payments found."}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-slate-700",children:[c.jsx("th",{className:"py-2 text-left text-gray-400",children:"Event"}),c.jsx("th",{className:"py-2 text-left text-gray-400",children:"User"}),c.jsx("th",{className:"py-2 text-left text-gray-400",children:"Email"}),c.jsx("th",{className:"py-2 text-left text-gray-400",children:"Amount"}),c.jsx("th",{className:"py-2 text-left text-gray-400",children:"Payment ID"}),c.jsx("th",{className:"py-2 text-left text-gray-400",children:"Status"}),c.jsx("th",{className:"py-2 text-left text-gray-400",children:"Timestamp"})]})}),c.jsx("tbody",{children:w.map((Z,Q)=>c.jsxs("tr",{className:"border-b border-slate-800",children:[c.jsx("td",{className:"py-2 text-white",children:Z.eventName}),c.jsx("td",{className:"py-2 text-white",children:Z.userName}),c.jsx("td",{className:"py-2 text-gray-400",children:Z.userEmail}),c.jsxs("td",{className:"py-2 text-green-400 font-bold",children:["",Z.amount]}),c.jsx("td",{className:"py-2 text-xs text-gray-300",children:Z.paymentId}),c.jsx("td",{className:"py-2",children:c.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium bg-green-500/20 text-green-400",children:Z.paymentStatus})}),c.jsx("td",{className:"py-2 text-gray-400",children:Z.timestamp&&Z.timestamp.seconds?new Date(Z.timestamp.seconds*1e3).toLocaleString():""})]},Z.paymentId+Q))})]})})]})]})]})},h2={Technical:{glow:"animate-glow-indigo",border:"hover:border-indigo-500/80"},Cultural:{glow:"animate-glow-pink",border:"hover:border-pink-500/80"},Sports:{glow:"animate-glow-green",border:"hover:border-green-500/80"}},X7=({event:r,index:e})=>{const t=h2[r.category]||h2.Technical;return c.jsxs(rn,{to:`/annual-events/${r.id}`,className:`animate-card-enter group rounded-2xl overflow-hidden cursor-pointer bg-slate-900 shadow-lg transition-all duration-300 border-2 border-slate-800 ${t.border} hover:shadow-indigo-500/20 transform hover:-translate-y-2 flex flex-col`,style:{animationDelay:`${e*150}ms`},children:[c.jsx("div",{className:"overflow-hidden",children:c.jsx("img",{src:r.bannerUrl,alt:r.name,className:"w-full h-56 object-cover transition-transform duration-500 group-hover:scale-105"})}),c.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[c.jsx("h3",{className:"text-2xl font-extrabold tracking-tight text-white",children:r.name}),c.jsx("p",{className:"mt-2 text-gray-400 line-clamp-3 flex-grow",children:r.shortDescription}),c.jsx("div",{className:"mt-4 pt-4 border-t border-slate-800",children:c.jsxs("div",{className:"inline-flex items-center text-indigo-400 font-bold group-hover:text-indigo-300 transition-colors",children:[c.jsx("span",{children:"Explore History"}),c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-2 transform group-hover:translate-x-1 transition-transform",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]})]})},Q7=({annualEvents:r})=>c.jsxs("div",{className:"container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-16",children:[c.jsx(Pn,{title:"Annual Campus Festivals",subtitle:"Explore the legacy of our biggest and most celebrated events. These are the cornerstones of our campus tradition and spirit."}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map((e,t)=>c.jsx(X7,{event:e,index:t},e.id))})]}),J7=({members:r,onClose:e,isClosing:t})=>c.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 animate-backdrop-fade-in",onClick:e,children:c.jsxs("div",{className:`bg-slate-900 border border-slate-700 rounded-lg shadow-xl max-w-lg w-full max-h-[70vh] flex flex-col ${t?"animate-modal-content-exit":"animate-form-enter"}`,onClick:n=>n.stopPropagation(),children:[c.jsxs("div",{className:"p-5 border-b border-slate-700 flex justify-between items-center flex-shrink-0",children:[c.jsx("h3",{className:"text-xl font-bold text-white",children:"Full Organizing Committee"}),c.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white text-2xl",children:""})]}),c.jsx("div",{className:"p-6 overflow-y-auto",children:c.jsx("ul",{className:"space-y-3",children:r.map((n,s)=>c.jsxs("li",{className:"p-3 bg-slate-800/50 rounded-md",children:[c.jsx("p",{className:"font-semibold text-white",children:n.name}),c.jsx("p",{className:"text-sm text-indigo-400",children:n.position})]},s))})})]})}),Z7=({event:r})=>{const e=Bs();return c.jsxs("div",{onClick:()=>e(`/events/${r.id}`),className:"bg-slate-800/50 p-4 rounded-lg flex items-center justify-between gap-4 hover:bg-slate-800 transition-colors cursor-pointer border border-slate-700 hover:border-indigo-600",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-white",children:r.name}),c.jsx("p",{className:"text-sm text-gray-400",children:r.date})]}),c.jsx("button",{className:"flex-shrink-0 px-4 py-2 text-xs font-bold bg-indigo-600 rounded-lg hover:bg-indigo-700",children:"Register"})]})},eV=({rank:r})=>{const e={1:{icon:"",color:"text-yellow-400"},2:{icon:"",color:"text-gray-400"},3:{icon:"",color:"text-yellow-600"}},{icon:t,color:n}=e[r];return c.jsx("span",{className:`text-2xl ${n}`,children:t})},tV=({yearData:r,eventCategory:e,onOpenTeamModal:t})=>{const n=U.useMemo(()=>r.organizingTeam.filter(s=>s.imageUrl),[r.organizingTeam]);return c.jsxs("div",{className:"animate-fade-in-content bg-slate-900/50 p-6 md:p-8 rounded-2xl border border-slate-800 space-y-12",children:[r.theme&&c.jsxs("p",{className:"text-2xl font-semibold text-center text-indigo-400 italic mb-0",children:['Theme: "',r.theme,'"']}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-3xl font-bold text-white mb-4 border-l-4 border-indigo-500 pl-4",children:"Gallery Highlights"}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:r.highlightsGallery.previewImages.map((s,a)=>c.jsx("a",{href:r.highlightsGallery.fullGalleryLink,target:"_blank",rel:"noopener noreferrer",className:"overflow-hidden rounded-lg group aspect-w-1 aspect-h-1 block",children:c.jsx("img",{src:s,alt:`Highlight ${a+1}`,className:"object-cover w-full h-full transition-transform duration-300 group-hover:scale-110"})},a))}),c.jsx("a",{href:r.highlightsGallery.fullGalleryLink,target:"_blank",rel:"noopener noreferrer",className:"mt-4 inline-block text-indigo-400 hover:text-indigo-300 font-semibold",children:"View Full Gallery "})]}),r.chiefGuests.length>0&&c.jsxs("div",{children:[c.jsx("h3",{className:"text-3xl font-bold text-white mb-6 border-l-4 border-indigo-500 pl-4",children:e==="Sports"?"Presided By":"Chief Guests"}),c.jsx("div",{className:"space-y-8",children:r.chiefGuests.map(s=>c.jsx("div",{children:s.eventPhotos&&s.eventPhotos.length>0?c.jsxs("div",{className:"bg-slate-800/40 p-6 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-5 mb-4",children:[c.jsx("img",{src:s.profileImageUrl,alt:s.name,className:"w-20 h-20 rounded-full object-cover border-4 border-slate-700"}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-2xl font-bold text-white",children:s.name}),c.jsx("p",{className:"text-md text-indigo-400",children:s.title})]})]}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:s.eventPhotos.map((a,l)=>c.jsx("img",{src:a,alt:`${s.name} at the event`,className:"rounded-md object-cover w-full h-32 hover:scale-105 transition-transform"},l))})]}):c.jsxs("div",{className:"bg-slate-800/40 p-6 rounded-lg flex flex-col sm:flex-row items-center text-center sm:text-left gap-6",children:[c.jsx("img",{src:s.profileImageUrl,alt:s.name,className:"w-24 h-24 rounded-full object-cover border-4 border-slate-700 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-2xl font-bold text-white",children:s.name}),c.jsx("p",{className:"text-md text-indigo-400",children:s.title})]})]})},s.name))})]}),r.sportsCompetitions&&r.sportsCompetitions.length>0&&c.jsxs("div",{children:[c.jsx("h3",{className:"text-3xl font-bold text-white mb-6 border-l-4 border-green-500 pl-4",children:"Get in the Game"}),c.jsx("div",{className:"space-y-4",children:r.sportsCompetitions.map(s=>c.jsxs("div",{className:"bg-slate-800/40 p-4 rounded-lg flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("span",{className:"text-4xl mt-1",children:s.icon}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-white text-lg",children:s.name}),c.jsx("p",{className:"text-sm text-gray-400",children:s.description})]})]}),c.jsx("button",{onClick:()=>alert(`Registering for ${s.name}...`),disabled:!s.registrationOpen,className:"w-full sm:w-auto flex-shrink-0 px-5 py-2 text-sm font-bold rounded-lg transition-colors disabled:bg-slate-600 disabled:text-gray-400 disabled:cursor-not-allowed bg-green-600 hover:bg-green-700 text-white",children:s.registrationOpen?"Register Now":"Registration Closed"})]},s.id))})]}),r.performances&&r.performances.length>0&&c.jsxs("div",{children:[c.jsx("h3",{className:"text-3xl font-bold text-white mb-6 border-l-4 border-pink-500 pl-4",children:"Student Showcase"}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:r.performances.map(s=>c.jsxs("div",{className:"group relative rounded-lg overflow-hidden shadow-lg h-72 bg-slate-800",children:[c.jsx("img",{src:s.imageUrl,alt:s.performer,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"}),c.jsxs("div",{className:"absolute bottom-0 left-0 p-4 text-white",children:[c.jsx("h4",{className:"font-bold text-lg",children:s.performer}),c.jsx("p",{className:"text-sm opacity-90",children:s.description})]})]},s.performer))})]}),r.awardWinners&&r.awardWinners.length>0&&c.jsxs("div",{children:[c.jsx("h3",{className:"text-3xl font-bold text-white mb-6 border-l-4 border-yellow-500 pl-4",children:"Academic Excellence Awards"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.awardWinners.map(s=>c.jsxs("div",{className:"bg-slate-800/40 p-5 rounded-lg border border-slate-700/50",children:[c.jsx("h4",{className:"text-xl font-bold text-white mb-4 text-center",children:s.department}),c.jsx("ul",{className:"space-y-3",children:s.winners.map(a=>c.jsxs("li",{className:"flex items-center gap-4 bg-slate-900/50 p-3 rounded-md",children:[c.jsx(eV,{rank:a.rank}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-gray-200",children:a.name}),c.jsx("p",{className:"text-sm text-yellow-400",children:a.achievement})]})]},a.rank))})]},s.department))})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-3xl font-bold text-white mb-6 border-l-4 border-indigo-500 pl-4",children:"Organizing Team"}),c.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6 text-center",children:n.map(s=>c.jsxs("div",{children:[c.jsx("img",{src:s.imageUrl,alt:s.name,className:"w-24 h-24 rounded-full mx-auto object-cover border-4 border-slate-700"}),c.jsx("p",{className:"mt-2 font-semibold text-white",children:s.name}),c.jsx("p",{className:"text-xs text-indigo-400",children:s.position})]},s.name))}),r.organizingTeam.length>n.length&&c.jsx("div",{className:"text-center mt-8",children:c.jsx("button",{onClick:t,className:"px-6 py-2 bg-slate-700 text-white rounded-lg hover:bg-slate-600 transition-colors",children:"View Full Committee"})})]})]})},rV=({event:r,allEvents:e,allClubs:t})=>{var T;const n=U.useMemo(()=>r.yearlyData.sort((j,D)=>D.year-j.year),[r.yearlyData]),[s,a]=U.useState(((T=n[0])==null?void 0:T.year)||null),[l,u]=U.useState(!1),[h,f]=U.useState(!1),g=()=>{f(!0),setTimeout(()=>{u(!1),f(!1)},300)},x={Technical:{border:"border-indigo-500",text:"text-indigo-400"},Cultural:{border:"border-pink-500",text:"text-pink-400"},Sports:{border:"border-green-500",text:"text-green-400"}},v=U.useMemo(()=>n.find(j=>j.year===s),[s,n]),_=U.useMemo(()=>e.filter(j=>j.parentAnnualEventId===r.id),[e,r.id]),S=U.useMemo(()=>_.length===0?{}:_.reduce((j,D)=>{const L=D.organizerClubId;return j[L]||(j[L]=[]),j[L].push(D),j},{}),[_]),w=Object.keys(S);return c.jsxs("div",{children:[l&&v&&c.jsx(J7,{members:v.organizingTeam,onClose:g,isClosing:h}),c.jsxs("div",{className:"relative h-[60vh] flex flex-col items-start justify-end p-8 md:p-12 rounded-b-2xl overflow-hidden shadow-2xl",children:[c.jsx("div",{className:"absolute inset-0",children:c.jsx("img",{src:r.bannerUrl,alt:r.name,className:"w-full h-full object-cover kenburns-active"})}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"}),c.jsxs("div",{className:"relative z-10 animate-fade-in-content",children:[c.jsx("span",{className:`inline-block px-3 py-1 mb-2 text-sm font-semibold border-2 self-start rounded-full ${x[r.category].border} ${x[r.category].text}`,children:r.category}),c.jsx("h1",{className:"text-5xl md:text-7xl font-extrabold text-white tracking-tighter",children:r.name}),c.jsx("p",{className:"mt-2 max-w-2xl text-lg text-gray-300",children:r.shortDescription}),r.registrationEnabled&&c.jsx("button",{onClick:()=>alert("Registration flow initiated!"),className:"mt-6 bg-indigo-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-indigo-700 transition-colors shadow-lg",children:r.id==="bhaswara"?"Register for Events Below":"Register / Join a Team"})]})]}),c.jsxs("div",{className:"container mx-auto max-w-5xl px-4 sm:px-6 lg:px-8 py-16",children:[c.jsx("section",{className:"mb-16",children:c.jsxs("div",{className:"relative bg-slate-900 rounded-2xl border border-slate-800 overflow-hidden p-8 md:p-12",children:[c.jsx("div",{className:"absolute inset-0 z-0 opacity-10",children:c.jsx("img",{src:r.bannerUrl,alt:"",className:"w-full h-full object-cover filter blur-md scale-110"})}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900 via-slate-900/80 to-slate-900 z-0"}),c.jsxs("div",{className:"relative z-10",children:[c.jsx(Pn,{title:"Significance of the Fest"}),c.jsx("p",{className:"text-gray-400 text-lg leading-relaxed text-center max-w-3xl mx-auto",children:r.longDescription})]})]})}),_.length>0&&c.jsxs("section",{className:"mb-16",children:[c.jsx(Pn,{title:"Departmental Fests",subtitle:`Explore events hosted by various clubs as part of ${r.name}.`}),c.jsx("div",{className:"space-y-8",children:w.map(j=>{const D=t.find(L=>L.id===j);return D?c.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-2xl border border-slate-800",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[c.jsx("img",{src:D.logoUrl,alt:D.name,className:"w-14 h-14 rounded-full"}),c.jsxs("h3",{className:"text-2xl font-bold text-white",children:[D.name," Events"]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:S[j].map(L=>c.jsx(Z7,{event:L},L.id))})]},j):null})})]}),c.jsxs("section",{children:[c.jsx(Pn,{title:"Yearly Archives",subtitle:"Relive the moments from previous editions."}),c.jsx("div",{className:"flex justify-center flex-wrap gap-3 mb-8",children:n.map(j=>c.jsx("button",{onClick:()=>a(j.year),className:`px-6 py-2 rounded-full font-semibold transition-all duration-300 border-2 ${s===j.year?"bg-indigo-600 border-indigo-500 text-white shadow-lg shadow-indigo-500/20":"bg-slate-800 border-slate-700 text-gray-300 hover:bg-slate-700 hover:border-slate-600"}`,children:j.year},j.year))}),v&&c.jsx(tV,{yearData:v,eventCategory:r.category,onOpenTeamModal:()=>u(!0)})]})]})]})},nV=r=>{const e=new Date(r),t=Math.floor((new Date().getTime()-e.getTime())/1e3);let n=t/31536e3;return n>1?Math.floor(n)+" years ago":(n=t/2592e3,n>1?Math.floor(n)+" months ago":(n=t/86400,n>1?Math.floor(n)+" days ago":(n=t/3600,n>1?Math.floor(n)+" hours ago":(n=t/60,n>1?Math.floor(n)+" minutes ago":Math.floor(t)+" seconds ago"))))},sV=({type:r})=>{const e="w-6 h-6";switch(r){case"application-accepted":case"event-winner":case"access-granted":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`${e} text-green-400`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})});case"application-rejected":case"access-revoked":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`${e} text-red-400`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})});case"info":default:return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`${e} text-indigo-400`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}},iV=({notifications:r,onMarkAsRead:e})=>{const[t,n]=U.useState("all"),s=Bs(),a=U.useMemo(()=>{const u=[...r].sort((h,f)=>new Date(f.timestamp).getTime()-new Date(h.timestamp).getTime());return t==="unread"?u.filter(h=>!h.isRead):u},[r,t]),l=u=>{u.isRead||e(u.id),u.link&&s(u.link)};return c.jsxs("div",{className:"container mx-auto max-w-4xl px-4 sm:px-6 lg:px-8 py-16",children:[c.jsx(Pn,{title:"All Notifications",subtitle:"View and manage all your past and present notifications."}),c.jsxs("div",{className:"flex justify-center mb-6 bg-slate-900/50 p-1 rounded-lg border border-slate-800 max-w-xs mx-auto",children:[c.jsx("button",{onClick:()=>n("all"),className:`flex-1 py-2 text-sm font-semibold rounded-md transition-colors ${t==="all"?"bg-indigo-600 text-white":"text-gray-400 hover:bg-slate-800"}`,children:"All"}),c.jsx("button",{onClick:()=>n("unread"),className:`flex-1 py-2 text-sm font-semibold rounded-md transition-colors ${t==="unread"?"bg-indigo-600 text-white":"text-gray-400 hover:bg-slate-800"}`,children:"Unread"})]}),c.jsx("div",{className:"space-y-3",children:a.length>0?a.map(u=>c.jsx("button",{onClick:()=>l(u),className:"w-full text-left p-4 hover:bg-slate-800/80 transition-colors border border-slate-800 bg-slate-900 rounded-lg",children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"flex-shrink-0 mt-1",children:c.jsx(sV,{type:u.type})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-md text-gray-300",children:u.message}),c.jsx("p",{className:`mt-1 text-xs font-bold ${u.isRead?"text-gray-500":"text-indigo-400"}`,children:nV(u.timestamp)})]}),!u.isRead&&c.jsx("div",{className:"flex-shrink-0 mt-1 self-center",children:c.jsx("span",{className:"w-2.5 h-2.5 bg-indigo-500 rounded-full block animate-pulse"})})]})},u.id)):c.jsx("div",{className:"text-center bg-slate-900 p-8 rounded-lg",children:c.jsxs("p",{className:"text-gray-400",children:["No ",t==="unread"?"unread":""," notifications found."]})})})]})},aV=()=>{const{pathname:r}=ll();return U.useEffect(()=>{window.scrollTo(0,0)},[r]),null},oV=()=>c.jsxs("div",{className:"min-h-screen bg-slate-950 flex flex-col items-center justify-center text-white",children:[c.jsxs("svg",{className:"animate-spin h-10 w-10 text-indigo-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),c.jsx("p",{className:"mt-4 text-lg",children:"Loading Campus Hub..."})]}),lV=()=>{const[r,e]=U.useState(null),[t,n]=U.useState(!0),[s,a]=U.useState([]),[l,u]=U.useState([]),[h,f]=U.useState([]),[g,x]=U.useState([]),[v,_]=U.useState([]),[S,w]=U.useState([]),[T,j]=U.useState([]),[D,L]=U.useState([]),[M,Z]=U.useState([]),Q=Bs();ll();const[N,I]=U.useState([]);U.useEffect(()=>{const he=Hh.onAuthStateChanged(async Ne=>{if(Ne){const Be=await w_(Ne);Be&&e(Be)}else e(null)});return()=>he()},[]),U.useEffect(()=>{(async()=>{n(!0);try{const[Ne,Be,nt,pt,yt,sr,Ht,cn,Ft]=await Promise.all([rr.getEvents(),rr.getClubs(),rr.getLeadership(),rr.getAnnualEvents(),rr.getUsers(),rr.getNews(),rr.getExternalEvents(),rr.getNotifications(),rr.getApplications()]);a(Ne),u(Be),j(nt),_(pt),x(yt),L(sr),Z(Ht),w(cn),f(Ft)}catch(Ne){console.error("Failed to fetch initial data:",Ne);try{const[Be,nt,pt,yt,sr,Ht,cn,Ft,$t]=await Promise.all([CC(),AC(),kC(),RC(),IC(),PC(),jC(),DC(),OC()]);a(Be),console.log("Events after mock fetch:",Be),u(nt),j(pt),_(yt),x(sr),L(Ht),Z(cn),w(Ft),f($t)}catch(Be){console.error("Failed to fetch fallback data:",Be)}}finally{n(!1)}})()},[]),U.useEffect(()=>r?ND({onEventsUpdate:Ne=>{Ne&&Ne.length>0?a(Ne):Ne.length===0&&s.length>0?console.warn("Prevented overwriting events with empty array"):a(Ne)},onClubsUpdate:u,onLeadershipUpdate:j,onAnnualEventsUpdate:_,onNewsUpdate:L,onExternalEventsUpdate:Z,onNotificationsUpdate:w,onApplicationsUpdate:f,onUsersUpdate:x},r.id,r.role==="admin"):void 0,[r]),U.useEffect(()=>{r?(async()=>{const Ne=[];for(const Be of l)for(const nt of s.filter(pt=>pt.organizerClubId===Be.id))(await br.getUserRegistrations(r.id,Be.id,nt.id)).filter(yt=>yt.status!=="cancelled").forEach(yt=>Ne.push(yt.eventId));I(Ne)})().catch(Ne=>{console.error("Error loading user registrations:",Ne)}):I([])},[r,l,s]);const[A,P]=U.useState({ev101:42,ev102:18,ev201:153}),F=async(he,Ne)=>{try{const{user:Be}=await Hh.signIn(he,Ne),nt=await w_(Be);if(nt)e(nt),Q("/");else throw new Error("Could not get user profile.")}catch(Be){throw new Error(Be.message||"Login failed")}},V=async he=>{try{const{email:Ne,password:Be,name:nt,...pt}=he,{user:yt}=await Hh.signUp(Ne,Be),sr=await yn.createUserProfile(yt,{name:nt,email:yt.email||"",role:"student",...pt});if(sr)e(sr),Q("/");else throw new Error("Could not create user profile.")}catch(Ne){throw new Error(Ne.message||"Registration failed")}},O=async he=>{try{const Ne=$n.currentUser;if(!Ne)throw new Error("No authenticated user found");const Be=await yn.createUserProfile(Ne,{name:he.name,email:Ne.email||"",role:"student",...he});if(Be)e(Be),Q("/");else throw new Error("Could not create user profile.")}catch(Ne){throw new Error(Ne.message||"Profile creation failed")}},$e=he=>{const Ne={id:`guest_${Date.now()}`,name:he.name,email:he.email,mobile:he.phone,year:he.year,branch:he.department,collegeName:he.college,role:"guest",isGuest:!0};e(Ne),Q("/")},je=async()=>{try{await Hh.signOut(),e(null),Q("/")}catch(he){console.error("Logout error:",he),e(null),Q("/")}},Te=he=>{I(Ne=>[...Ne,he]),P(Ne=>({...Ne,[he]:(Ne[he]||0)+1})),alert("Registration successful!")},Ge=U.useCallback(()=>{r&&(async()=>{const Ne=[];for(const Be of l)for(const nt of s.filter(pt=>pt.organizerClubId===Be.id))(await br.getUserRegistrations(r.id,Be.id,nt.id)).filter(yt=>yt.status!=="cancelled").forEach(yt=>Ne.push(yt.eventId));I(Ne)})().catch(Ne=>{console.error("Error refreshing registrations:",Ne)})},[r,l,s]),Se=he=>{alert("Creating event")},pe=he=>{alert("Updated event successfully")},Y=async he=>{try{await rr.updateClub(he.id,he);const Ne=await rr.getClubs();u(Ne),alert("Club details updated successfully!")}catch(Ne){console.error("Error updating club:",Ne),alert(Ne.message||"Failed to update club")}},se=async(he,Ne,Be)=>{try{Be==="accepted"?await Eg.acceptAndPromote(he,Ne.id):await Eg.updateStatus(he,Ne.id,Be)}catch(nt){console.error("Failed to update application status",nt),alert("Failed to update status");return}try{const nt=await rr.getClubApplications(he);f(pt=>[...pt.filter(sr=>sr.clubId!==he),...nt])}catch(nt){console.warn("Status updated, but failed to refresh list",nt)}},W=async he=>{try{const Ne=await rr.createClubApplication(he.clubId,{userId:he.userId,userName:he.userName,userImageUrl:he.userImageUrl,userEmail:he.userEmail,userYear:he.userYear,userBranch:he.userBranch,userMobile:he.userMobile,status:he.status,answers:he.answers});f(Be=>[Ne,...Be])}catch(Ne){console.error("Error creating application:",Ne),alert(Ne.message||"Failed to submit application")}},ee=async(he,Ne)=>{if(!(r!=null&&r.id)){alert("You must be logged in to assign contributor roles");return}try{if(await CD(he,Ne,r.id)){const nt=await rr.getUsers();x(nt),alert("Contributor role assigned successfully!")}else alert("Failed to assign contributor role. Please try again.")}catch(Be){console.error("Error assigning contributor role:",Be),alert(`Error: ${Be.message||"Failed to assign contributor role"}`)}},J=async(he,Ne)=>{if(!(r!=null&&r.id)){alert("You must be logged in as admin to create a club");return}try{const Be=await kD(he,Ne,r.id),[nt,pt]=await Promise.all([rr.getClubs(),rr.getUsers()]);u(nt),x(pt),alert(`Club "${Be.name}" created successfully!`),Q(`/clubs/${Be.id}`)}catch(Be){console.error("Error creating club:",Be),alert(`Error: ${Be.message||"Failed to create club"}`)}},te=async(he,Ne)=>{if(!(r!=null&&r.id)){alert("You must be logged in to revoke contributor roles");return}try{let Be;if(Ne?Be=await zx(he,Ne,r.id):Be=await $x(he,r.id),Be){const nt=await rr.getUsers();x(nt),alert("Contributor access revoked successfully!")}else alert("Failed to revoke contributor access. Please try again.")}catch(Be){console.error("Error revoking contributor access:",Be),alert(`Error: ${Be.message||"Failed to revoke contributor access"}`)}},ce=(he,Ne)=>{alert("Update highlights not implemented")},be=he=>{alert("Mark as read not implemented")},Pe=he=>{alert("Mark all as read not implemented")},Me=async(he,Ne)=>{if(!(r!=null&&r.id)){alert("You must be logged in to manage club members");return}try{if(await AD(he,Ne,r.id)){const nt=await rr.getClubs();u(nt),alert("Member added successfully!")}else alert("Failed to add member. Please try again.")}catch(Be){console.error("Error adding club member:",Be),alert(`Error: ${Be.message||"Failed to add member"}`)}},Fe=async(he,Ne)=>{if(!(r!=null&&r.id)){alert("You must be logged in to manage club members");return}try{if(await ID(he,Ne,r.id)){const nt=await rr.getClubs();u(nt),alert("Member removed successfully!")}else alert("Failed to remove member. Please try again.")}catch(Be){console.error("Error removing club member:",Be),alert(`Error: ${Be.message||"Failed to remove member"}`)}},mt=async(he,Ne,Be)=>{u(nt=>nt.map(pt=>pt.id===he?{...pt,team:pt.team.map(yt=>yt.id===Ne?{...yt,...Be}:yt)}:pt))};if(t)return c.jsx(oV,{});if(!r)return c.jsx(U7,{onLogin:F,onRegisterAndLogin:V,onCreateProfileForExistingUser:O,onUserRegistered:e,onGuestLogin:$e});const ot=S.filter(he=>he.userId===(r==null?void 0:r.id)),zt=()=>{const{clubId:he}=xp();if(!he)return c.jsx($o,{to:"/clubs",replace:!0});const Ne=l.find(yt=>yt.id===he);if(!Ne)return c.jsx($o,{to:"/clubs",replace:!0});const[Be,nt]=U.useState([]);U.useEffect(()=>{let yt=!0;return(async()=>{try{const Ht=await rr.getClubApplications(Ne.id);yt&&nt(Ht)}catch(Ht){console.error("Failed to load club applications",Ht),yt&&nt([])}})(),()=>{yt=!1}},[Ne.id,h]);const pt=s.filter(yt=>yt.organizerClubId===Ne.id);return c.jsx(n7,{club:Ne,clubEvents:pt,setEvents:a,user:r,applications:Be,allUsers:g,onUpdateClub:Y,onApplicationStatusChange:se,onNewApplication:W,onCreateEvent:Se,onUpdateEvent:pe,registrations:A,onAddClubMember:Me,onRemoveClubMember:Fe,onUpdateClubMember:mt})},ct=()=>{const{eventId:he}=xp();if(!he)return c.jsx($o,{to:"/events",replace:!0});const Ne=s.find(Be=>Be.id===he);return Ne?c.jsx(y7,{event:Ne,clubs:l,user:r,registeredEventIds:N,onRegister:Te,onUpdateEventHighlights:ce,onUpdateEvent:pe,onRegistrationUpdate:Ge}):c.jsx($o,{to:"/events",replace:!0})},xr=()=>{const{eventId:he}=xp();if(!he)return c.jsx($o,{to:"/annual-events",replace:!0});const Ne=v.find(Be=>Be.id===he);return Ne?c.jsx(rV,{event:Ne,allEvents:s,allClubs:l}):c.jsx($o,{to:"/annual-events",replace:!0})},Tt=()=>r.role==="admin"?c.jsx(Y7,{user:r,clubs:l,events:s,allUsers:g,onAssignRole:ee,onRevokeRole:te}):c.jsx(W7,{user:r,onLogout:je,events:s,clubs:l,applications:h,registeredEventIds:N});return c.jsxs("div",{className:"font-sans min-h-screen flex flex-col",children:[c.jsx(DD,{user:r,onLogout:je,applications:h,notifications:ot,onMarkAsRead:be,onMarkAllAsRead:()=>Pe(r.id)}),c.jsxs("main",{className:"flex-1",children:[c.jsx(aV,{}),c.jsx("div",{className:"animate-fadeIn",children:c.jsxs(oC,{children:[c.jsx(xs,{path:"/",element:c.jsx(QD,{events:s,clubs:l,leadership:T})}),c.jsx(xs,{path:"/clubs",element:c.jsx(a7,{clubs:l,user:r,allUsers:g,applications:h,onCreateClub:J})}),c.jsx(xs,{path:"/clubs/:clubId",element:c.jsx(zt,{})}),c.jsx(xs,{path:"/events",element:c.jsx(s5,{events:s,clubs:l})}),c.jsx(xs,{path:"/events/:eventId",element:c.jsx(ct,{})}),c.jsx(xs,{path:"/annual-events",element:c.jsx(Q7,{annualEvents:v})}),c.jsx(xs,{path:"/annual-events/:eventId",element:c.jsx(xr,{})}),c.jsx(xs,{path:"/opportunities",element:c.jsx(w7,{externalEvents:M})}),c.jsx(xs,{path:"/news",element:c.jsx(B7,{news:D})}),c.jsx(xs,{path:"/profile",element:c.jsx(Tt,{})}),c.jsx(xs,{path:"/notifications",element:c.jsx(iV,{notifications:ot,onMarkAsRead:be})}),c.jsx(xs,{path:"*",element:c.jsx($o,{to:"/",replace:!0})})]})})]}),c.jsx(OD,{})]})},sS=document.getElementById("root");if(!sS)throw new Error("Could not find root element to mount to");const cV=xN.createRoot(sS);cV.render(c.jsx(mC,{children:c.jsx(lV,{})}));
